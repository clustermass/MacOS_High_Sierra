!function(){"use strict";function t(t){if("clipboard"in navigator)return navigator.clipboard.writeText(t.textContent);const e=getSelection();if(null==e)return Promise.reject(new Error);e.removeAllRanges();const n=document.createRange();return n.selectNodeContents(t),e.addRange(n),document.execCommand("copy"),e.removeAllRanges(),Promise.resolve()}function e(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);const n=document.body;if(!n)return Promise.reject(new Error);const o=function(t){const e=document.createElement("pre");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="5px",e.textContent=t,e}(e);return n.appendChild(o),t(o),n.removeChild(o),Promise.resolve()}function n(n){const o=n.getAttribute("for"),r=n.getAttribute("value");function i(){n.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(r)e(r).then(i);else if(o){const r=n.ownerDocument.getElementById(o);r&&(s=r,s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement?"hidden"===s.type?e(s.value):function(t){if("clipboard"in navigator)return navigator.clipboard.writeText(t.value);t.select(),document.execCommand("copy");const e=getSelection();return null!=e&&e.removeAllRanges(),Promise.resolve()}(s):s instanceof HTMLAnchorElement&&s.hasAttribute("href")?e(s.href):t(s)).then(i)}var s}function o(t){const e=t.currentTarget;e instanceof HTMLElement&&n(e)}function r(t){if(" "===t.key||"Enter"===t.key){const e=t.currentTarget;e instanceof HTMLElement&&(t.preventDefault(),n(e))}}function i(t){t.currentTarget.addEventListener("keydown",r)}function s(t){t.currentTarget.removeEventListener("keydown",r)}class ClipboardCopyElement extends HTMLElement{constructor(){super(),this.addEventListener("click",o),this.addEventListener("focus",i),this.addEventListener("blur",s)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}}window.customElements.get("clipboard-copy")||(window.ClipboardCopyElement=ClipboardCopyElement,window.customElements.define("clipboard-copy",ClipboardCopyElement));function a(t){let e=Array.from(t.querySelectorAll("[autofocus]")).filter(l)[0];e||(e=t,t.setAttribute("tabindex","-1")),e.focus()}function c(t){const e=t.currentTarget;e instanceof Element&&("Escape"===t.key||"Esc"===t.key?(m(e,!1),t.stopPropagation()):"Tab"===t.key&&function(t){if(!(t.currentTarget instanceof Element))return;const e=t.currentTarget.querySelector("details-dialog");if(!e)return;t.preventDefault();const n=Array.from(e.querySelectorAll("*")).filter(l);if(0===n.length)return;const o=t.shiftKey?-1:1,r=e.contains(document.activeElement)?document.activeElement:null;let i=-1===o?-1:0;if(r){const t=n.indexOf(r);-1!==t&&(i=t+o)}i<0?i=n.length-1:i%=n.length;n[i].focus()}(t))}function l(t){return t.tabIndex>=0&&!t.disabled&&function(t){return!t.hidden&&(!t.type||"hidden"!==t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}(t)}function u(t){const e=t.querySelector("details-dialog");return!(e instanceof DetailsDialogElement)||e.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function d(t){if(!(t.currentTarget instanceof Element))return;const e=t.currentTarget.closest("details");e&&e.hasAttribute("open")&&(u(e)||(t.preventDefault(),t.stopPropagation()))}function f(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.querySelector("details-dialog");if(n instanceof DetailsDialogElement)if(e.hasAttribute("open"))document.activeElement&&v.set(n,{details:e,activeElement:document.activeElement}),a(n),e.addEventListener("keydown",c);else{for(const e of n.querySelectorAll("form"))e instanceof HTMLFormElement&&e.reset();const t=function(t,e){const n=v.get(e);return n&&n.activeElement instanceof HTMLElement?n.activeElement:t.querySelector("summary")}(e,n);t&&t.focus(),e.removeEventListener("keydown",c)}}function m(t,e){e!==t.hasAttribute("open")&&(e?t.setAttribute("open",""):u(t)&&t.removeAttribute("open"))}function h(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.querySelector("details-dialog");if(!(n instanceof DetailsDialogElement))return;const o=n.querySelector("include-fragment:not([src])");if(!o)return;const r=n.src;null!==r&&(o.addEventListener("loadend",()=>{e.hasAttribute("open")&&a(n)}),o.setAttribute("src",r))}function p(t,e,n){g(t),e&&t.addEventListener("toggle",h,{once:!0}),e&&n&&t.addEventListener("mouseover",h,{once:!0})}function g(t){t.removeEventListener("toggle",h),t.removeEventListener("mouseover",h)}const v=new WeakMap;class DetailsDialogElement extends HTMLElement{static get CLOSE_ATTR(){return"data-close-dialog"}static get CLOSE_SELECTOR(){return"[data-close-dialog]"}constructor(){super(),v.set(this,{details:null,activeElement:null}),this.addEventListener("click",(function(t){let e=t.target;if(!(e instanceof Element))return;const n=e.closest("details");n&&e.closest("[data-close-dialog]")&&m(n,!1)}))}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",t)}get preload(){return this.hasAttribute("preload")}set preload(t){t?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");const t=v.get(this);if(!t)return;const e=this.parentElement;if(!e)return;const n=e.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",d,{capture:!0})),e.addEventListener("toggle",f),t.details=e,p(e,this.src,this.preload)}disconnectedCallback(){const t=v.get(this);if(!t)return;const e=t.details;if(!e)return;e.removeEventListener("toggle",f),g(e);const n=e.querySelector("summary");n&&n.removeEventListener("click",d,{capture:!0}),t.details=null}toggle(t){const e=v.get(this);if(!e)return;const n=e.details;n&&m(n,t)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){const t=v.get(this);if(!t)return;const e=t.details;e&&p(e,this.src,this.preload)}}window.customElements.get("details-dialog")||(window.DetailsDialogElement=DetailsDialogElement,window.customElements.define("details-dialog",DetailsDialogElement));class DetailsMenuElement extends HTMLElement{constructor(){super()}get preload(){return this.hasAttribute("preload")}set preload(t){t?this.setAttribute("preload",""):this.removeAttribute("preload")}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","menu");const t=this.parentElement;if(!t)return;const e=t.querySelector("summary");e&&(e.setAttribute("aria-haspopup","menu"),e.hasAttribute("role")||e.setAttribute("role","button"));const n=[y(t,"compositionstart",t=>C(this,t)),y(t,"compositionend",t=>C(this,t)),y(t,"click",e=>x(t,this,e)),y(t,"change",e=>x(t,this,e)),y(t,"keydown",e=>function(t,e,n){if(!(n instanceof KeyboardEvent))return;if(t.querySelector("details[open]"))return;const o=w.get(e);if(!o||o.isComposing)return;const r=n.target instanceof Element&&"SUMMARY"===n.target.tagName;switch(n.key){case"Escape":t.hasAttribute("open")&&(M(t),n.preventDefault(),n.stopPropagation());break;case"ArrowDown":{r&&!t.hasAttribute("open")&&t.setAttribute("open","");const e=k(t,!0);e&&e.focus(),n.preventDefault()}break;case"ArrowUp":{r&&!t.hasAttribute("open")&&t.setAttribute("open","");const e=k(t,!1);e&&e.focus(),n.preventDefault()}break;case"n":if(j&&n.ctrlKey){const e=k(t,!0);e&&e.focus(),n.preventDefault()}break;case"p":if(j&&n.ctrlKey){const e=k(t,!1);e&&e.focus(),n.preventDefault()}break;case" ":case"Enter":{const e=document.activeElement;e&&A(e)&&e.closest("details")===t&&(n.preventDefault(),n.stopPropagation(),e.click())}}}(t,this,e)),y(t,"toggle",()=>E(t,this),{once:!0}),y(t,"toggle",()=>function(t){if(!t.hasAttribute("open"))return;for(const e of document.querySelectorAll("details[open] > details-menu")){const n=e.closest("details");n&&n!==t&&!n.contains(t)&&n.removeAttribute("open")}}(t)),this.preload?y(t,"mouseover",()=>E(t,this),{once:!0}):b,...L(t)];w.set(this,{subscriptions:n,loaded:!1,isComposing:!1})}disconnectedCallback(){const t=w.get(this);if(t){w.delete(this);for(const e of t.subscriptions)e.unsubscribe()}}}const w=new WeakMap,b={unsubscribe(){}};function y(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,n,o),{unsubscribe:()=>{t.removeEventListener(e,n,o)}}}function E(t,e){const n=e.getAttribute("src");if(!n)return;const o=w.get(e);if(!o)return;if(o.loaded)return;o.loaded=!0;const r=e.querySelector("include-fragment");r&&!r.hasAttribute("src")&&(r.addEventListener("loadend",()=>T(t)),r.setAttribute("src",n))}function L(t){let e=!1;return[y(t,"mousedown",()=>e=!0),y(t,"keydown",()=>e=!1),y(t,"toggle",()=>{t.hasAttribute("open")&&(T(t)||e||function(t){const e=document.activeElement;if(e&&A(e)&&t.contains(e))return;const n=k(t,!0);n&&n.focus()}(t))})]}function T(t){if(!t.hasAttribute("open"))return!1;const e=t.querySelector("[autofocus]");return!!e&&(e.focus(),!0)}function k(t,e){const n=Array.from(t.querySelectorAll('[role^="menuitem"]:not([hidden]):not([disabled]):not([aria-disabled="true"])')),o=document.activeElement,r=n.indexOf(o),i=e?n[r+1]:n[r-1],s=e?n[0]:n[n.length-1];return i||s}const j=navigator.userAgent.match(/Macintosh/);function x(t,e,n){const o=n.target;if(o instanceof Element&&o.closest("details")===t)if("click"===n.type){const e=o.closest('[role="menuitem"], [role="menuitemradio"]'),n=e&&"LABEL"===e.tagName&&e.querySelector("input");e&&!n&&S(e,t)}else if("change"===n.type){const e=o.closest('[role="menuitemradio"], [role="menuitemcheckbox"]');e&&S(e,t)}}function S(t,e){if(t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled"))return;const n=t.closest("details-menu");n&&n.dispatchEvent(new CustomEvent("details-menu-select",{cancelable:!0,detail:{relatedTarget:t}}))&&(!function(t,e){const n=e.querySelector("[data-menu-button]");if(!n)return;const o=function(t){if(!t)return null;const e=t.hasAttribute("data-menu-button-text")?t:t.querySelector("[data-menu-button-text]");return e?e.getAttribute("data-menu-button-text")||e.textContent:null}(t);if(o)n.textContent=o;else{const e=function(t){if(!t)return null;const e=t.hasAttribute("data-menu-button-contents")?t:t.querySelector("[data-menu-button-contents]");return e?e.innerHTML:null}(t);e&&(n.innerHTML=e)}}(t,e),function(t,e){for(const n of e.querySelectorAll('[role="menuitemradio"], [role="menuitemcheckbox"]')){const e=n.querySelector('input[type="radio"], input[type="checkbox"]');let o=n===t;e instanceof HTMLInputElement&&(o=e.indeterminate?"mixed":e.checked),n.setAttribute("aria-checked",o.toString())}}(t,e),"menuitemcheckbox"!==t.getAttribute("role")&&M(e),n.dispatchEvent(new CustomEvent("details-menu-selected",{detail:{relatedTarget:t}})))}function A(t){const e=t.getAttribute("role");return"menuitem"===e||"menuitemcheckbox"===e||"menuitemradio"===e}function M(t){if(!t.hasAttribute("open"))return;t.removeAttribute("open");const e=t.querySelector("summary");e&&e.focus()}function C(t,e){const n=w.get(t);n&&(n.isComposing="compositionstart"===e.type)}window.customElements.get("details-menu")||(window.DetailsMenuElement=DetailsMenuElement,window.customElements.define("details-menu",DetailsMenuElement));class H{constructor(t,e){this.file=t,this.directory=e,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(t,e){return function(t,e){if(e&&function(t){return t.items&&Array.from(t.items).some(t=>{const e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory})}(t))return async function t(e,n){const o=[];for(const r of q(n))if(r.isDirectory)o.push(...await t(r.fullPath,await D(r)));else{const t=await I(r);o.push(new H(t,e))}return o}("",function(t){return Array.from(t.items).map(t=>t.webkitGetAsEntry()).filter(t=>null!=t)}(t));return Promise.resolve(q(Array.from(t.files)).map(t=>new H(t)))}(t,e)}static from(t){const e=[];for(const n of t)if(n instanceof File)e.push(new H(n));else{if(!(n instanceof H))throw new Error("Unexpected type");e.push(n)}return e}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}saving(t){if("pending"!==this.state&&"saving"!==this.state)throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=t}saved(t){var e,n,o;if("pending"!==this.state&&"saving"!==this.state)throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null,this.href=null!==(n=null==t?void 0:t.href)&&void 0!==n?n:null,this.name=null!==(o=null==t?void 0:t.name)&&void 0!==o?o:null}isPending(){return"pending"===this.state}isSaving(){return"saving"===this.state}isSaved(){return"saved"===this.state}}function q(t){return Array.from(t).filter(t=>!function(t){return t.name.startsWith(".")}(t))}function I(t){return new Promise((function(e,n){t.file(e,n)}))}function D(t){return new Promise((function(e,n){const o=[],r=t.createReader(),i=()=>{r.readEntries(t=>{t.length>0?(o.push(...t),i()):e(o)},n)};i()}))}class FileAttachmentElement extends HTMLElement{constructor(){super(),this.addEventListener("dragenter",O),this.addEventListener("dragover",O),this.addEventListener("dragleave",P),this.addEventListener("drop",$),this.addEventListener("paste",B),this.addEventListener("change",F)}get directory(){return this.hasAttribute("directory")}set directory(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(t){const e=t instanceof DataTransfer?await H.traverse(t,this.directory):H.from(t);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:e}}))&&e.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:e}}))}}function N(t){return Array.from(t.types).indexOf("Files")>=0}let _=null;function O(t){const e=t.currentTarget;_&&clearTimeout(_),_=window.setTimeout(()=>e.removeAttribute("hover"),200);const n=t.dataTransfer;n&&N(n)&&(n.dropEffect="copy",e.setAttribute("hover",""),t.stopPropagation(),t.preventDefault())}function P(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function $(t){const e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;e.removeAttribute("hover");const n=t.dataTransfer;n&&N(n)&&(e.attach(n),t.stopPropagation(),t.preventDefault())}const R=/^image\/(gif|png|jpeg)$/;function B(t){if(!t.clipboardData)return;if(!t.clipboardData.items)return;const e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;const n=function(t){for(const e of t)if(R.test(e.type))return e.getAsFile();return null}(t.clipboardData.items);if(!n)return;const o=[n];e.attach(o),t.preventDefault()}function F(t){const e=t.currentTarget;if(!(e instanceof FileAttachmentElement))return;const n=t.target;if(!(n instanceof HTMLInputElement))return;const o=e.getAttribute("input");if(!o||n.id!==o)return;const r=n.files;r&&0!==r.length&&(e.attach(r),n.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=FileAttachmentElement,window.customElements.define("file-attachment",FileAttachmentElement));const U=new Set(["ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ¦µ","ðŸ¦¶","ðŸ‘‚","ðŸ¦»","ðŸ‘ƒ","ðŸ‘¶","ðŸ§’","ðŸ‘¦","ðŸ‘§","ðŸ§‘","ðŸ‘±","ðŸ‘¨","ðŸ§”","ðŸ‘±â€â™‚ï¸","ðŸ‘¨â€ðŸ¦°","ðŸ‘¨â€ðŸ¦±","ðŸ‘¨â€ðŸ¦³","ðŸ‘¨â€ðŸ¦²","ðŸ‘©","ðŸ‘±â€â™€ï¸","ðŸ‘©â€ðŸ¦°","ðŸ‘©â€ðŸ¦±","ðŸ‘©â€ðŸ¦³","ðŸ‘©â€ðŸ¦²","ðŸ§“","ðŸ‘´","ðŸ‘µ","ðŸ™","ðŸ™â€â™‚ï¸","ðŸ™â€â™€ï¸","ðŸ™Ž","ðŸ™Žâ€â™‚ï¸","ðŸ™Žâ€â™€ï¸","ðŸ™…","ðŸ™…â€â™‚ï¸","ðŸ™…â€â™€ï¸","ðŸ™†","ðŸ™†â€â™‚ï¸","ðŸ™†â€â™€ï¸","ðŸ’","ðŸ’â€â™‚ï¸","ðŸ’â€â™€ï¸","ðŸ™‹","ðŸ™‹â€â™‚ï¸","ðŸ™‹â€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ™‡","ðŸ™‡â€â™‚ï¸","ðŸ™‡â€â™€ï¸","ðŸ¤¦","ðŸ¤¦â€â™‚ï¸","ðŸ¤¦â€â™€ï¸","ðŸ¤·","ðŸ¤·â€â™‚ï¸","ðŸ¤·â€â™€ï¸","ðŸ‘¨â€âš•ï¸","ðŸ‘©â€âš•ï¸","ðŸ‘¨â€ðŸŽ“","ðŸ‘©â€ðŸŽ“","ðŸ‘¨â€ðŸ«","ðŸ‘©â€ðŸ«","ðŸ‘¨â€âš–ï¸","ðŸ‘©â€âš–ï¸","ðŸ‘¨â€ðŸŒ¾","ðŸ‘©â€ðŸŒ¾","ðŸ‘¨â€ðŸ³","ðŸ‘©â€ðŸ³","ðŸ‘¨â€ðŸ”§","ðŸ‘©â€ðŸ”§","ðŸ‘¨â€ðŸ­","ðŸ‘©â€ðŸ­","ðŸ‘¨â€ðŸ’¼","ðŸ‘©â€ðŸ’¼","ðŸ‘¨â€ðŸ”¬","ðŸ‘©â€ðŸ”¬","ðŸ‘¨â€ðŸ’»","ðŸ‘©â€ðŸ’»","ðŸ‘¨â€ðŸŽ¤","ðŸ‘©â€ðŸŽ¤","ðŸ‘¨â€ðŸŽ¨","ðŸ‘©â€ðŸŽ¨","ðŸ‘¨â€âœˆï¸","ðŸ‘©â€âœˆï¸","ðŸ‘¨â€ðŸš€","ðŸ‘©â€ðŸš€","ðŸ‘¨â€ðŸš’","ðŸ‘©â€ðŸš’","ðŸ‘®","ðŸ‘®â€â™‚ï¸","ðŸ‘®â€â™€ï¸","ðŸ•µï¸","ðŸ•µï¸â€â™‚ï¸","ðŸ•µï¸â€â™€ï¸","ðŸ’‚","ðŸ’‚â€â™‚ï¸","ðŸ’‚â€â™€ï¸","ðŸ‘·","ðŸ‘·â€â™‚ï¸","ðŸ‘·â€â™€ï¸","ðŸ¤´","ðŸ‘¸","ðŸ‘³","ðŸ‘³â€â™‚ï¸","ðŸ‘³â€â™€ï¸","ðŸ‘²","ðŸ§•","ðŸ¤µ","ðŸ‘°","ðŸ¤°","ðŸ¤±","ðŸ‘¼","ðŸŽ…","ðŸ¤¶","ðŸ¦¸","ðŸ¦¸â€â™‚ï¸","ðŸ¦¸â€â™€ï¸","ðŸ¦¹","ðŸ¦¹â€â™‚ï¸","ðŸ¦¹â€â™€ï¸","ðŸ§™","ðŸ§™â€â™‚ï¸","ðŸ§™â€â™€ï¸","ðŸ§š","ðŸ§šâ€â™‚ï¸","ðŸ§šâ€â™€ï¸","ðŸ§›","ðŸ§›â€â™‚ï¸","ðŸ§›â€â™€ï¸","ðŸ§œ","ðŸ§œâ€â™‚ï¸","ðŸ§œâ€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ’†","ðŸ’†â€â™‚ï¸","ðŸ’†â€â™€ï¸","ðŸ’‡","ðŸ’‡â€â™‚ï¸","ðŸ’‡â€â™€ï¸","ðŸš¶","ðŸš¶â€â™‚ï¸","ðŸš¶â€â™€ï¸","ðŸ§","ðŸ§â€â™‚ï¸","ðŸ§â€â™€ï¸","ðŸ§Ž","ðŸ§Žâ€â™‚ï¸","ðŸ§Žâ€â™€ï¸","ðŸ‘¨â€ðŸ¦¯","ðŸ‘©â€ðŸ¦¯","ðŸ‘¨â€ðŸ¦¼","ðŸ‘©â€ðŸ¦¼","ðŸ‘¨â€ðŸ¦½","ðŸ‘©â€ðŸ¦½","ðŸƒ","ðŸƒâ€â™‚ï¸","ðŸƒâ€â™€ï¸","ðŸ’ƒ","ðŸ•º","ðŸ•´ï¸","ðŸ§–","ðŸ§–â€â™‚ï¸","ðŸ§–â€â™€ï¸","ðŸ§—","ðŸ§—â€â™‚ï¸","ðŸ§—â€â™€ï¸","ðŸ‡","ðŸ‚","ðŸŒï¸","ðŸŒï¸â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸ„","ðŸ„â€â™‚ï¸","ðŸ„â€â™€ï¸","ðŸš£","ðŸš£â€â™‚ï¸","ðŸš£â€â™€ï¸","ðŸŠ","ðŸŠâ€â™‚ï¸","ðŸŠâ€â™€ï¸","â›¹ï¸","â›¹ï¸â€â™‚ï¸","â›¹ï¸â€â™€ï¸","ðŸ‹ï¸","ðŸ‹ï¸â€â™‚ï¸","ðŸ‹ï¸â€â™€ï¸","ðŸš´","ðŸš´â€â™‚ï¸","ðŸš´â€â™€ï¸","ðŸšµ","ðŸšµâ€â™‚ï¸","ðŸšµâ€â™€ï¸","ðŸ¤¸","ðŸ¤¸â€â™‚ï¸","ðŸ¤¸â€â™€ï¸","ðŸ¤½","ðŸ¤½â€â™‚ï¸","ðŸ¤½â€â™€ï¸","ðŸ¤¾","ðŸ¤¾â€â™‚ï¸","ðŸ¤¾â€â™€ï¸","ðŸ¤¹","ðŸ¤¹â€â™‚ï¸","ðŸ¤¹â€â™€ï¸","ðŸ§˜","ðŸ§˜â€â™‚ï¸","ðŸ§˜â€â™€ï¸","ðŸ›€","ðŸ›Œ","ðŸ§‘â€ðŸ¤â€ðŸ§‘","ðŸ‘­","ðŸ‘«","ðŸ‘¬"]);function W(t){return U.has(t)}function V(t){return[...t].filter(t=>!K(t.codePointAt(0))).join("")}function z(t,e){const n=[...t].map(t=>t.codePointAt(0));return n[1]&&(K(n[1])||65039===n[1])?n[1]=e:n.splice(1,0,e),String.fromCodePoint(...n)}function K(t){return t>=127995&&t<=127999}function G(t){switch(t){case 1:return 127995;case 2:return 127996;case 3:return 127997;case 4:return 127998;case 5:return 127999;default:return null}}class GEmojiElement extends HTMLElement{get image(){return this.firstElementChild instanceof HTMLImageElement?this.firstElementChild:null}get tone(){return(this.getAttribute("tone")||"").split(" ").map(t=>{const e=parseInt(t,10);return e>=0&&e<=5?e:0}).join(" ")}set tone(t){this.setAttribute("tone",t)}connectedCallback(){if(null===this.image&&!function(){const t=/\bWindows NT 6.1\b/.test(navigator.userAgent),e=/\bWindows NT 6.2\b/.test(navigator.userAgent),n=/\bWindows NT 6.3\b/.test(navigator.userAgent),o=/\bFreeBSD\b/.test(navigator.userAgent),r=/\bLinux\b/.test(navigator.userAgent);return!(t||e||n||r||o)}()){this.textContent="";const t=function(t){const e=document.createElement("img");return e.className="emoji",e.alt=t.getAttribute("alias")||"",e.height=20,e.width=20,e}(this);t.src=this.getAttribute("fallback-src")||"",this.appendChild(t)}this.hasAttribute("tone")&&X(this)}static get observedAttributes(){return["tone"]}attributeChangedCallback(t){switch(t){case"tone":X(this)}}}function X(t){if(t.image)return;const e=t.tone.split(" ").map(t=>parseInt(t,10));if(0===e.length)t.textContent=V(t.textContent);else if(1===e.length){const n=e[0];t.textContent=0===n?V(t.textContent):function(t,e){const n=V(t);if(!W(n))return t;const o=G(e);return o?n.split("â€").map(t=>W(t)?z(t,o):t).join("â€"):t}(t.textContent,n)}else t.textContent=function(t,e){const n=V(t);if(!W(n))return t;const o=e.map(t=>G(t));return n.split("â€").map(t=>{if(!W(t))return t;const e=o.shift();return e?z(t,e):t}).join("â€")}(t.textContent,e)}window.customElements.get("g-emoji")||(window.GEmojiElement=GEmojiElement,window.customElements.define("g-emoji",GEmojiElement));const J=new WeakMap;function Y(t,e){setTimeout((function(){e.dispatchEvent(new Event(t))}),0)}function Z(t){return Q(t).then((function(e){const n=t.parentNode;n&&(t.insertAdjacentHTML("afterend",e),n.removeChild(t))}),(function(){t.classList.add("is-error")}))}function Q(t){const e=t.src;let n=J.get(t);return n&&n.src===e?n.data:(n=e?t.load():Promise.reject(new Error("missing src")),J.set(t,{src:e,data:n}),n)}class IncludeFragmentElement extends HTMLElement{constructor(){super()}static get observedAttributes(){return["src"]}get src(){const t=this.getAttribute("src");if(t){const e=this.ownerDocument.createElement("a");return e.href=t,e.href}return""}set src(t){this.setAttribute("src",t)}get accept(){return this.getAttribute("accept")}set accept(t){this.setAttribute("accept",t)}get data(){return Q(this)}attributeChangedCallback(t){"src"===t&&this._attached&&Z(this)}connectedCallback(){this._attached=!0,this.src&&Z(this)}disconnectedCallback(){this._attached=!1}request(){const t=this.src;if(!t)throw new Error("missing src");return new Request(t,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"text/html"}})}load(){return Promise.resolve().then(()=>(Y("loadstart",this),this.fetch(this.request()))).then(t=>{if(200!==t.status)throw new Error("Failed to load resource: the server responded with a status of ".concat(t.status));const e=t.headers.get("Content-Type");if(!(n=this.accept,n&&n.split(",").find(t=>t.match(/^\s*\*\/\*/))||e&&e.includes(this.accept?this.accept:"text/html")))throw new Error("Failed to load resource: expected ".concat(this.accept||"text/html"," but was ").concat(e));var n;return t}).then(t=>t.text()).then(t=>(Y("load",this),Y("loadend",this),t),t=>{throw Y("error",this),Y("loadend",this),t})}fetch(t){return fetch(t)}}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.customElements.get("include-fragment")||(window.IncludeFragmentElement=IncludeFragmentElement,window.customElements.define("include-fragment",IncludeFragmentElement));const et=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref"];function nt(t){const e=[];for(const n of t.querySelectorAll(et.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")===t&&e.push(n);return e}const ot=new WeakMap;class MarkdownButtonElement extends HTMLElement{constructor(){super();const t=()=>{const t=ot.get(this);t&&gt(this,t)};var e;this.addEventListener("keydown",(e=t,function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),e(t))})),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const t=ot.get(this);t&&gt(this,t)}}class MarkdownHeaderButtonElement extends MarkdownButtonElement{constructor(){super();const t=parseInt(this.getAttribute("level")||3,10);if(t<1||t>6)return;const e="".concat("#".repeat(t)," ");ot.set(this,{prefix:e})}}window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=MarkdownHeaderButtonElement,window.customElements.define("md-header",MarkdownHeaderButtonElement));class MarkdownBoldButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}}window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=MarkdownBoldButtonElement,window.customElements.define("md-bold",MarkdownBoldButtonElement));class MarkdownItalicButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}}window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=MarkdownItalicButtonElement,window.customElements.define("md-italic",MarkdownItalicButtonElement));class MarkdownQuoteButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=MarkdownQuoteButtonElement,window.customElements.define("md-quote",MarkdownQuoteButtonElement));class MarkdownCodeButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}}window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=MarkdownCodeButtonElement,window.customElements.define("md-code",MarkdownCodeButtonElement));class MarkdownLinkButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}}window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=MarkdownLinkButtonElement,window.customElements.define("md-link",MarkdownLinkButtonElement));class MarkdownImageButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}}window.customElements.get("md-image")||(window.MarkdownImageButtonElement=MarkdownImageButtonElement,window.customElements.define("md-image",MarkdownImageButtonElement));class MarkdownUnorderedListButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=MarkdownUnorderedListButtonElement,window.customElements.define("md-unordered-list",MarkdownUnorderedListButtonElement));class MarkdownOrderedListButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}}window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=MarkdownOrderedListButtonElement,window.customElements.define("md-ordered-list",MarkdownOrderedListButtonElement));class MarkdownTaskListButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}}window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=MarkdownTaskListButtonElement,window.customElements.define("md-task-list",MarkdownTaskListButtonElement));class MarkdownMentionButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"@",prefixSpace:!0})}}window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=MarkdownMentionButtonElement,window.customElements.define("md-mention",MarkdownMentionButtonElement));class MarkdownRefButtonElement extends MarkdownButtonElement{constructor(){super(),ot.set(this,{prefix:"#",prefixSpace:!0})}}window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=MarkdownRefButtonElement,window.customElements.define("md-ref",MarkdownRefButtonElement));const rt=navigator.userAgent.match(/Macintosh/)?"Meta":"Control";class MarkdownToolbarElement extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",st);const t=ct.bind(null,this);this.field&&(this.field.addEventListener("keydown",t),at.set(this,t)),this.setAttribute("tabindex","0"),this.addEventListener("focus",it,{once:!0})}disconnectedCallback(){const t=at.get(this);t&&this.field&&(this.field.removeEventListener("keydown",t),at.delete(this)),this.removeEventListener("keydown",st)}get field(){const t=this.getAttribute("for");if(!t)return;const e=document.getElementById(t);return e instanceof HTMLTextAreaElement?e:null}}function it(t){let{target:e}=t;if(!(e instanceof Element))return;e.removeAttribute("tabindex");let n="0";for(const o of nt(e))o.setAttribute("tabindex",n),"0"===n&&(o.focus(),n="-1")}function st(t){const e=t.key;if("ArrowRight"!==e&&"ArrowLeft"!==e&&"Home"!==e&&"End"!==e)return;const n=t.currentTarget;if(!(n instanceof HTMLElement))return;const o=nt(n),r=o.indexOf(t.target),i=o.length;if(-1===r)return;let s=0;"ArrowLeft"===e&&(s=r-1),"ArrowRight"===e&&(s=r+1),"End"===e&&(s=i-1),s<0&&(s=i-1),s>i-1&&(s=0);for(let a=0;a<i;a+=1)o[a].setAttribute("tabindex",a===s?"0":"-1");t.preventDefault(),o[s].focus()}const at=new WeakMap;function ct(t,e){if(e.metaKey&&"Meta"===rt||e.ctrlKey&&"Control"===rt){const n=t.querySelector('[hotkey="'.concat(e.key,'"]'));n&&(n.click(),e.preventDefault())}}function lt(t){return t.trim().split("\n").length>1}function ut(t,e){return Array(e+1).join(t)}function dt(t,e){let n=e;for(;t[n]&&null!=t[n-1]&&!t[n-1].match(/\s/);)n--;return n}function ft(t,e,n){let o=e;const r=n?/\n/:/\s/;for(;t[o]&&!t[o].match(r);)o++;return o}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=MarkdownToolbarElement,window.customElements.define("markdown-toolbar",MarkdownToolbarElement));let mt=null;function ht(t,e){const n=t.value.slice(t.selectionStart,t.selectionEnd);let o;o=e.orderedList?function(t){const e=/^\d+\.\s+/,n=t.selectionStart===t.selectionEnd;let o,r,i,s,a=t.value.slice(t.selectionStart,t.selectionEnd),c=a,l=a.split("\n");if(n){const e=t.value.slice(0,t.selectionStart).split(/\n/);i=t.selectionStart-e[e.length-1].length,s=ft(t.value,t.selectionStart,!0),c=t.value.slice(i,s)}const u=c.split("\n");if(u.every(t=>e.test(t))){if(l=u.map(t=>t.replace(e,"")),a=l.join("\n"),n&&i&&s){const e=u[0].length-l[0].length;r=o=t.selectionStart-e,t.selectionStart=i,t.selectionEnd=s}}else{l=function(){let t,e,n;const o=[];for(n=t=0,e=l.length;t<e;n=++t){const t=l[n];o.push("".concat(n+1,". ").concat(t))}return o}(),a=l.join("\n");const{newlinesToAppend:e,newlinesToPrepend:i}=pt(t);r=t.selectionStart+e.length,o=r+a.length,n&&(r=o),a=e+a+i}return{text:a,selectionStart:r,selectionEnd:o}}(t):e.multiline&&lt(n)?function(t,e){const{prefix:n,suffix:o,surroundWithNewlines:r}=e;let i=t.value.slice(t.selectionStart,t.selectionEnd),s=t.selectionStart,a=t.selectionEnd;const c=i.split("\n");if(c.every(t=>t.startsWith(n)&&t.endsWith(o)))i=c.map(t=>t.slice(n.length,t.length-o.length)).join("\n"),a=s+i.length;else if(i=c.map(t=>n+t+o).join("\n"),r){const{newlinesToAppend:e,newlinesToPrepend:n}=pt(t);s+=e.length,a=s+i.length,i=e+i+n}return{text:i,selectionStart:s,selectionEnd:a}}(t,e):function(t,e){let n,o;const{prefix:r,suffix:i,blockPrefix:s,blockSuffix:a,replaceNext:c,prefixSpace:l,scanFor:u,surroundWithNewlines:d}=e,f=t.selectionStart,m=t.selectionEnd;let h=t.value.slice(t.selectionStart,t.selectionEnd),p=lt(h)&&s.length>0?"".concat(s,"\n"):r,g=lt(h)&&a.length>0?"\n".concat(a):i;if(l){const e=t.value[t.selectionStart-1];0===t.selectionStart||null==e||e.match(/\s/)||(p=" ".concat(p))}h=function(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.selectionStart===t.selectionEnd)t.selectionStart=dt(t.value,t.selectionStart),t.selectionEnd=ft(t.value,t.selectionEnd,o);else{const o=t.selectionStart-e.length,r=t.selectionEnd+n.length,i=t.value.slice(o,t.selectionStart)===e,s=t.value.slice(t.selectionEnd,r)===n;i&&s&&(t.selectionStart=o,t.selectionEnd=r)}return t.value.slice(t.selectionStart,t.selectionEnd)}(t,p,g,e.multiline);let v=t.selectionStart,w=t.selectionEnd;const b=c.length>0&&g.indexOf(c)>-1&&h.length>0;if(d){const e=pt(t);n=e.newlinesToAppend,o=e.newlinesToPrepend,p=n+r,g+=o}if(h.startsWith(p)&&h.endsWith(g)){const t=h.slice(p.length,h.length-g.length);if(f===m){let e=f-p.length;e=Math.max(e,v),e=Math.min(e,v+t.length),v=w=e}else w=v+t.length;return{text:t,selectionStart:v,selectionEnd:w}}if(b){if(u.length>0&&h.match(u)){g=g.replace(c,h);const t=p+g;return v=w=v+p.length,{text:t,selectionStart:v,selectionEnd:w}}{const t=p+h+g;return v=v+p.length+h.length+g.indexOf(c),w=v+c.length,{text:t,selectionStart:v,selectionEnd:w}}}{let t=p+h+g;v=f+p.length,w=m+p.length;const n=h.match(/^\s*|\s*$/g);if(e.trimFirst&&n){const e=n[0]||"",o=n[1]||"";t=e+p+h.trim()+g+o,v+=e.length,w-=o.length}return{text:t,selectionStart:v,selectionEnd:w}}}(t,e),function(t,e){let{text:n,selectionStart:o,selectionEnd:r}=e;const i=t.selectionStart,s=t.value.slice(0,i),a=t.value.slice(t.selectionEnd);if(null===mt||!0===mt){t.contentEditable="true";try{mt=document.execCommand("insertText",!1,n)}catch(c){mt=!1}t.contentEditable="false"}if(mt&&!t.value.slice(0,t.selectionStart).endsWith(n)&&(mt=!1),!mt){try{document.execCommand("ms-beginUndoUnit")}catch(l){}t.value=s+n+a;try{document.execCommand("ms-endUndoUnit")}catch(l){}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=o&&null!=r?t.setSelectionRange(o,r):t.setSelectionRange(i,t.selectionEnd)}(t,o)}function pt(t){const e=t.value.slice(0,t.selectionStart),n=t.value.slice(t.selectionEnd),o=e.match(/\n*$/),r=n.match(/^\n*/),i=o?o[0].length:0,s=r?r[0].length:0;let a,c;return e.match(/\S/)&&i<2&&(a=ut("\n",2-i)),n.match(/\S/)&&s<2&&(c=ut("\n",2-s)),null==a&&(a=""),null==c&&(c=""),{newlinesToAppend:a,newlinesToPrepend:c}}function gt(t,e){const n=t.closest("markdown-toolbar");if(!(n instanceof MarkdownToolbarElement))return;const o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){tt(t,e,n[e])}))}return t}({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1},e),r=n.field;r&&(r.focus(),ht(r,o))}function vt(t){if(null===t.parentNode||!(t.parentNode instanceof HTMLElement))throw new Error;const e=t.parentNode.children;for(let n=0;n<e.length;++n)if(e[n]===t)return n;return 0}let wt=0;function bt(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const yt={INPUT:t=>t instanceof HTMLInputElement&&t.checked?"[x] ":"[ ] ",CODE(t){const e=t.textContent||"";return t.parentNode&&"PRE"===t.parentNode.nodeName?(t.textContent=`\`\`\`\n${e.replace(/\n+$/,"")}\n\`\`\`\n\n`,t):e.indexOf("`")>=0?`\`\` ${e} \`\``:`\`${e}\``},STRONG:t=>`**${t.textContent||""}**`,EM:t=>`_${t.textContent||""}_`,DEL:t=>`~${t.textContent||""}~`,BLOCKQUOTE(t){const e=(t.textContent||"").trim().replace(/^/gm,"> "),n=document.createElement("pre");return n.textContent=`${e}\n\n`,n},A(t){const e=t.textContent||"",n=t.getAttribute("href");return/^https?:/.test(e)&&e===n?e:n?`[${e}](${n})`:e},IMG(t){const e=t.getAttribute("alt")||"",n=t.getAttribute("src");if(!n)throw new Error;const o=t.hasAttribute("width")?` width="${bt(t.getAttribute("width")||"")}"`:"",r=t.hasAttribute("height")?` height="${bt(t.getAttribute("height")||"")}"`:"";return o||r?`<img alt="${bt(e)}"${o}${r} src="${bt(n)}">`:`![${e}](${n})`},LI(t){const e=t.parentNode;if(!e)throw new Error;let n="";if(!function(t){const e=t.childNodes[0],n=t.childNodes[1];return!!(e&&t.childNodes.length<3)&&!("OL"!==e.nodeName&&"UL"!==e.nodeName||n&&(n.nodeType!==Node.TEXT_NODE||(n.textContent||"").trim()))}(t))if("OL"===e.nodeName)if(wt>0&&!e.previousSibling){n=`${vt(t)+wt+1}\\. `}else n=`${vt(t)+1}. `;else n="* ";const o=n.replace(/\S/g," "),r=(t.textContent||"").trim().replace(/^/gm,o),i=document.createElement("pre");return i.textContent=r.replace(o,n),i},OL(t){const e=document.createElement("li");return e.appendChild(document.createElement("br")),t.append(e),t},H1(t){const e=parseInt(t.nodeName.slice(1));return t.prepend(`${Array(e+1).join("#")} `),t},UL:t=>t};yt.UL=yt.OL;for(let cu=2;cu<=6;++cu)yt[`H${cu}`]=yt.H1;function Et(t){const e=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,(function(t){return t.nodeName in yt&&!function(t){if(t instanceof HTMLAnchorElement&&1===t.childNodes.length){const e=t.childNodes[0];if(e instanceof HTMLImageElement)return e.src===t.href}return!1}(t)&&(function(t){return"IMG"===t.nodeName||null!=t.firstChild}(t)||function(t){return"INPUT"===t.nodeName&&t instanceof HTMLInputElement&&"checkbox"===t.type}(t))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})),n=[];let o=e.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=e.nextNode();n.reverse();for(const r of n)r.replaceWith(yt[r.nodeName](r))}const Lt=new WeakMap;let Tt=0;const kt=/\bEdge\//.test(navigator.userAgent);function jt(t,e){return function(t,e){const n=0===Tt;Tt+=Lt.has(t)?0:1;const o=Object.assign({quoteMarkdown:!1,copyMarkdown:!1,scopeSelector:""},e);Lt.set(t,o),n&&document.addEventListener("keydown",Mt);o.copyMarkdown&&t.addEventListener("copy",xt)}(t,e),{unsubscribe:()=>{!function(t){const e=Lt.get(t);if(null==e)return;Lt.delete(t),Tt-=1,0===Tt&&document.removeEventListener("keydown",Mt);e.copyMarkdown&&t.removeEventListener("copy",xt)}(t)}}}function xt(t){const e=t.target;if(!(e instanceof HTMLElement))return;if(It(e))return;const n=t.clipboardData;if(!n)return;const o=window.getSelection();if(!o)return;let r;try{r=o.getRangeAt(0)}catch(a){return}const i=o.toString(),s=Ht(i,r,!0);s&&(n.setData("text/plain",i),n.setData("text/x-gfm",s.selectionText),t.preventDefault(),o.removeAllRanges(),o.addRange(r))}function St(t){let e=t;for(;e=e.parentElement;)if(Lt.has(e))return e}function At(t){for(const e of t.querySelectorAll("textarea"))if(e instanceof HTMLTextAreaElement&&qt(e))return e}function Mt(t){if(function(t){return t.defaultPrevented||"r"!==t.key||t.metaKey||t.altKey||t.shiftKey||t.ctrlKey||t.target instanceof HTMLElement&&It(t.target)}(t))return;const e=window.getSelection();if(!e)return;let n;try{n=e.getRangeAt(0)}catch(o){return}Ct(e.toString(),n)&&t.preventDefault()}function Ct(t,e){const n=Ht(t,e,!1);if(!n)return!1;const{container:o,selectionText:r}=n;if(!o.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,cancelable:!0,detail:{range:e,selectionText:r}})))return!0;const i=At(o);return!!i&&(function(t,e){let n=`> ${t.replace(/\n/g,"\n> ")}\n\n`;e.value&&(n=`${e.value}\n\n${n}`);e.value=n,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus(),e.selectionStart=e.value.length,e.scrollTop=e.scrollHeight}(r,i),!0)}function Ht(t,e,n){let o=t.trim();if(!o)return;let r=e.startContainer;if(!r)return;if(r.nodeType!==Node.ELEMENT_NODE&&(r=r.parentNode),!(r instanceof Element))return;const i=St(r);if(!i)return;const s=Lt.get(i);if(s){if(s.quoteMarkdown&&!kt)try{const t=function(t,e){const n=t.startContainer;if(!(n&&n.parentNode&&n.parentNode instanceof HTMLElement))throw new Error("the range must start within an HTMLElement");const o=n.parentNode;let r=t.cloneContents();if(e){const t=r.querySelector(e);t&&(r=document.createDocumentFragment(),r.appendChild(t))}wt=0;const i=o.closest("li");if(o.closest("pre")){const t=document.createElement("pre");t.appendChild(r),r=document.createDocumentFragment(),r.appendChild(t)}else if(i&&i.parentNode&&("OL"===i.parentNode.nodeName&&(wt=vt(i)),!r.querySelector("li"))){const t=document.createElement("li");if(!i.parentNode)throw new Error;const e=document.createElement(i.parentNode.nodeName);t.appendChild(r),e.appendChild(t),r=document.createDocumentFragment(),r.appendChild(e)}return r}(e,s.scopeSelector);i.dispatchEvent(new CustomEvent("quote-selection-markdown",{bubbles:!0,cancelable:!1,detail:{fragment:t,range:e,unwrap:n}})),Et(t),o=function(t){const e=document.body;if(!e)return"";const n=document.createElement("div");n.appendChild(t),n.style.cssText="position:absolute;left:-9999px;",e.appendChild(n);let o="";try{const t=window.getSelection();if(t){const e=document.createRange();e.selectNodeContents(n),t.removeAllRanges(),t.addRange(e),o=t.toString(),t.removeAllRanges(),e.detach()}}finally{e.removeChild(n)}return o}(t).replace(/^\n+/,"").replace(/\s+$/,"")}catch(a){setTimeout(()=>{throw a})}return{selectionText:o,container:i}}}function qt(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)}function It(t){const e=t.nodeName.toLowerCase(),n=(t.getAttribute("type")||"").toLowerCase();return"select"===e||"textarea"===e||"input"===e&&"submit"!==n&&"reset"!==n||t.isContentEditable}function Dt(t,e){(function(t,e){const n=t.scrollTop,o=n+t.clientHeight,r=e.offsetTop,i=r+e.clientHeight;return r>=n&&i<=o})(t,e)||(t.scrollTop=e.offsetTop)}let Nt=!1;const _t=!!navigator.userAgent.match(/Macintosh/);function Ot(t){if(t.shiftKey||t.metaKey||t.altKey)return;const e=t.currentTarget;if(!(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement))return;if(Nt)return;const n=document.getElementById(e.getAttribute("aria-owns")||"");if(n)switch(t.key){case"Enter":case"Tab":(function(t,e){const n=e.querySelector('[aria-selected="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||(n.click(),!0))})(0,n)&&t.preventDefault();break;case"Escape":Bt(e,n);break;case"ArrowDown":Rt(e,n,1),t.preventDefault();break;case"ArrowUp":Rt(e,n,-1),t.preventDefault();break;case"n":_t&&t.ctrlKey&&(Rt(e,n,1),t.preventDefault());break;case"p":_t&&t.ctrlKey&&(Rt(e,n,-1),t.preventDefault())}}function Pt(t){if(!(t.target instanceof Element))return;const e=t.target.closest('[role="option"]');e&&"true"!==e.getAttribute("aria-disabled")&&function(t){t.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(e)}function $t(t){return!t.hidden&&(!t.type||"hidden"!==t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}function Rt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=Array.from(e.querySelectorAll('[aria-selected="true"]')).filter($t)[0],r=Array.from(e.querySelectorAll('[role="option"]')).filter($t),i=r.indexOf(o);let s=1===n?0:r.length-1;if(o&&i>=0){const t=i+n;t>=0&&t<r.length&&(s=t)}const a=r[s];if(a)for(const c of r)a===c?(t.setAttribute("aria-activedescendant",a.id),a.setAttribute("aria-selected","true"),Dt(e,a)):c.setAttribute("aria-selected","false")}function Bt(t,e){t.removeAttribute("aria-activedescendant");for(const n of e.querySelectorAll('[aria-selected="true"]'))n.setAttribute("aria-selected","false")}function Ft(t){const e=t.currentTarget;if(!(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement))return;Nt="compositionstart"===t.type;const n=document.getElementById(e.getAttribute("aria-owns")||"");n&&Bt(e,n)}const Ut=/\s|\(|\[/;function Wt(t,e,n){const o=t.lastIndexOf(e,n-1);if(-1===o)return;if(t.lastIndexOf(" ",n-1)>o)return;const r=t[o-1];return!r||Ut.test(r)?{word:t.substring(o+e.length,n),position:o+e.length}:void 0}const Vt=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],zt=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],Kt=new WeakMap;function Gt(t,e){const n=t.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");let o=Kt.get(t);if(o&&o.parentElement===t.parentElement)o.innerHTML="";else{o=document.createElement("div"),Kt.set(t,o);const e=window.getComputedStyle(t),r=Vt.slice(0);"textarea"===n?r.push("white-space:pre-wrap;"):r.push("white-space:nowrap;");for(let t=0,n=zt.length;t<n;t++){const n=zt[t];r.push("".concat(n,":").concat(e.getPropertyValue(n),";"))}o.style.cssText=r.join(" ")}const r=document.createElement("span");let i,s;if(r.style.cssText="position: absolute;",r.innerHTML="&nbsp;","number"==typeof e){let n=t.value.substring(0,e);n&&(i=document.createTextNode(n)),n=t.value.substring(e),n&&(s=document.createTextNode(n))}else{const e=t.value;e&&(i=document.createTextNode(e))}if(i&&o.appendChild(i),o.appendChild(r),s&&o.appendChild(s),!o.parentElement){if(!t.parentElement)throw new Error("textField must have a parentElement to mirror");t.parentElement.insertBefore(o,t)}return o.scrollTop=t.scrollTop,o.scrollLeft=t.scrollLeft,{mirror:o,marker:r}}const Xt=new WeakMap;class Jt{constructor(t,e){this.expander=t,this.input=e,this.menu=null,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,e.addEventListener("paste",this.onpaste),e.addEventListener("input",this.oninput),e.addEventListener("keydown",this.onkeydown),e.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}activate(t,e){if(this.input!==document.activeElement)return;this.deactivate(),this.menu=e,e.id||(e.id="text-expander-".concat(Math.floor(1e5*Math.random()).toString())),this.input.setAttribute("aria-owns",e.id),this.expander.append(e);const{top:n,left:o}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.selectionEnd;const{mirror:n,marker:o}=Gt(t,e),r=n.getBoundingClientRect(),i=o.getBoundingClientRect();return setTimeout(()=>{n.remove()},5e3),{top:i.top-r.top,left:i.left-r.left}}(this.input,t.position);var r,i;e.style.top="".concat(n,"px"),e.style.left="".concat(o,"px"),r=this.input,i=e,r.addEventListener("compositionstart",Ft),r.addEventListener("compositionend",Ft),r.addEventListener("keydown",Ot),i.addEventListener("click",Pt),e.addEventListener("combobox-commit",this.oncommit),e.addEventListener("mousedown",this.onmousedown),Bt(this.input,e),Rt(this.input,e)}deactivate(){const t=this.menu;var e,n;t&&(this.menu=null,t.removeEventListener("combobox-commit",this.oncommit),t.removeEventListener("mousedown",this.onmousedown),e=this.input,n=t,e.removeAttribute("aria-activedescendant"),e.removeEventListener("compositionstart",Ft),e.removeEventListener("compositionend",Ft),e.removeEventListener("keydown",Ot),n.removeEventListener("click",Pt),this.input.removeAttribute("aria-owns"),t.remove())}onCommit(t){let{target:e}=t;const n=e;if(!(n instanceof HTMLElement))return;const o=this.match;if(!o)return;const r=this.input.value.substring(0,o.position-o.key.length),i=this.input.value.substring(o.position+o.text.length),s={item:n,key:o.key,value:null};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:s})))return;if(!s.value)return;const a="".concat(s.value," ");this.input.value=r+a+i,this.deactivate(),this.input.focus();const c=r.length+a.length;this.input.selectionStart=c,this.input.selectionEnd=c}onBlur(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted)return void(this.justPasted=!1);const t=this.findMatch();if(t){this.match=t;const e=await this.notifyProviders(t);if(!this.match)return;e?this.activate(t,e):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const t=this.input.selectionEnd,e=this.input.value;for(const n of this.expander.keys){const o=Wt(e,n,t);if(o)return{text:o.word,key:n,position:o.position}}}async notifyProviders(t){const e=[];if(this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:t=>e.push(t),text:t.text,key:t.key}})))return(await Promise.all(e)).filter(t=>t.matched).map(t=>t.fragment)[0]}onMousedown(){this.interactingWithList=!0}onKeydown(t){"Escape"===t.key&&(this.deactivate(),t.stopImmediatePropagation(),t.preventDefault())}}class TextExpanderElement extends HTMLElement{get keys(){const t=this.getAttribute("keys");return t?t.split(" "):[]}connectedCallback(){const t=this.querySelector('input[type="text"], textarea');if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const e=new Jt(this,t);Xt.set(this,e)}disconnectedCallback(){const t=Xt.get(this);t&&(t.destroy(),Xt.delete(this))}}window.customElements.get("text-expander")||(window.TextExpanderElement=TextExpanderElement,window.customElements.define("text-expander",TextExpanderElement));const Yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Qt(t){return"0".concat(t).slice(-2)}function te(t,e){const n=t.getDay(),o=t.getDate(),r=t.getMonth(),i=t.getFullYear(),s=t.getHours(),a=t.getMinutes(),c=t.getSeconds();return e.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(e){let l;switch(e[1]){case"%":return"%";case"a":return Yt[n].slice(0,3);case"A":return Yt[n];case"b":return Zt[r].slice(0,3);case"B":return Zt[r];case"c":return t.toString();case"d":return Qt(o);case"e":return String(o);case"H":return Qt(s);case"I":return Qt(te(t,"%l"));case"l":return String(0===s||12===s?12:(s+12)%12);case"m":return Qt(r+1);case"M":return Qt(a);case"p":return s>11?"PM":"AM";case"P":return s>11?"pm":"am";case"S":return Qt(c);case"w":return String(n);case"y":return Qt(i%100);case"Y":return String(i);case"Z":return l=t.toString().match(/\((\w+)\)$/),l?l[1]:"";case"z":return l=t.toString().match(/\w([+-]\d\d\d\d) /),l?l[1]:""}return""}))}function ee(t){let e;return function(){if(e)return e;if("Intl"in window)try{return e=new Intl.DateTimeFormat(void 0,t),e}catch(n){if(!(n instanceof RangeError))throw n}}}let ne=null;const oe=ee({day:"numeric",month:"short"});function re(){if(null!==ne)return ne;const t=oe();if(t){const e=t.format(new Date(0));return ne=!!e.match(/^\d/),ne}return!1}let ie=null;const se=ee({day:"numeric",month:"short",year:"numeric"});function ae(t){const e=t.closest("[lang]");return e instanceof HTMLElement&&e.lang?e.lang:"default"}const ce=new WeakMap;class ExtendedTimeElement extends HTMLElement{static get observedAttributes(){return["datetime","day","format","lang","hour","minute","month","second","title","weekday","year"]}connectedCallback(){const t=this.getFormattedTitle();t&&!this.hasAttribute("title")&&this.setAttribute("title",t);const e=this.getFormattedDate();e&&(this.textContent=e)}attributeChangedCallback(t,e,n){const o=this.getFormattedTitle();if("datetime"===t){const t=Date.parse(n);isNaN(t)?ce.delete(this):ce.set(this,new Date(t))}const r=this.getFormattedTitle(),i=this.getAttribute("title");"title"===t||!r||i&&i!==o||this.setAttribute("title",r);const s=this.getFormattedDate();s&&(this.textContent=s)}get date(){return ce.get(this)}getFormattedTitle(){const t=this.date;if(!t)return;const e=le();if(e)return e.format(t);try{return t.toLocaleString()}catch(n){if(n instanceof RangeError)return t.toString();throw n}}getFormattedDate(){}}const le=ee({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),ue=new WeakMap;class LocalTimeElement extends ExtendedTimeElement{attributeChangedCallback(t,e,n){"hour"!==t&&"minute"!==t&&"second"!==t&&"time-zone-name"!==t||ue.delete(this),super.attributeChangedCallback(t,e,n)}getFormattedDate(){const t=this.date;if(!t)return;const e=function(t,e){const n={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}};let o=re()?"weekday day month year":"weekday month day, year";for(const r in n){const e=n[r][t.getAttribute(r)];o=o.replace(r,e||"")}return o=o.replace(/(\s,)|(,\s$)/,""),te(e,o).replace(/\s+/," ").trim()}(this,t)||"",n=function(t,e){const n={},o=t.getAttribute("hour");"numeric"!==o&&"2-digit"!==o||(n.hour=o);const r=t.getAttribute("minute");"numeric"!==r&&"2-digit"!==r||(n.minute=r);const i=t.getAttribute("second");"numeric"!==i&&"2-digit"!==i||(n.second=i);const s=t.getAttribute("time-zone-name");"short"!==s&&"long"!==s||(n.timeZoneName=s);if(0===Object.keys(n).length)return;let a=ue.get(t);a||(a=ee(n),ue.set(t,a));const c=a();if(c)return c.format(e);{const t=n.second?"%H:%M:%S":"%H:%M";return te(e,t)}}(this,t)||"";return"".concat(e," ").concat(n).trim()}}window.customElements.get("local-time")||(window.LocalTimeElement=LocalTimeElement,window.customElements.define("local-time",LocalTimeElement));class de{constructor(t,e){this.date=t,this.locale=e}toString(){const t=this.timeElapsed();if(t)return t;{const t=this.timeAhead();return t||"on ".concat(this.formatDate())}}timeElapsed(){const t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24);return t>=0&&r<30?this.timeAgoFromMs(t):null}timeAhead(){const t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24);return t>=0&&r<30?this.timeUntil():null}timeAgo(){const t=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(t)}timeAgoFromMs(t){const e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return t<0?fe(this.locale,0,"second"):e<10?fe(this.locale,0,"second"):e<45?fe(this.locale,-e,"second"):e<90?fe(this.locale,-n,"minute"):n<45?fe(this.locale,-n,"minute"):n<90?fe(this.locale,-o,"hour"):o<24?fe(this.locale,-o,"hour"):o<36?fe(this.locale,-r,"day"):r<30?fe(this.locale,-r,"day"):i<18?fe(this.locale,-i,"month"):fe(this.locale,-s,"year")}microTimeAgo(){const t=(new Date).getTime()-this.date.getTime(),e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return n<1?"1m":n<60?"".concat(n,"m"):o<24?"".concat(o,"h"):r<365?"".concat(r,"d"):"".concat(s,"y")}timeUntil(){const t=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(t)}timeUntilFromMs(t){const e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return i>=18?fe(this.locale,s,"year"):i>=12?fe(this.locale,s,"year"):r>=45?fe(this.locale,i,"month"):r>=30?fe(this.locale,i,"month"):o>=36?fe(this.locale,r,"day"):o>=24?fe(this.locale,r,"day"):n>=90?fe(this.locale,o,"hour"):n>=45?fe(this.locale,o,"hour"):e>=90?fe(this.locale,n,"minute"):e>=45?fe(this.locale,n,"minute"):fe(this.locale,e>=10?e:0,"second")}microTimeUntil(){const t=this.date.getTime()-(new Date).getTime(),e=Math.round(t/1e3),n=Math.round(e/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return r>=365?"".concat(s,"y"):o>=24?"".concat(r,"d"):n>=60?"".concat(o,"h"):n>1?"".concat(n,"m"):"1m"}formatDate(){let t=re()?"%e %b":"%b %e";var e;return e=this.date,(new Date).getUTCFullYear()!==e.getUTCFullYear()&&(t+=function(){if(null!==ie)return ie;const t=se();if(t){const e=t.format(new Date(0));return ie=!!e.match(/\d,/),ie}return!0}()?", %Y":" %Y"),te(this.date,t)}formatTime(){const t=me();return t?t.format(this.date):te(this.date,"%l:%M%P")}}function fe(t,e,n){const o=function(t,e){if("Intl"in window&&"RelativeTimeFormat"in window.Intl)try{return new Intl.RelativeTimeFormat(t,e)}catch(n){if(!(n instanceof RangeError))throw n}}(t,{numeric:"auto"});return o?o.format(e,n):function(t,e){if(0===t)switch(e){case"year":case"quarter":case"month":case"week":return"this ".concat(e);case"day":return"today";case"hour":case"minute":return"in 0 ".concat(e,"s");case"second":return"now"}else if(1===t)switch(e){case"year":case"quarter":case"month":case"week":return"next ".concat(e);case"day":return"tomorrow";case"hour":case"minute":case"second":return"in 1 ".concat(e)}else if(-1===t)switch(e){case"year":case"quarter":case"month":case"week":return"last ".concat(e);case"day":return"yesterday";case"hour":case"minute":case"second":return"1 ".concat(e," ago")}else if(t>1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"in ".concat(t," ").concat(e,"s")}else if(t<-1)switch(e){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"".concat(-t," ").concat(e,"s ago")}throw new RangeError("Invalid unit argument for format() '".concat(e,"'"))}(e,n)}const me=ee({hour:"numeric",minute:"2-digit"});class RelativeTimeElement extends ExtendedTimeElement{getFormattedDate(){const t=this.date;if(t)return new de(t,ae(this)).toString()}connectedCallback(){he.push(this),pe||(ve(),pe=setInterval(ve,6e4)),super.connectedCallback()}disconnectedCallback(){const t=he.indexOf(this);-1!==t&&he.splice(t,1),he.length||pe&&(clearInterval(pe),pe=null)}}const he=[];let pe,ge;function ve(){let t,e,n;for(e=0,n=he.length;e<n;e++)t=he[e],t.textContent=t.getFormattedDate()||""}window.customElements.get("relative-time")||(window.RelativeTimeElement=RelativeTimeElement,window.customElements.define("relative-time",RelativeTimeElement));class TimeAgoElement extends RelativeTimeElement{getFormattedDate(){const t=this.getAttribute("format"),e=this.date;if(e)return"micro"===t?new de(e,ae(this)).microTimeAgo():new de(e,ae(this)).timeAgo()}}window.customElements.get("time-ago")||(window.TimeAgoElement=TimeAgoElement,window.customElements.define("time-ago",TimeAgoElement));class TimeUntilElement extends RelativeTimeElement{getFormattedDate(){const t=this.getAttribute("format"),e=this.date;if(e)return"micro"===t?new de(e,ae(this)).microTimeUntil():new de(e,ae(this)).timeUntil()}}window.customElements.get("time-until")||(window.TimeUntilElement=TimeUntilElement,window.customElements.define("time-until",TimeUntilElement));class we extends Error{constructor(t){super(t),this.name="QueryError",this.framesToPop=1}}function be(t,e,n){const o=n||HTMLElement,r=t.closest(e);if(r instanceof o)return r;throw new we(`Element not found: <${o.name}> ${e}`)}function ye(t,e,n){const o=n||HTMLElement,r=t.querySelector(e);if(r instanceof o)return r;throw new we(`Element not found: <${o.name}> ${e}`)}function Ee(t,e,n){const o=n||HTMLElement,r=[];for(const i of t.querySelectorAll(e))i instanceof o&&r.push(i);return r}function Le(t,e,n){const o=n||HTMLInputElement,r=t.elements.namedItem(e);if(r instanceof o)return r;throw new we(`Element not found by name: <${o.name}> ${e}`)}function Te(t,e){const n=t.getAttribute(e);if(null!=n)return n;throw new we(`Attribute not found on element: ${e}`)}function ke(t){!function(t){const e=ye(document,".js-global-screen-reader-notice");e.textContent="",e.textContent=t}(function(t){return(t.getAttribute("aria-label")||t.innerText||"").trim()}(t))}let je=!1;function xe(){ge=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",je)}function Se(t,e){var n=t;if(!n)return Promise.resolve(e());var o=n.ownerDocument.documentElement;var r=function(t){for(var e=[];t;){var n=t.getBoundingClientRect(),o=n.top,r=n.left;e.push({element:t,top:o,left:r}),t=t.parentElement}return e}(n);return Promise.resolve(e()).then((function(t){var e=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(o.contains(n.element))return n}}(r);if(e){n=e.element;var i=e.top,s=e.left,a=n.getBoundingClientRect(),c=a.top,l=a.left;!function(t,e,n){var o=t.ownerDocument,r=o.defaultView;function i(t){return t.offsetParent?{top:t.scrollTop,left:t.scrollLeft}:{top:r.pageYOffset,left:r.pageXOffset}}function s(t,e,n){if(0===e&&0===n)return[0,0];var s=i(t),a=s.top+n,c=s.left+e;t===o||t===r||t===o.documentElement||t===o.body?o.defaultView.scrollTo(c,a):(t.scrollTop=a,t.scrollLeft=c);var l=i(t);return[l.left-s.left,l.top-s.top]}function a(t){var e=t;if(e.offsetParent&&e!==o.body){for(;e!==o.body;){if(!e.parentElement)return;e=e.parentElement;var n=r.getComputedStyle(e),i=n.position,s=n.overflowY,a=n.overflowX;if("fixed"===i||"auto"===s||"auto"===a||"scroll"===s||"scroll"===a)break}return e}}var c=a(t),l=0,u=0;for(;c;){var d=s(c,e-l,n-u);if(l+=d[0],u+=d[1],l===e&&u===n)break;c=a(c)}}(n,l-s,c-i)}return t}))}document.addEventListener("mousedown",(function(){je=!0,ge===document.activeElement&&xe()}),{capture:!0}),document.addEventListener("keydown",(function(){je=!1}),{capture:!0}),document.addEventListener("focusin",xe,{capture:!0}),document.addEventListener("keydown",t=>{if("Escape"!==t.key)return;if(t.target!==document.body)return;const e=document.querySelector(".js-targetable-element:target");e&&Se(e,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",t=>{const e=document.querySelector(".js-targetable-element:target");e&&(t.target instanceof HTMLAnchorElement||t.target instanceof HTMLElement&&(e.contains(t.target)||Se(e,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)})))}),document.addEventListener("click",(function(t){if(!(t.target instanceof Element))return;const e=t.target.closest("a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]");if(!e)return;const n=e.getAttribute("data-confirm");n&&(e instanceof HTMLInputElement&&e.hasAttribute("data-confirm-checked")&&!e.checked||confirm(n)||(t.stopImmediatePropagation(),t.preventDefault()))}),!0);const Ae="interactive"===document.readyState||"complete"===document.readyState?Promise.resolve():new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>{t()})}),Me="complete"===document.readyState?Promise.resolve():new Promise(t=>{window.addEventListener("load",t)}),Ce=[];let He=0;function qe(t){!async function(){Ce.push(t),await Ae,function(){const t=He;He=Ce.length,Ie(Ce.slice(t),null,window.location.href)}()}()}function Ie(t,e,n){const o=window.location.hash.slice(1),r={oldURL:e,newURL:n,target:o?document.getElementById(o):null};for(const i of t)i.call(null,r)}qe.clear=()=>{Ce.length=He=0};let De=window.location.href;window.addEventListener("popstate",(function(){De=window.location.href})),window.addEventListener("hashchange",(function(t){const e=window.location.href;try{Ie(Ce,t.oldURL||De,e)}finally{De=e}}));let Ne=null;function _e(){if(!(this instanceof _e))return new _e;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}document.addEventListener("pjax:start",(function(){Ne=window.location.href})),document.addEventListener("pjax:end",(function(){Ie(Ce,Ne,window.location.href)}));var Oe=window.document.documentElement,Pe=Oe.matches||Oe.webkitMatchesSelector||Oe.mozMatchesSelector||Oe.oMatchesSelector||Oe.msMatchesSelector;_e.prototype.matchesSelector=function(t,e){return Pe.call(t,e)},_e.prototype.querySelectorAll=function(t,e){return e.querySelectorAll(t)},_e.prototype.indexes=[];var $e=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;_e.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match($e))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var Re=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;_e.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(Re))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if("string"==typeof e)return e.split(/\s/);if("object"==typeof e&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var Be,Fe=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;_e.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(Fe))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}}),_e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},Be="function"==typeof window.Map?window.Map:function(){function t(){this.map={}}return t.prototype.get=function(t){return this.map[t+" "]},t.prototype.set=function(t,e){this.map[t+" "]=e},t}();var Ue=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function We(t,e){var n,o,r,i,s,a,c=(t=t.slice(0).concat(t.default)).length,l=e,u=[];do{if(Ue.exec(""),(r=Ue.exec(l))&&(l=r[3],r[2]||!l))for(n=0;n<c;n++)if(s=(a=t[n]).selector(r[1])){for(o=u.length,i=!1;o--;)if(u[o].index===a&&u[o].key===s){i=!0;break}i||u.push({index:a,key:s});break}}while(r);return u}function Ve(t,e){var n,o,r;for(n=0,o=t.length;n<o;n++)if(r=t[n],e.isPrototypeOf(r))return r}function ze(t,e){return t.id-e.id}_e.prototype.logDefaultIndexUsed=function(){},_e.prototype.add=function(t,e){var n,o,r,i,s,a,c,l,u=this.activeIndexes,d=this.selectors;if("string"==typeof t){for(n={id:this.uid++,selector:t,data:e},c=We(this.indexes,t),o=0;o<c.length;o++)i=(l=c[o]).key,(s=Ve(u,r=l.index))||((s=Object.create(r)).map=new Be,u.push(s)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(a=s.map.get(i))||(a=[],s.map.set(i,a)),a.push(n);this.size++,d.push(t)}},_e.prototype.remove=function(t,e){if("string"==typeof t){var n,o,r,i,s,a,c,l,u=this.activeIndexes,d={},f=1===arguments.length;for(n=We(this.indexes,t),r=0;r<n.length;r++)for(o=n[r],i=u.length;i--;)if(a=u[i],o.index.isPrototypeOf(a)){if(c=a.map.get(o.key))for(s=c.length;s--;)(l=c[s]).selector!==t||!f&&l.data!==e||(c.splice(s,1),d[l.id]=!0);break}this.size-=Object.keys(d).length}},_e.prototype.queryAll=function(t){if(!this.selectors.length)return[];var e,n,o,r,i,s,a,c,l={},u=[],d=this.querySelectorAll(this.selectors.join(", "),t);for(e=0,o=d.length;e<o;e++)for(i=d[e],n=0,r=(s=this.matches(i)).length;n<r;n++)l[(c=s[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(i);return u.sort(ze)},_e.prototype.matches=function(t){if(!t)return[];var e,n,o,r,i,s,a,c,l,u,d,f=this.activeIndexes,m={},h=[];for(e=0,r=f.length;e<r;e++)if(c=(a=f[e]).element(t))for(n=0,i=c.length;n<i;n++)if(l=a.map.get(c[n]))for(o=0,s=l.length;o<s;o++)!m[d=(u=l[o]).id]&&this.matchesSelector(t,u.selector)&&(m[d]=!0,h.push(u));return h.sort(ze)};var Ke={},Ge={},Xe=new WeakMap,Je=new WeakMap,Ye=new WeakMap,Ze=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function Qe(t,e,n){var o=t[e];return t[e]=function(){return n.apply(t,arguments),o.apply(t,arguments)},t}function tn(){Xe.set(this,!0)}function en(){Xe.set(this,!0),Je.set(this,!0)}function nn(){return Ye.get(this)||null}function on(t,e){Ze&&Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:e||Ze.get})}function rn(t){if(function(t){try{return t.eventPhase,!0}catch(e){return!1}}(t)){var e=(1===t.eventPhase?Ge:Ke)[t.type];if(e){var n=function(t,e,n){var o=[],r=e;do{if(1!==r.nodeType)break;var i=t.matches(r);if(i.length){var s={node:r,observers:i};n?o.unshift(s):o.push(s)}}while(r=r.parentElement);return o}(e,t.target,1===t.eventPhase);if(n.length){Qe(t,"stopPropagation",tn),Qe(t,"stopImmediatePropagation",en),on(t,nn);for(var o=0,r=n.length;o<r&&!Xe.get(t);o++){var i=n[o];Ye.set(t,i.node);for(var s=0,a=i.observers.length;s<a&&!Je.get(t);s++)i.observers[s].data.call(i.node,t)}Ye.delete(t),on(t)}}}}function sn(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=!!o.capture,i=r?Ge:Ke,s=i[t];s||(s=new _e,i[t]=s,document.addEventListener(t,rn,r)),s.add(e,n)}function an(t,e,n){return t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}))}const cn="ontransitionend"in window;function ln(t){return"height"===getComputedStyle(t).transitionProperty}function un(t,e){t.style.transition="none",e(),t.offsetHeight,t.style.transition=""}function dn(t,e){const n=t.getAttribute("data-details-container")||".js-details-container",o=be(t,n);!function(t,e){if(!cn)return void e();const n=Array.from(t.querySelectorAll(".js-transitionable"));t.classList.contains("js-transitionable")&&n.push(t);for(const o of n){const t=ln(o);o instanceof HTMLElement&&(o.addEventListener("transitionend",()=>{o.style.display="",o.style.visibility="",t&&un(o,(function(){o.style.height=""}))},{once:!0}),o.style.boxSizing="content-box",o.style.display="block",o.style.visibility="visible",t&&un(o,(function(){o.style.height=getComputedStyle(o).height})),o.offsetHeight)}e();for(const o of n)if(o instanceof HTMLElement&&ln(o)){const t=getComputedStyle(o).height;o.style.boxSizing="",o.style.height="0px"===t?`${o.scrollHeight}px`:"0px"}}(o,()=>{const n=null!=e?e:!o.classList.contains("open");o.classList.toggle("open",n),o.classList.toggle("Details--on",n),t.setAttribute("aria-expanded",n.toString()),Promise.resolve().then(()=>{!function(t){const e=t.querySelectorAll("input[autofocus], textarea[autofocus]"),n=e[e.length-1];n instanceof HTMLElement&&document.activeElement!==n&&n.focus()}(o),function(t){t.classList.contains("tooltipped")&&(t.classList.remove("tooltipped"),t.addEventListener("mouseleave",()=>{t.classList.add("tooltipped"),t instanceof HTMLElement&&t.blur()},{once:!0}))}(t),function(t){const e=t.closest(".js-edit-repository-meta");e instanceof HTMLFormElement&&e.reset()}(t);const e=new CustomEvent("details:toggled",{bubbles:!0,cancelable:!1,detail:{open:o.classList.contains("Details--on")}});o.dispatchEvent(e)})})}sn("click",".js-details-target",(function(t){const{currentTarget:e}=t;e instanceof HTMLElement&&(dn(e),t.preventDefault())})),qe((function({target:t}){t&&function(t){let e=!1,n=t.parentElement;for(;n;)n.classList.contains("Details-content--shown")&&(e=!0),n.classList.contains("js-details-container")&&(n.classList.toggle("open",!e),n.classList.toggle("Details--on",!e),e=!1),n=n.parentElement}(t)}));var fn="function"==typeof FormData&&"entries"in FormData.prototype?function(t){return Array.from(new FormData(t).entries())}:function(t){for(var e=[],n=t.elements,o=0;o<n.length;o++){var r=n[o],i=r.tagName.toUpperCase();if("SELECT"===i||"TEXTAREA"===i||"INPUT"===i){var s=r.type,a=r.name;if(a&&!r.disabled&&"submit"!==s&&"reset"!==s&&"button"!==s&&("radio"!==s&&"checkbox"!==s||r.checked))if("SELECT"===i)for(var c=r.getElementsByTagName("option"),l=0;l<c.length;l++){var u=c[l];u.selected&&e.push([a,u.value])}else"file"===s?(console.warn("form-data-entries could not serialize <input type=file>",r),e.push([a,""])):e.push([a,r.value])}}return e};function mn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(c){r=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class hn extends Error{constructor(t,e){super(t),this.response=e}}function pn(){let t,e;return[new Promise((function(n,o){t=n,e=o})),t,e]}let gn;const vn=[],wn=[];function bn(t,e){gn||(gn=new _e,document.addEventListener("submit",yn)),gn.add(t,e)}function yn(t){if(!(t.target instanceof HTMLFormElement))return;const e=t.target,n=gn&&gn.matches(e);if(!n||0===n.length)return;const o=function(t){const e={method:t.method||"GET",url:t.action,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:null};if("GET"===e.method.toUpperCase()){const n=function(t){const e=new URLSearchParams;for(const o of fn(t)){var n=mn(o,2);const t=n[0],r=n[1];e.append(t,r)}return e.toString()}(t);n&&(e.url+=(~e.url.indexOf("?")?"&":"?")+n)}else e.body=new FormData(t);return e}(e),r=mn(pn(),3),i=r[0],s=r[1],a=r[2];t.preventDefault(),async function(t,e,n,o){let r=!1;for(const i of t){const t=mn(pn(),2),s=t[0],a=t[1],c=()=>(r=!0,a(),o),l={text:c,json:()=>(n.headers.set("Accept","application/json"),c()),html:()=>(n.headers.set("Accept","text/html"),c())};await Promise.race([s,i.data.call(null,e,l,n)])}return r}(n,e,o,i).then(async t=>{if(t){for(const t of wn)await t(e);(async function(t){const e=await window.fetch(t.url,{method:t.method,body:null!==t.body?t.body:void 0,headers:t.headers,credentials:"same-origin"}),n={url:e.url,status:e.status,statusText:e.statusText,headers:e.headers,text:"",get json(){const t=JSON.parse(this.text);return delete this.json,this.json=t,this.json},get html(){return delete this.html,this.html=function(t,e){const n=t.createElement("template");return n.innerHTML=e,t.importNode(n.content,!0)}(document,this.text),this.html}},o=await e.text();if(n.text=o,e.ok)return n;throw new hn("request failed",n)})(o).then(s,a).catch(()=>{}).then(()=>{for(const t of vn)t(e)})}else e.submit()},t=>{e.submit(),setTimeout(()=>{throw t})})}const En=[];let Ln,Tn=0;function kn(){return Ln}function jn(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch(t){return 0}}function xn(t){Ln=t;const e=location.href;En[jn()-1+Tn]={url:e,state:Ln},En.length=jn(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}function Sn(t,e,n){const o=Object.assign({},{_id:kn()._id},t);history.replaceState(o,e,n),xn(o)}function An(t){try{return sessionStorage.getItem(t)}catch(e){return null}}function Mn(t,e){try{sessionStorage.setItem(t,e)}catch(n){}}function Cn(t){try{sessionStorage.removeItem(t)}catch(e){}}function Hn(t){const e=document.querySelectorAll(t);if(e.length>0)return e[e.length-1]}function qn(){return`${window.location.protocol}//${window.location.host}${function(){const t=Hn("meta[name=analytics-location]");return t instanceof HTMLMetaElement?t.content:window.location.pathname}()+function(){let t="";Hn("meta[name=analytics-location-query-strip]")||(t=window.location.search);const e=Hn("meta[name=analytics-location-params]");e instanceof HTMLMetaElement&&(t+=(t?"&":"?")+e.content);for(const n of Ee(document,"meta[name=analytics-param-rename]",HTMLMetaElement)){const e=n.content.split(":",2);t=t.replace(new RegExp(`(^|[?&])${e[0]}($|=)`,"g"),`$1${e[1]}$2`)}return t}()}`}function In(t,e={page:""}){e.page=t||"",window.ga("send","pageview",e)}function Dn(t,e={}){window.ga(()=>{window.ga("require",t,e)})}function Nn(t){void 0===t.interactive&&(t.interactive=!0),window.ga("send","event",t.category,t.action,t.label,t.value,{nonInteraction:!t.interactive})}function _n(){var t;!function(t){window.ga("set",{location:t})}(qn()),t=Hn("meta[name=analytics-location]")?"(masked)":document.title,window.ga("set",{title:t});const e=document.querySelector("meta[name=analytics-ec-payload]");e instanceof HTMLMetaElement&&On(e.content);const n=An("ga-deferred");n&&(On(n),Cn("ga-deferred"));for(const i of Ee(document,"meta.js-ga-set",HTMLMetaElement))o=i.name,r=i.content,window.ga("set",o,r);var o,r}function On(t){if(t)for(const e of JSON.parse(t))window.ga.apply(null,e)}function Pn(){for(const t of document.querySelectorAll("meta[name=analytics-virtual-pageview]"))t instanceof HTMLMetaElement&&In(t.content,{title:""});In()}function $n(t){const[e,n,o,r]=t.trim().split(/\s*,\s*/);return r?{category:e,action:n,label:o,value:Number(r)}:{category:e,action:n,label:o}}var Rn,Bn;Ln=function(){const t={_id:(new Date).getTime()};return xn(t),t}(),window.addEventListener("popstate",(function(t){const e=t.state;e&&e._id&&(e._id<(kn()._id||NaN)?Tn--:Tn++,xn(e))}),!0),window.addEventListener("hashchange",(function(){if(jn()>En.length){const t={_id:(new Date).getTime()};history.replaceState(t,"",location.href),xn(t)}}),!0),sn("click",".js-rendered, .js-source",(function(t){const e=t.currentTarget;e.classList.contains("selected")?t.preventDefault():(function(t){const e=be(t,".js-file-header"),n=t.classList.contains("js-rendered"),o=t.classList.contains("js-source"),r=Te(e,"data-short-path"),i=Te(e,"data-anchor"),s=new URL(window.location.href,window.location.origin),a=new URLSearchParams(s.search.slice(1));s.hash=i,n?a.set("short_path",r):o&&a.delete("short_path");s.search=a.toString(),Sn(null,"",s.toString())}(e),function(t){for(const e of document.querySelectorAll(".js-rendered, .js-source"))e.classList.remove("selected"),e.removeAttribute("aria-current");t.classList.add("selected"),t.setAttribute("aria-current","true")}(e))})),bn(".js-prose-diff-toggle-form",(async function(t,e){const n=be(t,".js-details-container"),o=ye(n,".js-file-content"),r=await e.html();for(;o.lastChild;)o.removeChild(o.lastChild);o.append(r.html),n.classList.toggle("display-rich-diff"),n.classList.toggle("show-inline-notes")})),function(){var t=function(t){this.w=t||[]};t.prototype.set=function(t){this.w[t]=!0},t.prototype.encode=function(){for(var t=[],e=0;e<this.w.length;e++)this.w[e]&&(t[Math.floor(e/6)]^=1<<e%6);for(e=0;e<t.length;e++)t[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(t[e]||0);return t.join("")+"~"};var e=new t;function n(t){e.set(t)}var o=function(e,n){var o=new t(i(e));o.set(n),e.set(se,o.w)},r=function(n){n=i(n),n=new t(n);for(var o=e.w.slice(),r=0;r<n.w.length;r++)o[r]=o[r]||n.w[r];return new t(o).encode()},i=function(t){return t=t.get(se),a(t)||(t=[]),t},s=function(t){return"function"==typeof t},a=function(t){return"[object Array]"==Object.prototype.toString.call(Object(t))},c=function(t){return null!=t&&-1<(t.constructor+"").indexOf("String")},l=function(t,e){return 0==t.indexOf(e)},u=function(t){return t?t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""):""},d=function(t){var e=T.createElement("img");return e.width=1,e.height=1,e.src=t,e},f=function(){},m=function(t){return encodeURIComponent instanceof Function?encodeURIComponent(t):(n(28),t)},h=function(t,e,o,r){try{t.addEventListener?t.addEventListener(e,o,!!r):t.attachEvent&&t.attachEvent("on"+e,o)}catch(i){n(27)}},p=/^[\w\-:/.?=&%!]+$/,g=function(t,e,n,o){t&&(n?(o="",e&&p.test(e)&&(o=' id="'+e+'"'),p.test(t)&&T.write("<script"+o+' src="'+t+'"><\/script>')):((n=T.createElement("script")).type="text/javascript",n.async=!0,n.src=t,o&&(n.onload=o),e&&(n.id=e),(t=T.getElementsByTagName("script")[0]).parentNode.insertBefore(n,t)))},v=function(){return"https:"==T.location.protocol},w=function(t,e){return(t=t.match("(?:&|#|\\?)"+m(e).replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==t.length?t[1]:""},b=function(){var t=""+T.location.hostname;return 0==t.indexOf("www.")?t.substring(4):t},y=function(t,e){if(1==e.length&&null!=e[0]&&"object"==typeof e[0])return e[0];for(var n={},o=Math.min(t.length+1,e.length),r=0;r<o;r++){if("object"==typeof e[r]){for(var i in e[r])e[r].hasOwnProperty(i)&&(n[i]=e[r][i]);break}r<t.length&&(n[t[r]]=e[r])}return n},E=function(){this.keys=[],this.values={},this.m={}};E.prototype.set=function(t,e,n){this.keys.push(t),n?this.m[":"+t]=e:this.values[":"+t]=e},E.prototype.get=function(t){return this.m.hasOwnProperty(":"+t)?this.m[":"+t]:this.values[":"+t]},E.prototype.map=function(t){for(var e=0;e<this.keys.length;e++){var n=this.keys[e],o=this.get(n);o&&t(n,o)}};var L=window,T=document,k=window,j=function(t){var e=k._gaUserPrefs;if(e&&e.ioo&&e.ioo()||t&&!0===k["ga-disable-"+t])return!0;try{var n=k.external;if(n&&n._gaUserPrefs&&"oo"==n._gaUserPrefs)return!0}catch(o){}return!1},x=function(t){var e=[],n=T.cookie.split(";");t=new RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$");for(var o=0;o<n.length;o++){var r=n[o].match(t);r&&e.push(r[1])}return e},S=function(t,e,o,r,i,s){if(!(i=!j(i)&&!(C.test(T.location.hostname)||"/"==o&&M.test(r))))return!1;if(e&&1200<e.length&&(e=e.substring(0,1200),n(24)),o=t+"="+e+"; path="+o+"; ",s&&(o+="expires="+new Date((new Date).getTime()+s).toGMTString()+"; "),r&&"none"!=r&&(o+="domain="+r+";"),r=T.cookie,T.cookie=o,!(r=r!=T.cookie))t:{for(t=x(t),r=0;r<t.length;r++)if(e==t[r]){r=!0;break t}r=!1}return r},A=function(t){return m(t).replace(/\(/g,"%28").replace(/\)/g,"%29")},M=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,C=/(^|\.)doubleclick\.net$/i,H=function(){return(dt||v()?"https:":"http:")+"//www.google-analytics.com"},q=function(t){this.name="len",this.message=t+"-8192"},I=function(t,e,n){if(n=n||f,2036>=e.length)D(t,e,n);else{if(!(8192>=e.length))throw O("len",e.length),new q(e.length);_(t,e,n)||N(t,e,n)||D(t,e,n)}},D=function(t,e,n){var o=d(t+"?"+e);o.onload=o.onerror=function(){o.onload=null,o.onerror=null,n()}},N=function(t,e,n){var o=L.XMLHttpRequest;if(!o)return!1;var r=new o;return"withCredentials"in r&&(r.open("POST",t,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain"),r.onreadystatechange=function(){4==r.readyState&&(n(),r=null)},r.send(e),!0)},_=function(t,e,n){return!!L.navigator.sendBeacon&&(!!L.navigator.sendBeacon(t,e)&&(n(),!0))},O=function(t,e,n){1<=100*Math.random()||j("?")||(t=["t=error","_e="+t,"_v=j48","sr=1"],e&&t.push("_f="+e),n&&t.push("_m="+m(n.substring(0,100))),t.push("aip=1"),t.push("z="+X()),D(H()+"/collect",t.join("&"),f))},P=function(t){var e=L.gaData=L.gaData||{};return e[t]=e[t]||{}},$=function(){this.M=[]};function R(t){if(100!=t.get(_e)&&Zn(et(t,Te))%1e4>=100*nt(t,_e))throw"abort"}function B(t){if(j(et(t,xe)))throw"abort"}function F(){var t=T.location.protocol;if("http:"!=t&&"https:"!=t)throw"abort"}function U(t){try{L.navigator.sendBeacon?n(42):L.XMLHttpRequest&&"withCredentials"in new L.XMLHttpRequest&&n(40)}catch(o){}t.set(ie,r(t),!0),t.set(yt,nt(t,yt)+1);var e=[];Q.map((function(n,o){o.F&&(null!=(n=t.get(n))&&n!=o.defaultValue&&("boolean"==typeof n&&(n*=1),e.push(o.F+"="+m(""+n))))})),e.push("z="+J()),t.set(vt,e.join("&"),!0)}function W(t){var e=et(t,$e)||H()+"/collect",n=et(t,bt);if(!n&&t.get(wt)&&(n="beacon"),n){var o=et(t,vt),r=(r=t.get(gt))||f;"image"==n?D(e,o,r):"xhr"==n&&N(e,o,r)||"beacon"==n&&_(e,o,r)||I(e,o,r)}else I(e,et(t,vt),t.get(gt));e=t.get(xe),n=(e=P(e)).hitcount,e.hitcount=n?n+1:1,e=t.get(xe),delete P(e).pending_experiments,t.set(gt,f,!0)}function V(t){var e;(L.gaData=L.gaData||{}).expId&&t.set(Jt,(L.gaData=L.gaData||{}).expId),(L.gaData=L.gaData||{}).expVar&&t.set(Yt,(L.gaData=L.gaData||{}).expVar);var n=t.get(xe);if(n=P(n).pending_experiments){var o=[];for(e in n)n.hasOwnProperty(e)&&n[e]&&o.push(encodeURIComponent(e)+"."+encodeURIComponent(n[e]));e=o.join("!")}else e=void 0;e&&t.set(Zt,e,!0)}function z(){if(L.navigator&&"preview"==L.navigator.loadPurpose)throw"abort"}function K(t){var e=L.gaDevIds;a(e)&&0!=e.length&&t.set("&did",e.join(","),!0)}function G(t){if(!t.get(xe))throw"abort"}$.prototype.add=function(t){this.M.push(t)},$.prototype.D=function(t){try{for(var e=0;e<this.M.length;e++){var n=t.get(this.M[e]);n&&s(n)&&n.call(L,t)}}catch(o){}(e=t.get(gt))!=f&&s(e)&&(t.set(gt,f,!0),setTimeout(e,10))};var X=function(){return Math.round(2147483647*Math.random())},J=function(){try{var t=new Uint32Array(1);return L.crypto.getRandomValues(t),2147483647&t[0]}catch(e){return X()}};function Y(t){var e=nt(t,ne);if(500<=e&&n(15),"transaction"!=(o=et(t,pt))&&"item"!=o){var o=nt(t,re),r=(new Date).getTime(),i=nt(t,oe);if(0==i&&t.set(oe,r),0<(i=Math.round(2*(r-i)/1e3))&&(o=Math.min(o+i,20),t.set(oe,r)),0>=o)throw"abort";t.set(re,--o)}t.set(ne,++e)}var Z=function(){this.data=new E},Q=new E,tt=[];Z.prototype.get=function(t){var e=it(t),n=this.data.get(t);return e&&null==n&&(n=s(e.defaultValue)?e.defaultValue():e.defaultValue),e&&e.Z?e.Z(this,t,n):n};var et=function(t,e){return null==(t=t.get(e))?"":""+t},nt=function(t,e){return null==(t=t.get(e))||""===t?0:1*t};Z.prototype.set=function(t,e,n){if(t)if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&ot(this,o,t[o],n);else ot(this,t,e,n)};var ot=function(t,e,n,o){if(null!=n)switch(e){case xe:Sn.test(n)}var r=it(e);r&&r.o?r.o(t,e,n,o):t.data.set(e,n,o)},rt=function(t,e,n,o,r){this.name=t,this.F=e,this.Z=o,this.o=r,this.defaultValue=n},it=function(t){var e=Q.get(t);if(!e)for(var n=0;n<tt.length;n++){var o=tt[n],r=o[0].exec(t);if(r){e=o[1](r),Q.set(e.name,e);break}}return e},st=function(t,e,n,o,r){return t=new rt(t,e,n,o,r),Q.set(t.name,t),t.name},at=function(t,e){tt.push([new RegExp("^"+t+"$"),e])},ct=function(t,e,n){return st(t,e,n,void 0,lt)},lt=function(){},ut=c(window.GoogleAnalyticsObject)&&u(window.GoogleAnalyticsObject)||"ga",dt=!1,ft=ct("apiVersion","v"),mt=ct("clientVersion","_v");st("anonymizeIp","aip");var ht=st("adSenseId","a"),pt=st("hitType","t"),gt=st("hitCallback"),vt=st("hitPayload");st("nonInteraction","ni"),st("currencyCode","cu"),st("dataSource","ds");var wt=st("useBeacon",void 0,!1),bt=st("transport");st("sessionControl","sc",""),st("sessionGroup","sg"),st("queueTime","qt");var yt=st("_s","_s");st("screenName","cd");var Et=st("location","dl",""),Lt=st("referrer","dr"),Tt=st("page","dp","");st("hostname","dh");var kt=st("language","ul"),jt=st("encoding","de");st("title","dt",(function(){return T.title||void 0})),at("contentGroup([0-9]+)",(function(t){return new rt(t[0],"cg"+t[1])}));var xt=st("screenColors","sd"),St=st("screenResolution","sr"),At=st("viewportSize","vp"),Mt=st("javaEnabled","je"),Ct=st("flashVersion","fl");st("campaignId","ci"),st("campaignName","cn"),st("campaignSource","cs"),st("campaignMedium","cm"),st("campaignKeyword","ck"),st("campaignContent","cc");var Ht=st("eventCategory","ec"),qt=st("eventAction","ea"),It=st("eventLabel","el"),Dt=st("eventValue","ev"),Nt=st("socialNetwork","sn"),_t=st("socialAction","sa"),Ot=st("socialTarget","st"),Pt=st("l1","plt"),$t=st("l2","pdt"),Rt=st("l3","dns"),Bt=st("l4","rrt"),Ft=st("l5","srt"),Ut=st("l6","tcp"),Wt=st("l7","dit"),Vt=st("l8","clt"),zt=st("timingCategory","utc"),Kt=st("timingVar","utv"),Gt=st("timingLabel","utl"),Xt=st("timingValue","utt");st("appName","an"),st("appVersion","av",""),st("appId","aid",""),st("appInstallerId","aiid",""),st("exDescription","exd"),st("exFatal","exf");var Jt=st("expId","xid"),Yt=st("expVar","xvar"),Zt=st("exp","exp"),Qt=st("_utma","_utma"),te=st("_utmz","_utmz"),ee=st("_utmht","_utmht"),ne=st("_hc",void 0,0),oe=st("_ti",void 0,0),re=st("_to",void 0,20);at("dimension([0-9]+)",(function(t){return new rt(t[0],"cd"+t[1])})),at("metric([0-9]+)",(function(t){return new rt(t[0],"cm"+t[1])})),st("linkerParam",void 0,void 0,(function(t){var e=ln(t=t.get(Te),0);return"_ga=1."+m(e+"."+t)}),lt);var ie=st("usage","_u"),se=st("_um");st("forceSSL",void 0,void 0,(function(){return dt}),(function(t,e,o){n(34),dt=!!o}));var ae=st("_j1","jid");at("\\&(.*)",(function(t){var e=new rt(t[0],t[1]),n=function(t){var e;return Q.map((function(n,o){o.F==t&&(e=o)})),e&&e.name}(t[0].substring(1));return n&&(e.Z=function(t){return t.get(n)},e.o=function(t,e,o,r){t.set(n,o,r)},e.F=void 0),e}));var ce=ct("_oot"),le=st("previewTask"),ue=st("checkProtocolTask"),de=st("validationTask"),fe=st("checkStorageTask"),me=st("historyImportTask"),he=st("samplerTask"),pe=st("_rlt"),ge=st("buildHitTask"),ve=st("sendHitTask"),we=st("ceTask"),be=st("devIdTask"),ye=st("timingTask"),Ee=st("displayFeaturesTask"),Le=ct("name"),Te=ct("clientId","cid"),ke=ct("clientIdTime"),je=st("userId","uid"),xe=ct("trackingId","tid"),Se=ct("cookieName",void 0,"_ga"),Ae=ct("cookieDomain"),Me=ct("cookiePath",void 0,"/"),Ce=ct("cookieExpires",void 0,63072e3),He=ct("legacyCookieDomain"),qe=ct("legacyHistoryImport",void 0,!0),Ie=ct("storage",void 0,"cookie"),De=ct("allowLinker",void 0,!1),Ne=ct("allowAnchor",void 0,!0),_e=ct("sampleRate","sf",100),Oe=ct("siteSpeedSampleRate",void 0,1),Pe=ct("alwaysSendReferrer",void 0,!1),$e=st("transportUrl"),Re=st("_r","_r");function Be(t,e,o,r){e[t]=function(){try{return r&&n(r),o.apply(this,arguments)}catch(e){throw O("exc",t,e&&e.name),e}}}var Fe=function(t,e,n){this.V=t,this.fa=e,this.$=!1,this.oa=n,this.ea=1},Ue=function(t,e){var n;if(t.fa&&t.$)return 0;if(t.$=!0,e){if(t.oa&&nt(e,t.oa))return nt(e,t.oa);if(0==e.get(Oe))return 0}return 0==t.V?0:(void 0===n&&(n=J()),0==n%t.V?Math.floor(n/t.V)%t.ea+1:0)};var We=function(t){var e={};if(Ve(e)||ze(e)){var n=e[Pt];null==n||1/0==n||isNaN(n)||(0<n?(Ke(e,Rt),Ke(e,Ut),Ke(e,Ft),Ke(e,$t),Ke(e,Bt),Ke(e,Wt),Ke(e,Vt),t(e)):h(L,"load",(function(){We(t)}),!1))}},Ve=function(t){var e;if(!(e=(e=L.performance||L.webkitPerformance)&&e.timing))return!1;var n=e.navigationStart;return 0!=n&&(t[Pt]=e.loadEventStart-n,t[Rt]=e.domainLookupEnd-e.domainLookupStart,t[Ut]=e.connectEnd-e.connectStart,t[Ft]=e.responseStart-e.requestStart,t[$t]=e.responseEnd-e.responseStart,t[Bt]=e.fetchStart-n,t[Wt]=e.domInteractive-n,t[Vt]=e.domContentLoadedEventStart-n,!0)},ze=function(t){if(L.top!=L)return!1;var e=L.external,n=e&&e.onloadT;return e&&!e.isValidLoadTime&&(n=void 0),2147483648<n&&(n=void 0),0<n&&e.setPageReadyTime(),null!=n&&(t[Pt]=n,!0)},Ke=function(t,e){var n=t[e];(isNaN(n)||1/0==n||0>n)&&(t[e]=void 0)},Ge=function(t){return function(e){if("pageview"==e.get(pt)&&!t.I){t.I=!0;var n=function(t){var e=Math.min(nt(t,Oe),100);return!(Zn(et(t,Te))%100>=e)}(e);e=0<w(e.get(Et),"gclid").length,(n||e)&&We((function(e){t.send(n?"timing":"adtiming",e)}))}}},Xe=!1,Je=function(t){if("cookie"==et(t,Ie)){var e=et(t,Se),o=Qe(t),r=nn(et(t,Me)),i=en(et(t,Ae)),s=1e3*nt(t,Ce),a=et(t,xe);if("auto"!=i)S(e,o,r,i,a,s)&&(Xe=!0);else{var c;if(n(32),o=[],4!=(i=b().split(".")).length||(c=i[i.length-1],parseInt(c,10)!=c)){for(c=i.length-2;0<=c;c--)o.push(i.slice(c).join("."));o.push("none"),c=o}else c=["none"];for(var l=0;l<c.length;l++)if(i=c[l],t.data.set(Ae,i),o=Qe(t),S(e,o,r,i,a,s))return void(Xe=!0);t.data.set(Ae,"auto")}}},Ye=function(t){if("cookie"==et(t,Ie)&&!Xe&&(Je(t),!Xe))throw"abort"},Ze=function(t){if(t.get(qe)){var e=et(t,Ae),o=et(t,He)||b(),r=rn("__utma",o,e);r&&(n(19),t.set(ee,(new Date).getTime(),!0),t.set(Qt,r.R),(e=rn("__utmz",o,e))&&r.hash==e.hash&&t.set(te,e.R))}},Qe=function(t){var e=A(et(t,Te)),n=en(et(t,Ae)).split(".").length;return 1<(t=on(et(t,Me)))&&(n+="-"+t),["GA1",n,e].join(".")},tn=function(t,e,n){for(var o,r=[],i=[],s=0;s<t.length;s++){var a=t[s];a.H[n]==e?r.push(a):null==o||a.H[n]<o?(i=[a],o=a.H[n]):a.H[n]==o&&i.push(a)}return 0<r.length?r:i},en=function(t){return 0==t.indexOf(".")?t.substr(1):t},nn=function(t){return t?(1<t.length&&t.lastIndexOf("/")==t.length-1&&(t=t.substr(0,t.length-1)),0!=t.indexOf("/")&&(t="/"+t),t):"/"},on=function(t){return"/"==(t=nn(t))?1:t.split("/").length};function rn(t,e,n){"none"==e&&(e="");var o=[],r=x(t);t="__utma"==t?6:2;for(var i=0;i<r.length;i++){var s=(""+r[i]).split(".");s.length>=t&&o.push({hash:s[0],R:r[i],O:s})}if(0!=o.length)return 1==o.length?o[0]:sn(e,o)||sn(n,o)||sn(null,o)||o[0]}function sn(t,e){var n;null==t?n=t=1:(n=Zn(t),t=Zn(l(t,".")?t.substring(1):"."+t));for(var o=0;o<e.length;o++)if(e[o].hash==n||e[o].hash==t)return e[o]}var an=new RegExp(/^https?:\/\/([^\/:]+)/),cn=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/;function ln(t,e){var n=new Date,o=L.navigator,r=o.plugins||[];for(t=[t,o.userAgent,n.getTimezoneOffset(),n.getYear(),n.getDate(),n.getHours(),n.getMinutes()+e],e=0;e<r.length;++e)t.push(r[e].description);return Zn(t.join("."))}var un=function(t){n(48),this.target=t,this.T=!1};un.prototype.ca=function(t,e){if(t.tagName){if("a"==t.tagName.toLowerCase())return void(t.href&&(t.href=dn(this,t.href,e)));if("form"==t.tagName.toLowerCase())return fn(this,t)}if("string"==typeof t)return dn(this,t,e)};var dn=function(t,e,n){(r=cn.exec(e))&&3<=r.length&&(e=r[1]+(r[3]?r[2]+r[3]:"")),t=t.target.get("linkerParam");var o=e.indexOf("?"),r=e.indexOf("#");return n?e+=(-1==r?"#":"&")+t:(n=-1==o?"?":"&",e=-1==r?e+(n+t):e.substring(0,r)+n+t+e.substring(r)),e.replace(/&+_ga=/,"&_ga=")},fn=function(t,e){if(e&&e.action){var n=t.target.get("linkerParam").split("=")[1];if("get"==e.method.toLowerCase()){t=e.childNodes||[];for(var o=0;o<t.length;o++)if("_ga"==t[o].name)return void t[o].setAttribute("value",n);(t=T.createElement("input")).setAttribute("type","hidden"),t.setAttribute("name","_ga"),t.setAttribute("value",n),e.appendChild(t)}else"post"==e.method.toLowerCase()&&(e.action=dn(t,e.action))}};function mn(t,e){if(e==T.location.hostname)return!1;for(var n=0;n<t.length;n++)if(t[n]instanceof RegExp){if(t[n].test(e))return!0}else if(0<=e.indexOf(t[n]))return!0;return!1}un.prototype.S=function(t,e,o){function r(o){try{var r;o=o||L.event;t:{var s=o.target||o.srcElement;for(o=100;s&&0<o;){if(s.href&&s.nodeName.match(/^a(?:rea)?$/i)){r=s;break t}s=s.parentNode,o--}r={}}("http:"==r.protocol||"https:"==r.protocol)&&mn(t,r.hostname||"")&&r.href&&(r.href=dn(i,r.href,e))}catch(a){n(26)}}var i=this;this.T||(this.T=!0,h(T,"mousedown",r,!1),h(T,"keyup",r,!1)),o&&h(T,"submit",(function(e){if((e=(e=e||L.event).target||e.srcElement)&&e.action){var n=e.action.match(an);n&&mn(t,n[1])&&fn(i,e)}}))};var hn,pn=/^(GTM|OPT)-[A-Z0-9]+$/,gn=/;_gaexp=[^;]*/g,vn=/;((__utma=)|([^;=]+=GAX?\d+\.))[^;]*/g,wn=function(t,e,o){this.U=ae,this.aa=e,(e=o)||(e=(e=et(t,Le))&&"t0"!=e?Ln.test(e)?"_gat_"+A(et(t,xe)):"_gat_"+A(e):"_gat"),this.Y=e,Ue(new Fe(10),t)&&(n(30),this.pa=!0)},bn=function(t,e){e.get(t.U)||("1"==x(t.Y)[0]?e.set(t.U,"",!0):e.set(t.U,""+X(),!0))},yn=function(t,e){if(e.get(t.U)){var n=6e5;t.pa&&(n/=10),S(t.Y,"1",e.get(Me),e.get(Ae),e.get(xe),n)}},En=function(t,e){if(e.get(t.U)){var n=new E,o=function(t){it(t).F&&n.set(it(t).F,e.get(t))};o(ft),o(mt),o(xe),o(Te),o(je),o(t.U),n.set(it(ie).F,r(e));var i=t.aa;n.map((function(t,e){i+=m(t)+"=",i+=m(""+e)+"&"})),i+="z="+X(),d(i),e.set(t.U,"",!0)}},Ln=/^gtm\d+$/,Tn=function(t,e){var n;(t=t.b).get("dcLoaded")||(o(t,29),(e=e||{})[Se]&&(n=A(e[Se])),function(t,e){var n=e.get(ge);e.set(ge,(function(e){bn(t,e);var o=n(e);return yn(t,e),o}));var o=e.get(ve);e.set(ve,(function(e){var n=o(e);return En(t,e),n}))}(e=new wn(t,"https://stats.g.doubleclick.net/r/collect?t=dc&aip=1&_r=3&",n),t),t.set("dcLoaded",!0))},kn=function(t){if(!t.get("dcLoaded")&&"cookie"==t.get(Ie)){o(t,51);var e=new wn(t);bn(e,t),yn(e,t),t.get(e.U)&&(t.set(Re,1,!0),t.set($e,H()+"/r/collect",!0))}},jn=function(t){return t?(1*t).toFixed(3):"0"},xn=function(t){var e=L.performance;if(e&&e.getEntriesByName){n(35);var o="https://www.google-analytics.com/analytics.js?wpid="+t;g(o,void 0,void 0,(function(){try{var r=1,i=e.getEntriesByName("https://www.google-analytics.com/analytics.js");i&&0!=i.length||(i=e.getEntriesByName("http://www.google-analytics.com/analytics.js"),r=0);var s=e.getEntriesByName(o);if(i&&1==i.length&&s&&1==s.length){n(37);var a=i[0],c=s[0],l={tid:t,ad:jn(a.duration),bd:jn(c.duration),ar:jn(a.responseEnd-a.requestStart),br:jn(c.responseEnd-c.requestStart),an:jn(a.domainLookupEnd-a.domainLookupStart),bn:jn(c.domainLookupEnd-c.domainLookupStart),ac:jn(a.connectEnd-a.connectStart),bc:jn(c.connectEnd-c.connectStart),as:r};r=[];for(var u in r.push("_v=j48"),r.push("id=10"),l)l.hasOwnProperty(u)&&r.push(u+"="+m(l[u]));r.push("z="+X()),D("https://www.google-analytics.com/u/d",r.join("&"),f)}}catch(d){}}))}},Sn=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,An=function(t){function e(t,e){i.b.data.set(t,e)}function o(t,n){e(t,n),i.filters.add(t)}function r(t,e,o){Ue(new Fe(1e4,!0,e),i.b)&&(t=x(t))&&0<t.length&&n(o)}var i=this;this.b=new Z,this.filters=new $,e(Le,t[Le]),e(xe,u(t[xe])),e(Se,t[Se]),e(Ae,t[Ae]||b()),e(Me,t[Me]),e(Ce,t[Ce]),e(He,t[He]),e(qe,t[qe]),e(De,t[De]),e(Ne,t[Ne]),e(_e,t[_e]),e(Oe,t[Oe]),e(Pe,t[Pe]),e(Ie,t[Ie]),e(je,t[je]),e(ke,t[ke]),e(ft,1),e(mt,"j48"),o(ce,B),o(le,z),o(ue,F),o(de,G),o(fe,Ye),o(me,Ze),o(he,R),o(pe,Y),o(we,V),o(be,K),o(Ee,kn),o(ge,U),o(ve,W),o(ye,Ge(this)),Mn(this.b,t[Te]),Cn(this.b),this.b.set(ht,function(){var t=L.gaGlobal=L.gaGlobal||{};return t.hid=t.hid||X()}()),function(t,e,n){if(!hn){var o;o=T.location.hash;var r=L.name,i=/^#?gaso=([^&]*)/;(r=(o=(o=o&&o.match(i)||r&&r.match(i))?o[1]:x("GASO")[0]||"")&&o.match(/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(S("GASO",""+o,n,e,t,0),window._udo||(window._udo=e),window._utcp||(window._utcp=n),t=r[1],g("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(t?"prefix="+t+"&":"")+X(),"_gasojs")),hn=!0}}(this.b.get(xe),this.b.get(Ae),this.b.get(Me)),this.ra=new Fe(1e4,!0,"gaexp10"),r("_gid","gacookie11",41),r("_gaid","gacookie12",44)},Mn=function(t,e){if("cookie"==et(t,Ie)){var o;Xe=!1;t:{var r=x(et(t,Se));if(r&&!(1>r.length)){o=[];for(var i=0;i<r.length;i++){var s,a=(s=r[i].split(".")).shift();("GA1"==a||"1"==a)&&1<s.length?(1==(a=s.shift().split("-")).length&&(a[1]="1"),a[0]*=1,a[1]*=1,s={H:a,s:s.join(".")}):s=void 0,s&&o.push(s)}if(1==o.length){n(13),o=o[0].s;break t}if(0!=o.length){if(n(14),r=en(et(t,Ae)).split(".").length,1==(o=tn(o,r,0)).length){o=o[0].s;break t}r=on(et(t,Me)),o=(o=tn(o,r,1))[0]&&o[0].s;break t}n(12)}o=void 0}o||(o=et(t,Ae),null!=(o=rn("__utma",r=et(t,He)||b(),o))?(n(10),o=o.O[1]+"."+o.O[2]):o=void 0),o&&(t.data.set(Te,o),Xe=!0)}if(o=t.get(Ne),(i=w(T.location[o?"href":"search"],"_ga"))&&(t.get(De)?-1==(o=i.indexOf("."))?n(22):(r=i.substring(o+1),"1"!=i.substring(0,o)?n(22):-1==(o=r.indexOf("."))?n(22):(i=r.substring(0,o))!=ln(o=r.substring(o+1),0)&&i!=ln(o,-1)&&i!=ln(o,-2)?n(23):(n(11),t.data.set(Te,o))):n(21)),e&&(n(9),t.data.set(Te,m(e))),!t.get(Te))if(e=(e=L.gaGlobal&&L.gaGlobal.vid)&&-1!=e.search(/^(?:utma\.)?\d+\.\d+$/)?e:void 0)n(17),t.data.set(Te,e);else{for(n(8),o=(e=L.navigator.userAgent+(T.cookie?T.cookie:"")+(T.referrer?T.referrer:"")).length,r=L.history.length;0<r;)e+=r--^o++;t.data.set(Te,[X()^2147483647&Zn(e),Math.round((new Date).getTime()/1e3)].join("."))}Je(t)},Cn=function(t){var e=L.navigator,o=L.screen,r=T.location;if(t.set(Lt,function(t){var e=T.referrer;if(/^https?:\/\//i.test(e)){if(t)return e;t="//"+T.location.hostname;var n=e.indexOf(t);if((5==n||6==n)&&("/"==(t=e.charAt(n+t.length))||"?"==t||""==t||":"==t))return;return e}}(t.get(Pe))),r){var i=r.pathname||"";"/"!=i.charAt(0)&&(n(31),i="/"+i),t.set(Et,r.protocol+"//"+r.hostname+i+r.search)}o&&t.set(St,o.width+"x"+o.height),o&&t.set(xt,o.colorDepth+"-bit");o=T.documentElement;var s=(i=T.body)&&i.clientWidth&&i.clientHeight,a=[];if(o&&o.clientWidth&&o.clientHeight&&("CSS1Compat"===T.compatMode||!s)?a=[o.clientWidth,o.clientHeight]:s&&(a=[i.clientWidth,i.clientHeight]),o=0>=a[0]||0>=a[1]?"":a.join("x"),t.set(At,o),t.set(Ct,function(){var t,e,n;if((n=(n=L.navigator)?n.plugins:null)&&n.length)for(var o=0;o<n.length&&!e;o++){var r=n[o];-1<r.name.indexOf("Shockwave Flash")&&(e=r.description)}if(!e)try{e=(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(s){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="WIN 6,0,21,0",t.AllowScriptAccess="always",e=t.GetVariable("$version")}catch(s){}if(!e)try{e=(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(s){}return e&&(t=e.match(/[\d]+/g))&&3<=t.length&&(e=t[0]+"."+t[1]+" r"+t[2]),e||void 0}()),t.set(jt,T.characterSet||T.charset),t.set(Mt,e&&"function"==typeof e.javaEnabled&&e.javaEnabled()||!1),t.set(kt,(e&&(e.language||e.browserLanguage)||"").toLowerCase()),r&&t.get(Ne)&&(e=T.location.hash)){for(e=e.split(/[?&#]+/),r=[],o=0;o<e.length;++o)(l(e[o],"utm_id")||l(e[o],"utm_campaign")||l(e[o],"utm_source")||l(e[o],"utm_medium")||l(e[o],"utm_term")||l(e[o],"utm_content")||l(e[o],"gclid")||l(e[o],"dclid")||l(e[o],"gclsrc"))&&r.push(e[o]);0<r.length&&(e="#"+r.join("&"),t.set(Et,t.get(Et)+e))}};An.prototype.get=function(t){return this.b.get(t)},An.prototype.set=function(t,e){this.b.set(t,e)};var Hn={pageview:[Tt],event:[Ht,qt,It,Dt],social:[Nt,_t,Ot],timing:[zt,Kt,Xt,Gt]};An.prototype.send=function(t){var e,n;1>arguments.length||("string"==typeof arguments[0]?(e=arguments[0],n=[].slice.call(arguments,1)):(e=arguments[0]&&arguments[0][pt],n=arguments),e&&((n=y(Hn[e]||[],n))[pt]=e,this.b.set(n,void 0,!0),this.filters.D(this.b),this.b.data.m={},Ue(this.ra,this.b)&&xn(this.b.get(xe))))},An.prototype.ma=function(t,e){var n=this;Bn(t,n,e)||(Un(t,(function(){Bn(t,n,e)})),Fn(String(n.get(Le)),t,void 0,e,!0))};var qn,In,Dn,Nn,_n=function(t){return"prerender"!=T.visibilityState&&(t(),!0)},On=function(t){if(!_n(t)){n(16);var e=!1,o=function(){if(!e&&_n(t)){e=!0;var n=o,r=T;r.removeEventListener?r.removeEventListener("visibilitychange",n,!1):r.detachEvent&&r.detachEvent("onvisibilitychange",n)}};h(T,"visibilitychange",o)}},Pn=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,$n=function(t){if(s(t[0]))this.u=t[0];else{var e=Pn.exec(t[0]);if(null!=e&&4==e.length&&(this.c=e[1]||"t0",this.K=e[2]||"",this.C=e[3],this.a=[].slice.call(t,1),this.K||(this.A="create"==this.C,this.i="require"==this.C,this.g="provide"==this.C,this.ba="remove"==this.C),this.i&&(3<=this.a.length?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(c(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),e=t[1],t=t[2],!this.C)throw"abort";if(this.i&&(!c(e)||""==e))throw"abort";if(this.g&&(!c(e)||""==e||!s(t)))throw"abort";if(Rn(this.c)||Rn(this.K))throw"abort";if(this.g&&"t0"!=this.c)throw"abort"}};function Rn(t){return 0<=t.indexOf(".")||0<=t.indexOf(":")}qn=new E,Dn=new E,Nn=new E,In={ec:45,ecommerce:46,linkid:47};var Bn=function(t,e,n){e==Gn||e.get(Le);var o=qn.get(t);return!!s(o)&&(e.plugins_=e.plugins_||new E,!!e.plugins_.get(t)||(e.plugins_.set(t,new o(e,n||{})),!0))},Fn=function(t,e,o,r,i){if(!s(qn.get(e))&&!Dn.get(e)){if(In.hasOwnProperty(e)&&n(In[e]),pn.test(e)){if(n(52),!(t=Gn.j(t)))return!0;r={id:e,B:(o=r||{}).dataLayer||"dataLayer",ia:!!t.get("anonymizeIp"),na:i,G:!1},t.get("&gtm")==e&&(r.G=!0);var a=String(t.get("name"));"t0"!=a&&(r.target=a),j(String(t.get("trackingId")))||(r.ja=String(t.get(Te)),r.ka=Number(t.get(ke)),o=o.palindrome?vn:gn,o=(o=T.cookie.replace(/^|(; +)/g,";").match(o))?o.sort().join("").substring(1):void 0,r.la=o,r.qa=w(t.b.get(Et)||"","gclid")),t=r.B,o=(new Date).getTime(),L[t]=L[t]||[],o={"gtm.start":o},i||(o.event="gtm.js"),L[t].push(o),o=function(t){function e(t,e){e&&(n+="&"+t+"="+m(e))}var n="https://www.google-analytics.com/gtm/js?id="+m(t.id);return"dataLayer"!=t.B&&e("l",t.B),e("t",t.target),e("cid",t.ja),e("cidt",t.ka),e("gac",t.la),e("aip",t.ia),t.na&&e("m","sync"),e("cycle",t.G),t.qa&&e("gclid",t.qa),n}(r)}!o&&In.hasOwnProperty(e)?(n(39),o=e+".js"):n(43),o&&(o&&0<=o.indexOf("/")||(o=(dt||v()?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+o),t=(r=zn(o)).protocol,o=T.location.protocol,("https:"==t||t==o||"http:"==t&&"http:"==o)&&Vn(r)&&(g(r.url,void 0,i),Dn.set(e,!0)))}},Un=function(t,e){var n=Nn.get(t)||[];n.push(e),Nn.set(t,n)},Wn=function(t,e){qn.set(t,e),e=Nn.get(t)||[];for(var n=0;n<e.length;n++)e[n]();Nn.set(t,[])},Vn=function(t){var e=zn(T.location.href);return!!l(t.url,"https://www.google-analytics.com/gtm/js?id=")||!(t.query||0<=t.url.indexOf("?")||0<=t.path.indexOf("://"))&&(t.host==e.host&&t.port==e.port||(e="http:"==t.protocol?80:443,!("www.google-analytics.com"!=t.host||(t.port||e)!=e||!l(t.path,"/plugins/"))))},zn=function(t){function e(t){var e=(t.hostname||"").split(":")[0].toLowerCase(),n=(t.protocol||"").toLowerCase();n=1*t.port||("http:"==n?80:"https:"==n?443:"");return t=t.pathname||"",l(t,"/")||(t="/"+t),[e,""+n,t]}var n=T.createElement("a");n.href=T.location.href;var o=(n.protocol||"").toLowerCase(),r=e(n),i=n.search||"",s=o+"//"+r[0]+(r[1]?":"+r[1]:"");return l(t,"//")?t=o+t:l(t,"/")?t=s+t:!t||l(t,"?")?t=s+r[2]+(t||i):0>t.split("/")[0].indexOf(":")&&(t=s+r[2].substring(0,r[2].lastIndexOf("/"))+"/"+t),n.href=t,o=e(n),{protocol:(n.protocol||"").toLowerCase(),host:o[0],port:o[1],path:o[2],query:n.search||"",url:t||""}},Kn={ga:function(){Kn.f=[]}};Kn.ga(),Kn.D=function(t){var e=Kn.J.apply(Kn,arguments);e=Kn.f.concat(e);for(Kn.f=[];0<e.length&&!Kn.v(e[0])&&(e.shift(),!(0<Kn.f.length)););Kn.f=Kn.f.concat(e)},Kn.J=function(t){for(var e=[],n=0;n<arguments.length;n++)try{var o=new $n(arguments[n]);o.g?Wn(o.a[0],o.a[1]):(o.i&&(o.ha=Fn(o.c,o.a[0],o.X,o.W)),e.push(o))}catch(r){}return e},Kn.v=function(t){try{if(t.u)t.u.call(L,Gn.j("t0"));else{var e=t.c==ut?Gn:Gn.j(t.c);if(t.A)"t0"!=t.c||Gn.create.apply(Gn,t.a);else if(t.ba)Gn.remove(t.c);else if(e)if(t.i){if(t.ha&&(t.ha=Fn(t.c,t.a[0],t.X,t.W)),!Bn(t.a[0],e,t.W))return!0}else if(t.K){var n=t.C,o=t.a,r=e.plugins_.get(t.K);r[n].apply(r,o)}else e[t.C].apply(e,t.a)}}catch(i){}};var Gn=function(t){n(1),Kn.D.apply(Kn,[arguments])};Gn.h={},Gn.P=[],Gn.L=0,Gn.answer=42;var Xn=[xe,Ae,Le];Gn.create=function(t){var e=y(Xn,[].slice.call(arguments));e[Le]||(e[Le]="t0");var n=""+e[Le];return Gn.h[n]?Gn.h[n]:(e=new An(e),Gn.h[n]=e,Gn.P.push(e),e)},Gn.remove=function(t){for(var e=0;e<Gn.P.length;e++)if(Gn.P[e].get(Le)==t){Gn.P.splice(e,1),Gn.h[t]=null;break}},Gn.j=function(t){return Gn.h[t]},Gn.getAll=function(){return Gn.P.slice(0)},Gn.N=function(){"ga"!=ut&&n(49);var t=L[ut];if(!t||42!=t.answer){if(Gn.L=t&&t.l,Gn.loaded=!0,Be("create",e=L[ut]=Gn,e.create),Be("remove",e,e.remove),Be("getByName",e,e.j,5),Be("getAll",e,e.getAll,6),Be("get",e=An.prototype,e.get,7),Be("set",e,e.set,4),Be("send",e,e.send),Be("requireSync",e,e.ma),Be("get",e=Z.prototype,e.get),Be("set",e,e.set),!v()&&!dt){t:{for(var e=T.getElementsByTagName("script"),o=0;o<e.length&&100>o;o++){var r=e[o].src;if(r&&0==r.indexOf("https://www.google-analytics.com/analytics")){n(33),e=!0;break t}}e=!1}e&&(dt=!0)}v()||dt||!Ue(new Fe(1e4))||(n(36),dt=!0),(L.gaplugins=L.gaplugins||{}).Linker=un,e=un.prototype,Wn("linker",un),Be("decorate",e,e.ca,20),Be("autoLink",e,e.S,25),Wn("displayfeatures",Tn),Wn("adfeatures",Tn),t=t&&t.q,a(t)?Kn.D.apply(Gn,t):n(50)}},Gn.da=function(){for(var t=Gn.getAll(),e=0;e<t.length;e++)t[e].get(Le)};var Jn=Gn.N,Yn=L[ut];function Zn(t){var e,n,o=1;if(t)for(o=0,n=t.length-1;0<=n;n--)o=0!=(e=266338304&(o=(o<<6&268435455)+(e=t.charCodeAt(n))+(e<<14)))?o^e>>21:o;return o}Yn&&Yn.r?Jn():On(Jn),On((function(){Kn.D(["provide","render",f])}))}(),function(){var t=window,e="push",n="length",o="prototype",r=function(t){if(t.get&&t.set){this.clear();var e=t.get("buildHitTask");t.set("buildHitTask",d(this,e)),t.set("_rlt",f(this,t.get("_rlt")))}},i={action:"pa",promoAction:"promoa",id:"ti",affiliation:"ta",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",step:"cos",label:"col",option:"col",options:"col",list:"pal",listSource:"pls"},s={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",quantity:"qt",coupon:"cc","dimension(\\d+)":"cd","metric(\\d+)":"cm"},a={id:"id",name:"nm",creative:"cr",position:"ps"},c=function(t,e){this.name=t,this.source=e,this.e=[]},l="detail checkout checkout_option click add remove purchase refund".split(" ");r[o].clear=function(){this.b=void 0,this.f=[],this.a=[],this.g=[],this.d=void 0},r[o].h=function(t,e){var n=e||{};"promo_click"==t?n.promoAction="click":n.action=t,this.b=m(n)},r[o].j=function(t){(t=m(t))&&this.f[e](t)},r[o].i=function(t){var o=m(t);if(o){var r,i=t.list||"";t=t.listSource||"";for(var s=0;s<this.a[n];s++)if(this.a[s].name==i){r=this.a[s];break}r||(r=new c(i,t),this.a[e](r)),r.e[e](o)}},r[o].c=function(t){(t=m(t))&&this.g[e](t)};var u=function(t,e,r){if("[object Array]"==Object[o].toString.call(Object(t)))for(var i=0;i<t[n];i++)e.call(r,t[i])};r[o].data=function(t){if(t&&t.ecommerce){(t=t.ecommerce).promoView&&u(t.promoView.promotions,this.c,this),t.promoClick&&(this.h("promo_click",t.promoClick.actionField),u(t.promoClick.promotions,this.c,this));for(var e=0;e<l[n];e++){var o=t[l[e]];if(o){this.h(l[e],o.actionField),u(o.products,this.j,this);break}}u(t.impressions,this.i,this),t.currencyCode&&(this.d=t.currencyCode)}};var d=function(t,e){return function(o){var r,c,l;for(t.b&&h(i,t.b,o,"&"),r=0;r<t.f[n];r++)c="&pr"+(r+1),h(s,t.f[r],o,c);for(r=0;r<t.a[n];r++){c="&il"+(r+1),(l=t.a[r]).name&&o.set(c+"nm",l.name,!0),l.source&&o.set(c+"ls",l.source,!0);for(var u=0;u<l.e[n];u++)h(s,l.e[u],o,c+"pi"+(u+1))}for(r=0;r<t.g[n];r++)c="&promo"+(r+1),h(a,t.g[r],o,c);return t.d&&o.set("&cu",t.d,!0),t.clear(),e(o)}},f=function(t,e){return function(n){var o=t.b&&t.b.action;if("purchase"!=o&&"refund"!=o)return e(n)}},m=function(t){var e=0,n={};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o],e++);return e?n:void 0},h=function(t,e,n,o){for(var r in e)if(e.hasOwnProperty(r))for(var i in t)if(t.hasOwnProperty(i)){var s=r.match("^"+i+"$");s&&n.set(o+t[i]+s.slice(1).join(""),e[r],!0)}};!function(){t.gaplugins=t.gaplugins||{},t.gaplugins.EC=r,r[o].setAction=r[o].h,r[o].addProduct=r[o].j,r[o].addImpression=r[o].i,r[o].addPromo=r[o].c,r[o].clear=r[o].clear,r[o].data=r[o].data;var n=t.GoogleAnalyticsObject||"ga";t[n]=t[n]||function(){(t[n].q=t[n].q||[])[e](arguments)},t[n]("provide","ec",r)}()}(),window.ga||(window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[]),Rn="octolyticsPlugin",Bn=function(t){const e=t.get("sendHitTask");t.set("sendHitTask",(function(t){if(e(t),"event"===t.get("hitType")&&window._octo){const e=`//${window._octo.host}/collect`,n=new Blob([t.get("hitPayload")],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon&&navigator.sendBeacon(e,n)}}))},window.ga("provide",Rn,Bn);var Fn=null,Un=null,Wn=[];function Vn(t,e){var n=[];function o(){var t=n;n=[],e(t)}return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];n.push(r),1===n.length&&zn(t,o)}}function zn(t,e){Un||(Un=new MutationObserver(Kn)),Fn||(Fn=t.createElement("div"),Un.observe(Fn,{attributes:!0})),Wn.push(e),Fn.setAttribute("data-twiddle",""+Date.now())}function Kn(){var t=Wn;Wn=[];for(var e=0;e<t.length;e++)try{t[e]()}catch(n){setTimeout((function(){throw n}),0)}}var Gn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Yn=new WeakMap;function Zn(t,e){for(var n=0;n<e.length;n++){var o=e[n],r=o[0],i=o[1],s=o[2];r===io?(Qn(s,i),to(s,i)):r===so?eo(s,i):r===ao&&no(t.observers,i)}}function Qn(t,e){if(e instanceof t.elementConstructor){var n=Gn.get(e);if(n||(n=[],Gn.set(e,n)),-1===n.indexOf(t.id)){var o=void 0;if(t.initialize&&(o=t.initialize.call(void 0,e)),o){var r=Xn.get(e);r||(r={},Xn.set(e,r)),r[""+t.id]=o}n.push(t.id)}}}function to(t,e){if(e instanceof t.elementConstructor){var n=Yn.get(e);if(n||(n=[],Yn.set(e,n)),-1===n.indexOf(t.id)){t.elements.push(e);var o=Xn.get(e),r=o?o[""+t.id]:null;if(r&&r.add&&r.add.call(void 0,e),t.subscribe){var i=t.subscribe.call(void 0,e);if(i){var s=Jn.get(e);s||(s={},Jn.set(e,s)),s[""+t.id]=i}}t.add&&t.add.call(void 0,e),n.push(t.id)}}}function eo(t,e){if(e instanceof t.elementConstructor){var n=Yn.get(e);if(n){var o=t.elements.indexOf(e);if(-1!==o&&t.elements.splice(o,1),-1!==(o=n.indexOf(t.id))){var r=Xn.get(e),i=r?r[""+t.id]:null;if(i&&i.remove&&i.remove.call(void 0,e),t.subscribe){var s=Jn.get(e),a=s?s[""+t.id]:null;a&&a.unsubscribe&&a.unsubscribe()}t.remove&&t.remove.call(void 0,e),n.splice(o,1)}0===n.length&&Yn.delete(e)}}}function no(t,e){var n=Yn.get(e);if(n){for(var o=n.slice(0),r=0;r<o.length;r++){var i=t[o[r]];if(i){var s=i.elements.indexOf(e);-1!==s&&i.elements.splice(s,1);var a=Xn.get(e),c=a?a[""+i.id]:null;c&&c.remove&&c.remove.call(void 0,e);var l=Jn.get(e),u=l?l[""+i.id]:null;u&&u.unsubscribe&&u.unsubscribe(),i.remove&&i.remove.call(void 0,e)}}Yn.delete(e)}}var oo=null;function ro(t){return"matches"in t||"webkitMatchesSelector"in t||"mozMatchesSelector"in t||"oMatchesSelector"in t||"msMatchesSelector"in t}var io=1,so=2,ao=3;function co(t,e,n){for(var o=0;o<n.length;o++){var r=n[o];"childList"===r.type?(lo(t,e,r.addedNodes),uo(t,e,r.removedNodes)):"attributes"===r.type&&fo(t,e,r.target)}(function(t){if(null===oo){var e=t.createElement("div"),n=t.createElement("div"),o=t.createElement("div");e.appendChild(n),n.appendChild(o),e.innerHTML="",oo=o.parentNode!==n}return oo})(t.ownerDocument)&&function(t,e){for(var n=0;n<t.observers.length;n++){var o=t.observers[n];if(o)for(var r=o.elements,i=0;i<r.length;i++){var s=r[i];s.parentNode||e.push([ao,s])}}}(t,e)}function lo(t,e,n){for(var o=0;o<n.length;o++){var r=n[o];if(ro(r))for(var i=t.selectorSet.matches(r),s=0;s<i.length;s++){var a=i[s].data;e.push([io,r,a])}if("querySelectorAll"in r)for(var c=t.selectorSet.queryAll(r),l=0;l<c.length;l++)for(var u=c[l],d=u.data,f=u.elements,m=0;m<f.length;m++)e.push([io,f[m],d])}}function uo(t,e,n){for(var o=0;o<n.length;o++){var r=n[o];if("querySelectorAll"in r){e.push([ao,r]);for(var i=r.querySelectorAll("*"),s=0;s<i.length;s++)e.push([ao,i[s]])}}}function fo(t,e,n){if(ro(n))for(var o=t.selectorSet.matches(n),r=0;r<o.length;r++){var i=o[r].data;e.push([io,n,i])}if("querySelectorAll"in n){var s=Yn.get(n);if(s)for(var a=0;a<s.length;a++){var c=t.observers[s[a]];c&&(t.selectorSet.matchesSelector(n,c.selector)||e.push([so,n,c]))}}}var mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho=0;function po(t){this.rootNode=9===t.nodeType?t.documentElement:t,this.ownerDocument=9===t.nodeType?t:t.ownerDocument,this.observers=[],this.selectorSet=new _e,this.mutationObserver=new MutationObserver(wo.bind(this,this)),this._scheduleAddRootNodes=Vn(this.ownerDocument,vo.bind(this,this)),this._handleThrottledChangedTargets=Vn(this.ownerDocument,yo.bind(this,this)),this.rootNode.addEventListener("change",bo.bind(this,this),!1),function(t,e){var n=t.readyState;"interactive"===n||"complete"===n?zn(t,e):t.addEventListener("DOMContentLoaded",zn(t,e))}(this.ownerDocument,go.bind(this,this))}function go(t){t.mutationObserver.observe(t.rootNode,{childList:!0,attributes:!0,subtree:!0}),t._scheduleAddRootNodes()}function vo(t){var e=[];lo(t,e,[t.rootNode]),Zn(t,e)}function wo(t,e){var n=[];co(t,n,e),Zn(t,n)}function bo(t,e){t._handleThrottledChangedTargets(e.target)}function yo(t,e){var n=[];!function(t,e,n){for(var o=0;o<n.length;o++)for(var r=n[o],i=r.form?r.form.elements:t.rootNode.querySelectorAll("input"),s=0;s<i.length;s++)fo(t,e,i[s])}(t,n,e),Zn(t,n)}po.prototype.disconnect=function(){this.mutationObserver.disconnect()},po.prototype.observe=function(t,e){var n=void 0;"function"==typeof e?n={selector:t,initialize:e}:"object"===(void 0===e?"undefined":mo(e))?(n=e).selector=t:n=t;var o=this,r={id:ho++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){o._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},po.prototype._abortObserving=function(t){for(var e=t.elements,n=0;n<e.length;n++)eo(t,e[n]);this.selectorSet.remove(t.selector,t),delete this.observers[t.id]},po.prototype.triggerObservers=function(t){var e=[];!function(t,e,n){if("querySelectorAll"in n){fo(t,e,n);for(var o=n.querySelectorAll("*"),r=0;r<o.length;r++)fo(t,e,o[r])}}(this,e,t),Zn(this,e)};var Eo=void 0;function Lo(){return Eo||(Eo=new po(window.document)),Eo}function To(){var t;return(t=Lo()).observe.apply(t,arguments)}const ko=document.querySelector("meta[name=google-analytics]");ko instanceof HTMLMetaElement&&(!function(t,e,n={}){window.ga("create",t,e,n),window.ga("set","transport","sendBeacon"in window.navigator?"beacon":"xhr")}(ko.content,"auto"),Dn("octolyticsPlugin"),Dn("ec"),_n()),async function(){await Ae,Pn()}(),document.addEventListener("pjax:complete",()=>{setTimeout(()=>{_n(),Pn()},20)},!1),To("[data-ga-load]",(function(t){const e=$n(t.getAttribute("data-ga-load")||"");e.interactive=!1,Nn(e)})),To("meta[name=analytics-event]",{constructor:HTMLMetaElement,initialize(t){const e=$n(t.content);e.interactive=!1,Nn(e)}}),sn("click","[data-ga-click]",(function(t){On(t.currentTarget.getAttribute("data-ga-ec")||""),Nn($n(t.currentTarget.getAttribute("data-ga-click")||""))}),{capture:!0}),sn("click","[data-ga-deferred]",(function(t){Mn("ga-deferred",t.currentTarget.getAttribute("data-ga-deferred")||"")}),{capture:!0}),sn("change","[data-ga-change]",(function(t){On(t.currentTarget.getAttribute("data-ga-ec")||""),Nn($n(t.currentTarget.getAttribute("data-ga-change")||""))}),{capture:!0}),sn("click",".js-skip-to-content",(function(t){const e=document.getElementById("start-of-content");if(e){const t=e.nextElementSibling;t instanceof HTMLElement&&(t.setAttribute("tabindex","-1"),t.focus())}t.preventDefault()}));const jo="ontouchstart"in document;for(const cu of document.querySelectorAll(".HeaderMenu-details"))cu.addEventListener("toggle",Ao),jo||(cu.addEventListener("mouseover",Mo),cu.addEventListener("mouseleave",Mo));let xo,So=!1;function Ao(t){if(!So){So=!0;for(const e of document.querySelectorAll(".HeaderMenu-details"))e!==t.currentTarget&&e.removeAttribute("open");setTimeout(()=>So=!1)}}function Mo(t){const{currentTarget:e}=t;e instanceof HTMLElement&&window.innerWidth>1012&&("mouseover"===t.type&&t instanceof MouseEvent?t.target instanceof Node&&t.relatedTarget instanceof Node&&e.contains(t.target)&&!e.contains(t.relatedTarget)&&e.setAttribute("open",""):e.removeAttribute("open"))}function Co(t,e){const n=document.querySelector('.js-site-favicon[type="image/svg+xml"]'),o=document.querySelector('.js-site-favicon[type="image/png"]');e||(e="light");const r="light"===e?"":"-dark";if(n&&o)if(null==xo&&(xo=n.href),t){t=`${t=t.substr(0,t.lastIndexOf("."))}${r}.svg`,n.href=t;const e=n.href.substr(0,n.href.lastIndexOf("."));o.href=`${e}.png`}else{const t=n.href.indexOf("-dark.svg"),e=n.href.substr(0,-1!==t?t:n.href.lastIndexOf("."));n.href=`${e}${r}.svg`,o.href=`${e}${r}.png`}}function Ho(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function qo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}To("[data-favicon-override]",{add(t){const e=Te(t,"data-favicon-override");setTimeout(()=>Co(e,Ho()?"dark":"light"))},remove(){null!=xo&&Co(xo,Ho()?"dark":"light")}}),Ho()&&Co(void 0,"dark"),window.matchMedia("(prefers-color-scheme: dark)").addListener(()=>{Co(void 0,Ho()?"dark":"light")});class Io{constructor(t){qo(this,"parent",void 0),qo(this,"children",[]),this.parent=t}delete(t){const e=this.children.indexOf(t);return-1!==e&&(this.children=this.children.slice(0,e).concat(this.children.slice(e+1)),0===this.children.length&&this.parent.delete(this),!0)}add(t){return this.children.push(t),this}}class Do{constructor(t){qo(this,"parent",null),qo(this,"children",{}),this.parent=t||null}get(t){return this.children[t]}insert(t){let e=this;for(let n=0;n<t.length;n+=1){const o=t[n];let r=e.get(o);if(n===t.length-1)return r instanceof Do&&(e.delete(r),r=null),r||(r=new Io(e),e.children[o]=r),r;r instanceof Io&&(r=null),r||(r=new Do(e),e.children[o]=r),e=r}return e}delete(t){for(const e in this.children){if(this.children[e]===t){const t=delete this.children[e];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),t}}return!1}}function No(t){if(!(t instanceof HTMLElement))return!1;const e=t.nodeName.toLowerCase(),n=(t.getAttribute("type")||"").toLowerCase();return"select"===e||"textarea"===e||"input"===e&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n||t.isContentEditable}function _o(t){return`${t.ctrlKey?"Control+":""}${t.altKey?"Alt+":""}${t.metaKey?"Meta+":""}${t.shiftKey&&t.key.toUpperCase()!==t.key?"Shift+":""}${t.key}`}const Oo=new Do,Po=new WeakMap;let $o=Oo,Ro=null;function Bo(){Ro=null,$o=Oo}function Fo(t){if(t.target instanceof Node&&No(t.target))return;null!=Ro&&clearTimeout(Ro),Ro=setTimeout(Bo,1500);const e=$o.get(_o(t));if(e)return $o=e,e instanceof Io?(function(t){No(t)?t.focus():t.click()}(e.children[e.children.length-1]),t.preventDefault(),void Bo()):void 0;Bo()}To("[data-hotkey]",{add(t){!function(t,e){0===Object.keys(Oo.children).length&&document.addEventListener("keydown",Fo);const n=function(t){return t.split(",").map(t=>t.split(" "))}(e||t.getAttribute("data-hotkey")||"").map(e=>Oo.insert(e).add(t));Po.set(t,n)}(t)},remove(t){!function(t){const e=Po.get(t);if(e&&e.length)for(const n of e)n&&n.delete(t);0===Object.keys(Oo.children).length&&document.removeEventListener("keydown",Fo)}(t)}});class Uo{constructor(t){this.closed=!1,this.unsubscribe=()=>{t(),this.closed=!0}}}function Wo(t,e,n,o={capture:!1}){return t.addEventListener(e,n,o),new Uo(()=>{t.removeEventListener(e,n,o)})}function Vo(...t){return new Uo(()=>{for(const e of t)e.unsubscribe()})}class zo extends Error{constructor(t,e){super(`${t} for HTTP ${e.status}`),this.response=e}}function Ko(t,e){const n=t.createElement("template");return n.innerHTML=e,t.importNode(n.content,!0)}class Go extends Error{constructor(t){super(),this.response=t,this.framesToPop=1}}const Xo=window.AbortError||class extends Error{};function Jo(t,e){if(t.status>=200&&t.status<300)return t;{const n=t.statusText?` ${t.statusText}`:"";throw e.message=`HTTP ${t.status}${n}`,e}}function Yo(t,e){const n=e?Object.assign({},e):{};n.credentials||(n.credentials="same-origin");const o=new Request(t,n);if(o.headers.append("X-Requested-With","XMLHttpRequest"),/#csrf-token=/.test(o.url))throw new TypeError("URL with encoded CSRF token was passed to fetch(); csrfRequestWithToken(url, token) must be used instead");return o}async function Zo(t,e){const n=await self.fetch(t);if(e&&e.aborted)throw new Xo("The operation was aborted");return n}async function Qo(t,e){const n=Yo(t,e),o=await Zo(n,e&&e.signal);return Jo(o,new Go(o)),o.text()}async function tr(t,e,n){const o=Yo(e,n),r=await Zo(o,n&&n.signal);return Jo(r,new Go(r)),function(t,e){const n=e.headers.get("content-type")||"";if(!n.startsWith("text/html"))throw new zo(`expected response with text/html, but was ${n}`,e);const o=e.headers.get("x-html-safe");if(!o)throw new zo("missing X-HTML-Safe nonce",e);if(o!==t)throw new zo("response X-HTML-Safe nonce did not match",e)}(function(t){const e=t.querySelector("meta[name=html-safe-nonce]");if(null==e||!(e instanceof HTMLMetaElement))throw new Error("could not find html-safe-nonce on document");const n=e.content;if(n)return n;throw new Error("could not find html-safe-nonce on document")}(t),r),Ko(t,await r.text())}function er(t,e){const n=new Map;return function(...o){const r=e?e(...o):JSON.stringify(o),i=n.get(r);if(void 0!==i)return i;const s=t(...o);return n.set(r,s),s}}function nr(t){const e=[];for(const n of function(){try{return document.cookie.split(";")}catch(t){return[]}}()){const[o,r]=n.trim().split("=");t===o&&void 0!==r&&e.push({key:o,value:r})}return e}function or(t){if(!window._octo)return;const e=Math.floor((new Date).getTime()/1e3);t.timestamp=e;if(document.head&&document.head.querySelector('meta[name="octolytics-event-url"]')){const e=ye(document.head,'meta[name="octolytics-event-url"]',HTMLMetaElement).content,n=JSON.stringify(t);navigator.sendBeacon&&navigator.sendBeacon(e,n)}}function rr(t){var e,n;const o=null===(n=null===(e=t.head)||void 0===e?void 0:e.querySelector('meta[name="expected-hostname"]'))||void 0===n?void 0:n.content;return!!o&&o.replace(/\.$/,"").split(".").slice(-2).join(".")!==t.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".")}sn("click","[data-octo-click]",(function(t){if(!window._octo)return;const e=t.currentTarget,n=e instanceof HTMLElement&&e.getAttribute("data-octo-click")||"",o={};o.event_type=n;const r={},i={},s={};let a=[];e instanceof HTMLElement&&e.hasAttribute("data-octo-dimensions")&&(a=(e.getAttribute("data-octo-dimensions")||"").split(","));const c=document.head?document.head.querySelectorAll('meta[name^="octolytics-"]'):[];for(const u of c)if(u instanceof HTMLMetaElement)if(u.name.startsWith("octolytics-dimension-")){r[u.name.replace(/^octolytics-dimension-/,"")]=u.content}else if(u.name.startsWith("octolytics-measure-")){i[u.name.replace(/^octolytics-measure-/,"")]=u.content}else if(u.name.startsWith("octolytics-context-")){s[u.name.replace(/^octolytics-context-/,"")]=u.content}else if(u.name.startsWith("octolytics-actor-")){r[u.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=u.content}else if(u.name.startsWith("octolytics-")){o[u.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=u.content}const l=document.querySelector("meta[name=visitor-payload]");if(l instanceof HTMLMetaElement){const t=JSON.parse(atob(l.content));Object.assign(r,t)}if(e instanceof HTMLElement&&e.hasAttribute("data-ga-click")){const t=(e.getAttribute("data-ga-click")||"").split(",").map(t=>t.trim());r.category=t[0],r.action=t[1]}for(const u of a){const t=u.split(":"),e=t.shift();e&&(r[e]=t.join(":"))}o.dimensions=r,o.measures=i,o.context=s,or(o)}));let ir=[];function sr(t,e=!1){void 0===t.timestamp&&(t.timestamp=(new Date).getTime()),ir.push(t),e?cr():async function(){await Me,null==ar&&(ar=window.requestIdleCallback(cr))}()}let ar=null;function cr(){var t,e;if(ar=null,rr(document))return;const n=null===(e=null===(t=document.head)||void 0===t?void 0:t.querySelector('meta[name="browser-stats-url"]'))||void 0===e?void 0:e.content;if(!n)return;const o=JSON.stringify({stats:ir});navigator.sendBeacon&&navigator.sendBeacon(n,o),ir=[]}function lr(t,e,n){const o={hydroEventPayload:t,hydroEventHmac:e,visitorPayload:"",visitorHmac:"",hydroClientContext:n},r=document.querySelector("meta[name=visitor-payload]");r instanceof HTMLMetaElement&&(o.visitorPayload=r.content);const i=document.querySelector("meta[name=visitor-hmac]")||"";i instanceof HTMLMetaElement&&(o.visitorHmac=i.content),sr(o,!0)}sn("click","[data-hydro-click]",(function(t){const e=t.currentTarget;lr(e.getAttribute("data-hydro-click")||"",e.getAttribute("data-hydro-click-hmac")||"",e.getAttribute("data-hydro-client-context")||"")}));const ur=document.querySelector(".js-hovercard-content"),dr=er(tr);let fr,mr,hr=null,pr=0;function gr(t){return"Popover-message--"+t}function vr(t){setTimeout(()=>{if(document.body&&document.body.contains(t)){const e=t.querySelector("[data-hovercard-tracking]");if(e){const t=e.getAttribute("data-hovercard-tracking");if(t){const e={event_type:"user-hovercard-load"};e.dimensions=JSON.parse(t),or(e)}}const n=t.querySelector("[data-hydro-view]");n instanceof HTMLElement&&function(t){lr(t.getAttribute("data-hydro-view")||"",t.getAttribute("data-hydro-view-hmac")||"",t.getAttribute("data-hydro-client-context")||"")}(n)}},500)}function wr(){ur instanceof HTMLElement&&(ur.style.display="none",ur.children[0].innerHTML="",hr=null,fr=null)}function br(t){if(!(ur instanceof HTMLElement))throw new Error("invariant violation, cardContentContainer is not HTMLElement");const{width:e,height:n}=ur.getBoundingClientRect(),{left:o,top:r,height:i,width:s}=function(t){const e=t.getClientRects();let n=e[0];for(const o of e)if(o.left<pr&&o.right>pr){n=o;break}return n}(t),a=r>n;if(t.classList.contains("js-hovercard-left")){const t=r+i/2;return{containerTop:a?t-n+17+8:t-17-8,containerLeft:o-e-12,contentClassSuffix:a?"right-bottom":"right-top"}}{const t=window.innerWidth-o>e,c=o+s/2;return{containerTop:a?r-n-12:r+i+12,containerLeft:t?c-24:c-e+24,contentClassSuffix:a?t?"bottom-left":"bottom-right":t?"top-left":"top-right"}}}function yr(t,e){if(!(ur instanceof HTMLElement))return;const n=ur.children[0];n.innerHTML="";const o=document.createElement("div");for(const r of t.children)o.appendChild(r.cloneNode(!0));n.appendChild(o),function(t,e){if(!(ur instanceof HTMLElement))return;ur.style.visibility="hidden",ur.style.display="block",e.classList.remove(gr("bottom-left"),gr("bottom-right"),gr("right-top"),gr("right-bottom"),gr("top-left"),gr("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:r}=br(t);e.classList.add(gr(r)),ur.style.top=`${n+window.pageYOffset}px`,ur.style.left=`${o+window.pageXOffset}px`,function(t,e){const n=t.getAttribute("data-hovercard-z-index-override");e.style.zIndex=n||"100"}(t,ur),ur.style.visibility=""}(e,n),vr(o),ur.style.display="block"}function Er(t){const e=t.getAttribute("data-hovercard-url");if(e){const n=function(t){const e=t.closest("[data-hovercard-subject-tag]");if(e)return e.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}(t);if(n){const t=new URL(e,window.location.origin),o=new URLSearchParams(t.search.slice(1));return o.append("subject",n),o.append("current_path",window.location.pathname+window.location.search),t.search=o.toString(),t.toString()}return e}return""}function Lr(t){!async function(t,e){const n=t.currentTarget;if(t instanceof MouseEvent&&(pr=t.clientX),!(n instanceof Element))return;if(fr===n)return;if(n.closest(".js-hovercard-content"))return;if(!function(t){const e=t.getAttribute("data-hovercard-type");return"pull_request"===e||"issue"===e?!!t.closest("[data-issue-and-pr-hovercards-enabled]"):"team"===e?!!t.closest("[data-team-hovercards-enabled]"):"repository"===e?!!t.closest("[data-repository-hovercards-enabled]"):"commit"===e?!!t.closest("[data-commit-hovercards-enabled]"):"project"===e?!!t.closest("[data-project-hovercards-enabled]"):"contributors"===e?!!t.closest("[data-contributors-hovercards-enabled]"):"discussion"!==e||!!t.closest("[data-discussion-hovercards-enabled]")}(n))return;wr(),fr=n,hr=document.activeElement;const o=Er(n);let r;try{const t=new Promise(t=>window.setTimeout(t,e,0));r=await dr(document,o),await t}catch(i){const t=i.response;if(t&&404===t.status){const t="Hovercard is unavailable";n.setAttribute("aria-label",t),n.classList.add("tooltipped","tooltipped-ne")}else if(t&&410===t.status){const e=await t.clone().json();n.setAttribute("aria-label",e.message),n.classList.add("tooltipped","tooltipped-ne")}return}n===fr&&(yr(r,n),t instanceof KeyboardEvent&&ur instanceof HTMLElement&&ur.focus())}(t,250)}function Tr(t){if(fr){if(t instanceof MouseEvent&&t.relatedTarget instanceof HTMLElement){const e=t.relatedTarget;if(e.closest(".js-hovercard-content")||e.closest("[data-hovercard-url]"))return}else t instanceof KeyboardEvent&&hr instanceof HTMLElement&&hr.focus();wr()}}function kr(t){const e=fr;mr=window.setTimeout(()=>{fr===e&&Tr(t)},100)}function jr(t){if(t instanceof KeyboardEvent)switch(t.key){case"Escape":Tr(t)}}function xr(){mr&&clearTimeout(mr)}ur&&(To("[data-hovercard-url]",{subscribe:t=>Vo(Wo(t,"mouseover",Lr),Wo(t,"mouseleave",kr),Wo(t,"keyup",jr))}),To("[data-hovercard-url]",{remove(t){fr===t&&wr()}}),To(".js-hovercard-content",{subscribe:t=>Vo(Wo(t,"mouseover",xr),Wo(t,"mouseleave",Tr),Wo(t,"keyup",jr))}),To(".js-hovercard-include-fragment",{constructor:HTMLTemplateElement,add(t){fr&&yr(t.content,fr)}}),sn("menu:activated","details",wr),window.addEventListener("statechange",wr));let Sr=!1;const Ar=new _e;function Mr(t){const e=t.target;if(e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE)for(const n of Ar.matches(e))n.data.call(null,e)}function Cr(t,e){Sr||(Sr=!0,document.addEventListener("focus",Mr,!0)),Ar.add(t,e),document.activeElement instanceof HTMLElement&&document.activeElement.matches(t)&&e(document.activeElement)}function Hr(t,e,n){function o(e){const r=e.currentTarget;r&&(r.removeEventListener(t,n),r.removeEventListener("blur",o))}Cr(e,(function(e){e.addEventListener(t,n),e.addEventListener("blur",o)}))}function qr(t,e){function n(t){const{currentTarget:o}=t;o&&(o.removeEventListener("input",e),o.removeEventListener("blur",n))}Cr(t,(function(t){t.addEventListener("input",e),t.addEventListener("blur",n)}))}function Ir(t){const e=t.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(e){if(1===e.length){const t=_r(e[0]);if(!t)return;return Object.freeze({start:t,end:t})}if(2===e.length){const t=_r(e[0]),n=_r(e[1]);if(!t||!n)return;return Pr(Object.freeze({start:t,end:n}))}}else;}function Dr(t){return{blobRange:Ir(t),anchorPrefix:function(t){const e=t.match(/(file-.+?-)L\d+?/i);return e?e[1]:""}(t)}}function Nr({anchorPrefix:t,blobRange:e}){return e?`#${t}${function(t){const{start:e,end:n}=Pr(t);return null!=e.column&&null!=n.column?`L${e.line}C${e.column}-L${n.line}C${n.column}`:e.line===n.line?`L${e.line}`:`L${e.line}-L${n.line}`}(e)}`:"#"}function _r(t){const e=t.match(/L(\d+)/),n=t.match(/C(\d+)/);return e?Object.freeze({line:parseInt(e[1]),column:n?parseInt(n[1]):null}):null}function Or(t,e,n){const o=[null,0],r=n(t.line);if(!r)return o;if(null==t.column)return[r,-1];let i=t.column-1;const s=function t(e){if(e.nodeType===Node.TEXT_NODE)return[e];if(!e.childNodes||!e.childNodes.length)return[];let n=[];for(const o of e.childNodes)n=n.concat(t(o));return n}(r);for(let a=0;a<s.length;a++){const t=s[a],n=i-(t.textContent||"").length;if(0===n){const n=s[a+1];return e&&n?[n,0]:[t,i]}if(n<0)return[t,i];i=n}return o}function Pr(t){const e=[t.start,t.end];return e.sort($r),e[0]===t.start&&e[1]===t.end?t:Object.freeze({start:e[0],end:e[1]})}function $r(t,e){return t.line===e.line&&t.column===e.column?0:t.line===e.line&&"number"==typeof t.column&&"number"==typeof e.column?t.column-e.column:t.line-e.line}qr(".js-csv-filter-field",(function(t){if(!(t.target instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/pages/blob/csv.ts:4");const e=t.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n instanceof HTMLElement&&n.textContent&&(n.hidden=!!e&&!n.textContent.toLowerCase().includes(e))}));let Rr=!1;function Br(t,e){return document.querySelector(`#${t}LC${e}`)}function Fr({blobRange:t,anchorPrefix:e}){if(0!==document.querySelectorAll(".js-file-line").length&&(function(){for(const t of document.querySelectorAll(".js-file-line.highlighted"))t.classList.remove("highlighted");for(const t of document.querySelectorAll(".js-file-line .highlighted")){const e=be(t,".js-file-line");t.replaceWith(...t.childNodes),e.normalize()}}(),t))if(null===t.start.column||null===t.end.column)for(let n=t.start.line;n<=t.end.line;n+=1){const t=Br(e,n);t&&t.classList.add("highlighted")}else if(t.start.line===t.end.line&&null!=t.start.column&&null!=t.end.column){const n=function(t,e){const[n,o]=Or(t.start,!0,e),[r,i]=Or(t.end,!1,e);if(!n||!r)return;let s=o,a=i;if(-1===s&&(s=0),-1===a&&(a=r.childNodes.length),!n.ownerDocument)throw new Error("DOMRange needs to be inside document");const c=n.ownerDocument.createRange();return c.setStart(n,s),c.setEnd(r,a),c}(t,t=>Br(e,t));if(n){const t=document.createElement("span");t.classList.add("highlighted"),function(t,e){e.appendChild(t.extractContents()),t.insertNode(e)}(n,t)}}}function Ur(){const t=Dr(window.location.hash);Fr(t),function(){const t=document.querySelector(".js-file-line-actions");if(!t)return;const e=document.querySelectorAll(".js-file-line.highlighted"),n=e[0];if(n){!function(t){const e=[];for(const o of t)e.push(o.textContent);const n=document.getElementById("js-copy-lines");if(n instanceof ClipboardCopyElement){n.textContent=`Copy ${1===t.length?"line":"lines"}`,n.value=e.join("\n");const o=`Blob, copyLines, numLines:${t.length.toString()}`;n.setAttribute("data-ga-click",o)}}(e),function(t){const e=document.getElementById("js-view-git-blame");if(!e)return;e.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${t.toString()}`)}(e.length);const o=function(t){const e=document.querySelector(".js-permalink-shortcut");if(e instanceof HTMLAnchorElement){const n=`${e.href}${window.location.hash}`,o=document.getElementById("js-copy-permalink");if(o instanceof ClipboardCopyElement){o.value=n;const e=`Blob, copyPermalink, numLines:${t.toString()}`;o.setAttribute("data-ga-click",e)}return n}}(e.length);o&&function(t,e){const n=document.getElementById("js-new-issue");if(n instanceof HTMLAnchorElement){if(!n.href)return;const o=new URL(n.href,window.location.origin),r=new URLSearchParams(o.search.slice(1));r.set("permalink",t),o.search=r.toString(),n.href=o.toString(),n.setAttribute("data-ga-click",`Blob, newIssue, numLines:${e.toString()}`)}}(o,e.length),t.style.top=`${n.offsetTop-2}px`,t.classList.remove("d-none")}else t.classList.add("d-none")}();const{blobRange:e,anchorPrefix:n}=t,o=e&&Br(n,e.start.line);if(!Rr&&o){o.scrollIntoView(),be(o,".blob-wrapper, .js-blob-wrapper").scrollLeft=0}Rr=!1}qe((function(){if(document.querySelector(".js-file-line-container")){setTimeout(Ur,0);const t=window.location.hash;for(const e of document.querySelectorAll(".js-update-url-with-hash"))if(e instanceof HTMLAnchorElement)e.hash=t;else if(e instanceof HTMLFormElement){const n=new URL(e.action,window.location.origin);n.hash=t,e.action=n.toString()}}})),sn("click",".js-line-number",(function(t){if(!(t instanceof MouseEvent))throw new Error("invariant: expected click event to be MouseEvent -- app/assets/modules/github/pages/blob/lines.ts:162");const e=Dr(t.currentTarget.id),{blobRange:n}=e;if(!n)throw new Error("invariant: expected line number clicks to match range -- app/assets/modules/github/pages/blob/lines.ts:165");const o=Ir(window.location.hash);o&&t.shiftKey&&(e.blobRange={start:o.start,end:n.end}),function(t){const e=window.scrollY;Rr=!0,t(),window.scrollTo(0,e)}(()=>{window.location.hash=Nr(e)})})),sn("submit",".js-jump-to-line-form",(function(t){const e=ye(t.currentTarget,".js-jump-to-line-field",HTMLInputElement).value.replace(/[^\d-]/g,"").split("-").map(t=>parseInt(t,10)).filter(t=>t>0).sort((t,e)=>t-e);e.length&&(window.location.hash=`L${e.join("-L")}`),t.preventDefault()}));function Wr(t){return t.split("\n").reduce((function(t,e){var n=function(t){var e=Vr.exec(t);if(!e)return null;var n=e[2]&&0===e[2].indexOf("native"),o=e[2]&&0===e[2].indexOf("eval"),r=zr.exec(e[2]);o&&null!=r&&(e[2]=r[1],e[3]=r[2],e[4]=r[3]);return{file:n?null:e[2],methodName:e[1]||"<unknown>",arguments:n?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}(e)||function(t){var e=Kr.exec(t);if(!e)return null;return{file:e[2],methodName:e[1]||"<unknown>",arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}}(e)||function(t){var e=Gr.exec(t);if(!e)return null;var n=e[3]&&e[3].indexOf(" > eval")>-1,o=Xr.exec(e[3]);n&&null!=o&&(e[3]=o[1],e[4]=o[2],e[5]=null);return{file:e[3],methodName:e[1]||"<unknown>",arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}(e)||function(t){var e=Yr.exec(t);if(!e)return null;return{file:e[2],methodName:e[1]||"<unknown>",arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}}(e)||function(t){var e=Jr.exec(t);if(!e)return null;return{file:e[3],methodName:e[1]||"<unknown>",arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}}(e);return n&&t.push(n),t}),[])}var Vr=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,zr=/\((\S*)(?::(\d+))(?::(\d+))\)/;var Kr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Gr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Xr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;var Jr=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;var Yr=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;const Zr=(new Date).getTime();function Qr(t){var e;const n=function(t){return Wr(t.stack||"").map(t=>({filename:t.file||"",function:String(t.methodName),lineno:(t.lineNumber||0).toString(),colno:(t.column||0).toString()}))}(t),o=null!==(e=t.framesToPop)&&void 0!==e?e:0;return 0===o?n:n.slice(o)}const ti=/(chrome|moz|safari)-extension:\/\//;const ei=/^\S/,ni=/^\s+at /;function oi(){var t,e;const n=null===(e=null===(t=document.head)||void 0===t?void 0:t.querySelector('meta[name="user-login"]'))||void 0===e?void 0:e.content;if(n)return n;const o=function(){let t="";const e=nr("_octo"),n=[];for(const o of e){const e=o.value.split(".");if("GH1"===e.shift()&&e.length>1){const o=(e.shift()||"").split("-");1===o.length&&(o[1]="1");const r=[Number(o[0]),Number(o[1])];t=e.join("."),n.push([r,t])}}return t="",n.length>0&&(t=String(n.sort().reverse()[0][1])),t}();return o?`anonymous-${o}`:null}window.addEventListener("pageshow",()=>{}),window.addEventListener("pagehide",()=>{});const ri=document.querySelector("meta[name=js-proxy-site-detection-payload]"),ii=document.querySelector("meta[name=expected-hostname]");if(ri instanceof HTMLMetaElement&&ii instanceof HTMLMetaElement&&rr(document)){const t={url:window.location.href,expectedHostname:ii.content,documentHostname:document.location.hostname,proxyPayload:ri.content},e=new Error,n={};n.$__=btoa(JSON.stringify(t)),function(t,e={}){!function(t){var e,n;const o=null===(n=null===(e=document.head)||void 0===e?void 0:e.querySelector('meta[name="browser-errors-url"]'))||void 0===n?void 0:n.content;if(!o)return;if(t.error&&t.error.stack&&(r=t.error.stack,ti.test(r)))return;var r;window.fetch(o,{method:"post",body:JSON.stringify(t)}).catch((function(){}))}(function(t,e={}){let n;if(t){let o="";const r=t;if(t.stack){const{framesToPop:e}=r;o=function(t,e=0){if(0===e)return t;let n=t.split("\n");null!=e&&(n=n.slice(e));return n.join("\n")}(function(t){const e=t.split("\n");return function(t){return t.length>=2&&ei.test(t[0])&&ni.test(t[1])}(e)?(e.shift(),e.join("\n")):t}(t.stack),e)}else{let{fileName:t,lineNumber:n,columnNumber:i}=r;null==t&&(t=String(e.filename)),null==n&&(n=e.lineno||0),null==i&&(i=e.colno||0),o=`${t}:${n}:${i}`}n={type:t.name,value:t.message,stacktrace:Qr(t),name:t.name,message:t.message,stack:o}}return Object.assign({error:n,filename:"",lineno:0,colno:0,sanitizedUrl:qn()||window.location.href,readyState:document.readyState,referrer:document.referrer,timeSinceLoad:Math.round((new Date).getTime()-Zr),user:oi()||void 0},e)}(t,e))}(e,n)}let si=!1,ai=0;const ci=[];function li(){ci.length?si||(window.addEventListener("resize",di,{passive:!0}),document.addEventListener("scroll",di,{passive:!0}),si=!0):function(){const t={passive:!0};window.removeEventListener("resize",di,t),document.removeEventListener("scroll",di,t),si=!1}()}function ui(){fi(!0)}function di(){fi()}function fi(t=!1){for(const e of ci)if(e.element.offsetHeight>0){const{element:n,placeholder:o,top:r}=e,i=n.getBoundingClientRect();if(o){const s=o.getBoundingClientRect();n.classList.contains("is-stuck")?s.top>Ei(n,r)?hi(e):pi(e):i.top<=Ei(n,r)?mi(e):t&&pi(e)}else i.top<=Ei(n,r)?mi(e):hi(e)}}function mi({element:t,placeholder:e,top:n}){if(e){const o=t.getBoundingClientRect();Li(t,Ei(t,n)),t.style.left=`${o.left}px`,t.style.width=`${o.width}px`,t.style.marginTop="0",t.style.position="fixed",e.style.display="block"}t.classList.add("is-stuck")}function hi({element:t,placeholder:e}){e&&(t.style.position="static",t.style.marginTop=e.style.marginTop,e.style.display="none"),t.classList.remove("is-stuck")}function pi({element:t,placeholder:e,offsetParent:n,top:o}){if(e){const r=t.getBoundingClientRect(),i=e.getBoundingClientRect();if(Li(t,Ei(t,o)),t.style.left=`${i.left}px`,t.style.width=`${i.width}px`,n){const e=n.getBoundingClientRect();e.bottom<r.height+parseInt(String(o))&&(t.style.top=`${e.bottom-r.height}px`)}}}function gi(t){if(function(t){const{position:e}=window.getComputedStyle(t);return/sticky/.test(e)}(t))return null;const e=t.previousElementSibling;if(e&&e.classList.contains("is-placeholder")){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/sticky.ts:151");return e}const n=document.createElement("div");if(n.style.visibility="hidden",n.style.display="none",n.style.height=window.getComputedStyle(t).height,n.className=t.className,n.classList.remove("js-sticky"),n.classList.add("is-placeholder"),!t.parentNode)throw new Error("invariant: app/assets/modules/github/sticky.ts:161");return t.parentNode.insertBefore(n,t)}async function vi(t){await Me,function(t){const e=gi(t),n=window.getComputedStyle(t).position;t.style.position="static";const o=t.offsetParent;t.style.position="fixed";const r=yi(t),i={element:t,placeholder:e,offsetParent:o,top:"auto"===r?0:parseInt(r||"0")};t.style.position=n,ci.push(i)}(t),fi(),li()}function wi(){for(const t of Ee(document,".js-position-sticky, .js-notification-shelf-offset-top"))bi(t)}function bi(t){if(t.classList.contains("js-notification-top-shelf"))return;Li(t,(parseInt(yi(t))||0)+ai)}function yi(t){const e=t.getAttribute("data-original-top");if(null!=e)return e;const n=window.getComputedStyle(t).top;return t.setAttribute("data-original-top",n),n}function Ei(t,e){return t.classList.contains("js-notification-top-shelf")?e:e+ai}function Li(t,e){t.style.setProperty("top",`${e}px`,"important")}function Ti(t){const e=t.ownerDocument;t.scrollIntoView(),e&&e.defaultView&&e.defaultView.scrollBy(0,-function(t){ui();const e=t.querySelectorAll(".js-sticky-offset-scroll"),n=t.querySelectorAll(".js-position-sticky");return Math.max(0,...Array.from(e).map(t=>{const{top:e,height:n}=t.getBoundingClientRect();return 0===e?n:0}))+Math.max(0,...Array.from(n).map(t=>{const{top:e,height:n}=t.getBoundingClientRect(),o=parseInt(getComputedStyle(t).top);if(!t.parentElement)return 0;const r=t.parentElement.getBoundingClientRect().top;return e===o&&r<0?n:0}))}(e))}function ki(t,e){return Ee(document,".js-details-container.open.Details--on").filter(n=>n.getAttribute(t)===e)}function ji(t,e,n,o,r){const i=ye(document,".js-file-filter"),s=new URL(window.location.href,window.location.origin);if(!t&&!o){if(e)return;return s.search="",Sn(kn(),"",s.toString())}const a=ye(i,".js-file-filter-form",HTMLFormElement),c=new FormData(a),l=n.filter(t=>!c.getAll("file-filters[]").includes(t)),u=r.filter(t=>!c.getAll("owned-by[]").includes(t));for(const f of l)c.append("file-filters[]",f);for(const f of u)c.append("owned-by[]",f);const d=new URLSearchParams(c);d.has("file-filters[]")&&""!==d.toString()||d.set("file-filters[]",""),e&&d.set("w","1"),s.search=d.toString(),Sn(kn(),"",s.toString())}function xi(t){var e;e=t,ye(document,".js-file-filter-text",HTMLElement).classList.toggle("text-blue",e),function(t){const e=document.querySelector(".js-reset-filters"),n=document.querySelector(".js-commits-filtered");null==e||n||(e.hidden=!t)}(t),function(){const t=Mi(),e=Oi();for(const r of t)if(e){const t="0"===Te(r,"data-non-deleted-files-count");r.disabled=t}else r.disabled=!1;const n=document.querySelector(".js-deleted-files-container"),o=Ci();if(o&&n){const e=function(t){const e=t.find(t=>t.checked&&"0"!==Te(t,"data-deleted-files-count"));return Boolean(e)}(t);n.classList.toggle("text-gray",!e),o.disabled=!e}}(),function(){const t=Ni(),e=ye(document,".js-file-filter-select-all-container",HTMLElement),n=Te(e,t?"data-select-all-markup":"data-all-selected-markup");e.textContent=n,e.classList.toggle("text-gray",!t),e.classList.toggle("text-blue",t)}(),function(){const t=document.querySelector(".js-deleted-files-container");if(t){const e=Oi()?"data-show-deleted-markup":"data-hide-deleted-markup",n=Te(t,e);t.textContent=n}}(),function(){const t=Ee(document,".js-file-type-count");for(const e of t){const t=Oi()?"data-non-deleted-file-count-markup":"data-all-file-count-markup",n=e.getAttribute(t);n&&(e.textContent=n)}}(),ji(t,_i(),Ai(),Ii(),Di())}function Si(t){!function(){const t=Ci(),e=Ai(),n=Ee(document,".js-file"),o=Di(),r=Hi();for(const i of n){let n=!0;const s=i.getAttribute("data-file-type");if(s&&(n=e.includes(s)),r&&n){i.hasAttribute("data-file-user-viewed")&&(n=!r.checked)}if(o.length>0&&n){const t=(i.getAttribute("data-codeowners")||"").split(",");n=t.filter(t=>o.includes(t)).length>0}if(t&&t.checked&&n){"true"===i.getAttribute("data-file-deleted")&&(n=!1)}Pi(i,n)}}(),xi(t)}function Ai(){return Mi().filter(t=>t.checked).map(t=>t.value)}function Mi(){return Ee(document,".js-diff-file-type-option",HTMLInputElement)}function Ci(){const t=document.querySelector(".js-deleted-files-toggle");if(t instanceof HTMLInputElement)return t}function Hi(){const t=document.querySelector(".js-viewed-files-toggle");if(t instanceof HTMLInputElement)return t}function qi(){return Ni()||Oi()||Ii()}function Ii(){return Di().length>0}function Di(){return Ee(document,".js-diff-owner-option",HTMLInputElement).filter(t=>t.checked).map(t=>t.value)}function Ni(){return Ai().length!==Mi().length}function _i(){return new URLSearchParams(window.location.search).has("w")}function Oi(){const t=Ci();return!!t&&t.checked}function Pi(t,e){const n=be(t,".js-file.js-details-container");n.classList.toggle("open",e),n.classList.toggle("Details--on",e)}function $i(t){const e=Mi();for(const n of e)n.checked=t}function Ri(t,e){t&&t.postMessage&&t.postMessage(JSON.stringify(e),"*")}To(".js-sticky",{constructor:HTMLElement,add(t){vi(t)},remove(t){!function(t){const e=ci.map(t=>t.element).indexOf(t);ci.splice(e,1)}(t),li()}}),To(".js-notification-top-shelf",{constructor:HTMLElement,add(t){!async function(t){if(null===t.offsetParent)return;await Me;const e=Math.floor(t.getBoundingClientRect().height);e>0&&(ai=e,wi(),ui())}(t)},remove(){for(const t of Ee(document,".js-notification-top-shelf"))t.remove();ai>0&&(ai=0,wi(),ui())}}),To(".js-notification-shelf-offset-top, .js-position-sticky",{constructor:HTMLElement,add:bi}),sn("change",".js-diff-file-type-option",(function(){Si(qi())})),sn("change",".js-diff-owner-option",(function(){Si(Ii())})),sn("click",".js-file-filter-select-all",(function(){Ni()&&($i(!0),Si(qi()))})),sn("change",".js-deleted-files-toggle",(function(){Si(qi())})),sn("change",".js-viewed-files-toggle",(function(){Si(qi())})),To(".js-file-filter",(function(){qi()?xi(!0):ji(!1,_i(),Ai(),Ii(),Di())})),sn("click",".js-file-header .js-details-target",(function({currentTarget:t}){if(!document.querySelector(".js-file-filter"))return;const e=be(t,".js-details-container"),n=function(t){const e=Te(t,"data-file-type"),n=ki("data-file-type",e),o=Ee(document,".js-diff-file-type-option",HTMLInputElement).find(t=>t.value===e);if(!o)return!1;const r=o.checked!==n.length>0;return r&&(o.checked=n.length>0),r}(e),o=Ci();let r=!1;o&&(r=function(t,e){let n=!1;if("true"===Te(t,"data-file-deleted")){const t=ki("data-file-deleted","true");n=e.checked!==(0===t.length),n&&(e.checked=0===t.length)}return n}(e,o));const i=Hi();let s=!1;i&&(s=function(t,e){let n=!1;if("true"===t.getAttribute("data-file-user-viewed")){const t=ki("data-file-user-viewed","true");n=e.checked!==(0===t.length),n&&(e.checked=0===t.length)}return n}(e,i)),(n||r||s)&&xi(qi())})),sn("click",".js-file-header .js-details-target",(function(t){if(!(t instanceof MouseEvent&&t.altKey&&t.currentTarget instanceof HTMLElement)){const e=be(t.currentTarget,".js-file");return void(e.getBoundingClientRect().top<0&&Ti(e))}const{currentTarget:e}=t,n=be(e,".js-details-container");n.addEventListener("details:toggled",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.ts:23");const{open:e}=t.detail;Se(n,()=>{for(const t of document.querySelectorAll(".js-file.js-details-container"))t!==n&&(t.classList.toggle("open",e),t.classList.toggle("Details--on",e))}),function(t){if(!document.querySelector(".js-file-filter"))return;$i(t);const e=Ci();e&&(e.checked=!t),xi(qi())}(e)}),{once:!0})})),qe(()=>{const t=window.location.hash.slice(1);if(!t)return;const e=document.getElementsByName(t)[0];if(!e)return;const n=e.nextElementSibling;n&&n.matches(".js-file.js-details-container")&&(n.classList.add("open"),n.classList.add("Details--on"))}),To(".js-file-header-dropdown",{subscribe:t=>Wo(t,"toggle",(function({currentTarget:t}){if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.ts:56");const e=t,n=e.hasAttribute("open"),o=be(e,".js-file-header");if(!(o instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.ts:60");o.classList.toggle("has-open-dropdown",n)}))});const Bi=new WeakMap;async function Fi(t){return Bi.get(t)||Ui(await(e=t,n="codeEditor:ready",new Promise(t=>{e.addEventListener(n,t,{once:!0})})));var e,n}function Ui(t){if(!(t instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const e=t.detail.editor;if(!t.target)throw new Error("assert: event.target is null");return Bi.set(t.target,e),e}sn("codeEditor:ready",".js-code-editor",Ui);const Wi="render:hook:message",Vi="render:hook:afterready";function zi(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t)}const Ki=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],Gi=new WeakMap;function Xi(t){if(null==t)return;const e=Gi.get(t);null!=e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function Ji(t){if(null!=t)return t.classList.remove(...Ki),t.classList.add("is-render-failed"),Xi(t)}function Yi(){return!0}function Zi(t,e=Yi){return function(){if(zi(t)&&!t.classList.contains("is-render-ready")&&!t.classList.contains("is-render-failed")&&!t.classList.contains("is-render-failed-fatally")&&(!e||e()))return Ji(t)}}To(".js-render-target",{constructor:HTMLElement,initialize:function(t){const e=Gi.get(t);null!=e&&e.load||(Xi(t),function(t){if(Gi.get(t))return;const e={load:null,hello:null,helloTimer:null,loadTimer:null};e.load=Date.now(),e.helloTimer=window.setTimeout(Zi(t,(function(){return!e.hello})),1e4),e.loadTimer=window.setTimeout(Zi(t),45e3),Gi.set(t,e)}(t),t.classList.add("is-render-automatic"),t.classList.add("is-render-requested"))}}),window.addEventListener("message",(function(t){const e=t.data;if(!e)return;const n=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return}}(e)||e;if("string"!=typeof n.type&&"render"!==n.type)return;const o=n.type;if("string"!=typeof n.identity)return;const r=n.identity;if("string"!=typeof n.body)return;const i=n.body,s=function(t){return Array.from(document.querySelectorAll(".js-render-target")).filter(e=>!t||e.getAttribute("data-identity")===t)[0]}(r);s&&t.origin===s.getAttribute("data-host")&&function(t,e,n,o,r){switch(o){case"hello":{(Gi.get(t)||{untimed:!0}).hello=Date.now();const e={type:"render:cmd",body:{cmd:"ack",ack:!0}},n={type:"render:cmd",body:{cmd:"branding",branding:!1}},o=function(t){const e=t.querySelector("iframe");return e instanceof HTMLIFrameElement?e.contentWindow:null}(t);if(Ri(o,e),Ri(o,n),t.classList.contains("is-local")&&o&&"function"==typeof o.postMessage){const e=o,n=t.closest(".js-code-editor"),r=n instanceof HTMLElement?function(t){return Bi.get(t)}(n):null;if(r){let t=null;const n=(n,o)=>{if(function(t){return t&&"setValue"===t.origin}(o))return;const i=r.code();i!==t&&(t=i,Ri(e,{type:"render:data",body:i}))};r.editor.on("change",n),n()}}}break;case"error":return Ji(t);case"error:fatal":return Ji(t),t.classList.add("is-render-failed-fatal");case"error:invalid":return Ji(t),t.classList.add("is-render-failed-invalid");case"loading":return t.classList.remove(...Ki),t.classList.add("is-render-loading");case"loaded":return t.classList.remove(...Ki),t.classList.add("is-render-loaded");case"ready":t.classList.remove(...Ki),t.classList.add("is-render-ready"),r&&"number"==typeof r.height&&(t.style.height=`${r.height}px`),an(t,Vi,{container:t,payload:r});break;case"resize":r&&"number"==typeof r.height&&(t.style.height=`${r.height}px`);break;case"data":an(t,"edit:visual",r);break;default:an(t,Wi,{type:e,body:o,payload:r})}}(s,o,0,i,null!=n.payload?n.payload:void 0)}));const Qi=er((function(){var t,e;return((null===(e=null===(t=document.head)||void 0===t?void 0:t.querySelector('meta[name="enabled-features"]'))||void 0===e?void 0:e.content)||"").split(",")}));const ts=er((function(t){return-1!==Qi().indexOf(t)}));function es(t,e){let n=rs(t,e);if(n&&-1===e.indexOf("/")){n+=rs(t.substring(t.lastIndexOf("/")+1),e)}return n}function ns(t){const e=t.toLowerCase().split("");let n="";for(let o=0;o<e.length;o++){const t=e[o].replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");n+=0===o?`(.*)(${t})`:`([^${t}]*?)(${t})`}return new RegExp(`${n}(.*?)$`,"i")}function os(t,e,n){if(e){const o=t.innerHTML.trim().match(n||ns(e));if(!o)return;let r=!1;const i=[];for(let t=1;t<o.length;++t){const e=o[t];e&&(t%2==0?r||(i.push("<mark>"),r=!0):r&&(i.push("</mark>"),r=!1),i.push(e))}t.innerHTML=i.join("")}else{const e=t.innerHTML.trim(),n=e.replace(/<\/?mark>/g,"");e!==n&&(t.innerHTML=n)}}function rs(t,e){let n=t;if(n===e)return 1;const o=n.length;let r=0,i=0;for(let l=0;l<e.length;l++){const t=e[l],s=n.indexOf(t.toLowerCase()),a=n.indexOf(t.toUpperCase()),c=Math.min(s,a),u=c>-1?c:Math.max(s,a);if(-1===u)return 0;r+=.1,n[u]===t&&(r+=.1),0===u&&(r+=.8,0===l&&(i=1))," "===n.charAt(u-1)&&(r+=.8),n=n.substring(u+1,o)}const s=e.length,a=r/s;let c=(a*(s/o)+a)/2;return i&&c+.1<1&&(c+=.1),c}function is(t,e){if(function(t){return!!(t?t.closest(".js-jump-to-field"):document.querySelector(".js-jump-to-field"))}(t))return;const n=ye(document,".js-site-search-form",HTMLFormElement);let o,r;ye(document,".js-site-search").classList.toggle("scoped-search",e),e?(o=Te(n,"data-scoped-search-url"),r=Te(t,"data-scoped-placeholder")):(o=Te(n,"data-unscoped-search-url"),r=Te(t,"data-unscoped-placeholder")),n.setAttribute("action",o),t.setAttribute("placeholder",r)}function ss(t){const e=ye(document,".js-stale-session-flash"),n=ye(e,".js-stale-session-flash-signed-in"),o=ye(e,".js-stale-session-flash-signed-out");e.hidden=!1,n.hidden="false"===t,o.hidden="true"===t,window.addEventListener("popstate",(function(t){t.state&&null!=t.state.container&&location.reload()})),document.addEventListener("submit",(function(t){t.preventDefault()}))}let as;if(Hr("keyup",".js-site-search-field",(function(t){const e=t.target;if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.ts:28");const n=0===e.value.length;n&&"Backspace"===t.key&&e.classList.contains("is-clearable")&&is(e,!1),n&&"Escape"===t.key&&is(e,!0),e.classList.toggle("is-clearable",n)})),Cr(".js-site-search-focus",(function(t){const e=be(t,".js-chromeless-input-container");e.classList.add("focus"),t.addEventListener("blur",(function n(){if(e.classList.remove("focus"),!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.ts:44");0===t.value.length&&t.classList.contains("js-site-search-field")&&is(t,!0),t.removeEventListener("blur",n)}))})),sn("submit",".js-site-search-form",(function(t){if(!(t.target instanceof Element))return;ye(t.target,".js-site-search-type-field",HTMLInputElement).value=new URLSearchParams(window.location.search).get("type")||""})),"function"==typeof BroadcastChannel)try{as=new BroadcastChannel("stale-session"),as.onmessage=t=>{"string"==typeof t.data&&ss(t.data)}}catch(au){}if(!as){let t=!1;as={postMessage(e){t=!0;try{window.localStorage.setItem("logged-in",e)}finally{t=!1}}},window.addEventListener("storage",(function(e){if(!t&&e.storageArea===window.localStorage&&"logged-in"===e.key)try{"true"!==e.newValue&&"false"!==e.newValue||ss(e.newValue)}finally{window.localStorage.removeItem(e.key)}}))}const cs=document.querySelector(".js-stale-session-flash[data-signedin]");if(cs){const t=cs.getAttribute("data-signedin")||"";as.postMessage(t)}const ls={},us={},ds={};let fs=null,ms=0,hs=null;const ps=[];function gs(t){const e=Date.now();let n=ls[t]||0;const o=ds[t];o&&(n=Math.max(n,o[1])),n>0&&e-n<36e5||(ps.push(t),ls[t]=e)}function vs(t){for(const e of ps)t.send(`subscribe:${e}`);ps.length=0}function ws(){try{return fs=function(){const t=document.head&&document.head.querySelector("link[rel=web-socket]");if(!(t instanceof HTMLLinkElement))return null;let e;try{e=new WebSocket(t.href)}catch(r){if(r.name&&"SecurityError"!==r.name)throw new Error(`error opening WebSocket: ${r.message} (${r.name})`);return null}function n(){clearTimeout(o),ms=0,vs(e)}e.addEventListener("open",n);const o=setTimeout((function(){e.removeEventListener("open",n),e.close(),e===fs&&(fs=null)}),4e3);return e.addEventListener("close",bs),e.addEventListener("message",(function(t){const[e,n]=JSON.parse(String(t.data));if(!e||!n)return;const o=us[e]||[];for(const r of o)an(r,"socket:message",{data:n,name:e});ds[e]=[n,Date.now()]})),e}(),fs}catch(t){throw fs=null,t}}function bs(t){if(!1===navigator.onLine||null==document.querySelector(".js-socket-channel"))return;let e=fs,n=1e3;if(t instanceof CloseEvent&&(n=t.code),t.target instanceof WebSocket&&(e=t.target),ms>=5||1008===n||1011===n)return window.removeEventListener("online",bs),void(e&&(e.removeEventListener("close",bs),e.close(1e3,"give-up-reconnects"),e===fs&&(fs=null)));let o=0;1012===n||1013===n?o=100:ms>0&&(o=1e3*Math.pow(2,ms)),ms+=1,hs&&clearTimeout(hs),hs=window.setTimeout(ws,o)}function ys(t){const e=t.getAttribute("data-channel");return e?e.split(/\s+/):[]}function Es(t,e){let{wait:n}=t;return null!=n&&(n-=e,n<=0&&(n=null)),n===t.wait?t:Object.assign({},t,{wait:n})}window.WebSocket&&(To(".js-socket-channel[data-channel]",{add:function(t){const e=fs||ws();if(e){for(const e of ys(t))gs(e),null==us[e]&&(us[e]=[]),us[e].push(t);e.readyState===WebSocket.OPEN&&vs(e)}},remove:function(t){for(const e of ys(t)){const n=us[e];if(n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}}),window.addEventListener("online",bs),window.addEventListener("offline",(function(){fs&&fs.close(1e3,"navigator-offline")}))),document.addEventListener("pjax:popstate",(function(t){if(!(t instanceof CustomEvent))return;const e=t.target;if(!(e instanceof Element))return;const n=t.detail.cachedAt;n&&setTimeout(()=>{const t=Date.now();for(const o of e.querySelectorAll(".js-socket-channel[data-channel]"))for(const e of ys(o)){if(!(e in ds))continue;const[r,i]=ds[e];i<n||an(o,"socket:message",{data:Es(r,t-i),name:e})}})})),window.addEventListener("visibilitychange",(function(){if(document.hasFocus()){for(const t of document.querySelectorAll(".js-socket-channel[data-channel]"))for(const e of ys(t))gs(e);fs&&fs.readyState===WebSocket.OPEN&&vs(fs)}}));const Ls=new WeakMap,Ts=new WeakMap,ks=new WeakMap;function js(t,e){const n=parseFloat(ks.get(t)),o=parseFloat(ks.get(e)),r=Ts.get(t)||"",i=Ts.get(e)||"";return n>o?-1:n<o?1:r<i?-1:r>i?1:0}function xs(t){if(t.hasAttribute("data-filter-value")){return(t.getAttribute("data-filter-value")||"").toLowerCase().trim()}return t.textContent.toLowerCase().trim()}function Ss(t,e){return function(t,e,n={}){if(!t)return 0;const o=e.toLowerCase(),r=null!=n.text?n.text:xs,i=n.limit,s=n.score;let a=Ls.get(t);const c=t.querySelector('input[type="radio"]:checked'),l=Array.from(t.children);a||(a=Array.from(t.children),Ls.set(t,a));for(const p of l)t.removeChild(p),p instanceof HTMLElement&&(p.style.display="");const u=document.createDocumentFragment();let d=0,f=0;if(o){const t=Array.from(a);for(const n of t){null==Ts.get(n)&&Ts.set(n,r(n));const t=s?s(Ts.get(n)||"",o,n):es(Ts.get(n)||"",o);ks.set(n,String(t))}t.sort(js);const e=ns(o);for(const r of t)(null==i||d<i)&&parseFloat(ks.get(r))>0&&(f++,!0===n.mark&&(os(r),os(r,o,e)),u.appendChild(r)),d++}else for(const p of a)(null==i||d<i)&&(f++,!0===n.mark&&os(p),u.appendChild(p)),d++;let m=!1;if(c instanceof HTMLInputElement)for(const p of u.querySelectorAll('input[type="radio"]:checked'))p instanceof HTMLInputElement&&p.value!==c.value&&(p.checked=!1,m=!0);t.appendChild(u),c&&m&&c.dispatchEvent(new Event("change",{bubbles:!0}));const h=t.querySelectorAll(".js-divider");for(const p of h)p.classList.toggle("d-none",Boolean(o&&o.trim().length>0));return f}(e,` ${t.toLowerCase().replace(/_/g," ")}`,{limit:5,text:Ms,score:Cs})}const As={};function Ms(t){const e=t.getAttribute("data-emoji-name")||"";return As[e]=` ${function(t){return(t.getAttribute("data-text")||"").trim().toLowerCase()}(t).replace(/_/g," ")}`,e}function Cs(t,e){const n=As[t].indexOf(e);return n>-1?1e3-n:0}function Hs(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.ts:53");":"===t.detail.key&&(t.detail.value=function(t){if(t.hasAttribute("data-use-colon-emoji"))return t.getAttribute("data-value");const e=t.firstElementChild;return e&&"G-EMOJI"===e.tagName&&!e.firstElementChild?e.textContent:t.getAttribute("data-value")}(t.detail.item))}function qs(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.ts:59");const{key:e,provide:n}=t.detail;if(":"!==e)return;const o=t.target;if(!(o instanceof Element))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.ts:64");n(async function(t,e){const n=await Is(t),o=Ss(e,n);return{fragment:n,matched:o>0}}(Te(o,"data-emoji-url"),t.detail.text))}To("text-expander[data-emoji-url]",{subscribe:t=>Vo(Wo(t,"text-expander-change",qs),Wo(t,"text-expander-value",Hs))});const Is=er((async function(t){const e=(await tr(document,t)).firstElementChild;if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.ts:76");return e}));function Ds(t,e=t.length){let n=0,o=0;for(let r=0;r<e;r++){const e=t.charCodeAt(r);_s(e)?Ns(o)?n+=1:n+=3:e<=127?n+=1:e>=128&&e<=2047?n+=2:e>=2048&&e<=65535&&(n+=3),o=e}return n}function Ns(t){return t>=55296&&t<=56319}function _s(t){return t>=56320&&t<=57343}sn("click",".js-tagsearch-nav-item",t=>{be(t.currentTarget,".js-tagsearch-popover-content").scrollTop=0}),To(".js-file-line-container, .js-code-block-container",{constructor:HTMLElement,subscribe(t){const e=document.querySelector(".js-tagsearch-popover");if(!(e instanceof HTMLElement))return{unsubscribe(){}};const n=ye(e,".js-tagsearch-popover-content"),o=new WeakMap,r=new WeakMap;let i;async function s(n){const i=function(t,e,n){let o,r;if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e,n);t&&(o=t.offsetNode,r=t.offset)}else if(document.caretRangeFromPoint){const t=document.caretRangeFromPoint(e,n);t&&(o=t.startContainer,r=t.startOffset)}if(!o||"number"!=typeof r||o.nodeType!==Node.TEXT_NODE)return;const i=o.textContent;if(!i)return null;const s=function(t,e,n){let o;for(;o=e.exec(t);){const t=o.index+o[0].length;if(o.index<n&&n<t)return[o[0],o.index,t]}return null}(i,t,r);if(!s)return null;const a=document.createRange();return a.setStart(o,s[1]),a.setEnd(o,s[2]),a}(/\w+[!?]?/g,n.clientX,n.clientY);if(!i)return;const s=i.commonAncestorContainer.parentElement;if(!s)throw new Error("invariant: app/assets/modules/github/tagsearch.ts:24");for(const t of s.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(t))return;const a=i.toString();if(!a||a.match(/\n|\s|[();&.=",]/))return;let l=r.get(s);if(l||(l=new Set,r.set(s,l)),l.has(a))return;l.add(a);let u=Te(e,"data-tagsearch-lang");if("HTML+ERB"===u){if(!s.closest(".pl-sre"))return;u="Ruby"}if(t.classList.contains("js-code-block-container")&&(u=function(t){const e=t.closest(".highlight");if(e)for(const n of e.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}(s),!u))return;const d=function(t){let e=t.startContainer,n=1+Ds(e.textContent||"",t.startOffset);for(;;){let t=e.previousSibling;for(;t;)n+=Ds(t.textContent||""),t=t.previousSibling;const o=e.parentElement;if(!o)return[1,1];if(o.classList.contains("js-file-line")){const t=o.previousElementSibling;if(!t)throw new Error("invariant: app/assets/modules/github/tagsearch.ts:290");if(!t.classList.contains("js-line-number"))throw new Error("invariant: app/assets/modules/github/tagsearch.ts:291");return[parseInt(t.getAttribute("data-line-number")||"1",10),n]}e=o}}(i),f=await async function(t,e,n,o){const r=Te(t,"data-tagsearch-url"),i=Te(t,"data-tagsearch-path"),s=Te(t,"data-tagsearch-ref"),a=new URL(r,window.location.origin),c=new URLSearchParams;c.set("q",e),c.set("context",i),c.set("ref",s),c.set("lang",n),c.set("row",o[0].toString()),c.set("col",o[1].toString()),a.search=c.toString();const l=await Qo(a.toString());return/js-tagsearch-no-definitions/.test(l)?"":l}(e,a,u,d);if(!f)return;const m=document.createElement("span");m.classList.add("pl-token"),m.addEventListener("click",c),m.setAttribute("data-hydro-click",Te(e,"data-hydro-click")),m.setAttribute("data-hydro-click-hmac",Te(e,"data-hydro-click-hmac")),o.set(m,f),i.surroundContents(m)}function a(){n.scrollTop=0}function c(t){if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return;const r=t.currentTarget;if(!(r instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/tagsearch.ts:78");r===i?u():(function(t){i&&i.classList.remove("active");i=t,i.classList.add("active"),n.innerHTML=o.get(t)||"",l(t);const e=t.closest(".js-file-line");e&&function(t){const e=t.id.replace(/^LC/,""),o=n.querySelector(".js-tagsearch-looking-at-def"),r=n.querySelector(".js-tagsearch-defined-on");if(!e||!o||!r)return;Te(o,"data-row")===e&&(o.hidden=!1,r.hidden=!0)}(e)}(r),function(){if(!e.hidden)return void a();e.hidden=!1,a(),document.addEventListener("click",f),document.addEventListener("keyup",m),window.addEventListener("resize",d,{passive:!0})}()),t.preventDefault()}function l(t){const n=t.getClientRects()[0]||{bottom:0,left:0};e.style.position="absolute",e.style.top=`${window.scrollY+n.bottom+7}px`,e.style.left=`${window.scrollX+n.left}px`}function u(){e.hidden||(e.hidden=!0,i&&i.classList.remove("active"),i=void 0,document.removeEventListener("click",f),document.removeEventListener("keyup",m),window.removeEventListener("resize",d))}function d(){i instanceof HTMLElement&&l(i)}function f(t){const{target:n}=t;if(n instanceof Node){if(!i)throw new Error("invariant: app/assets/modules/github/tagsearch.ts:151");e.contains(n)||i.contains(n)||u()}}function m(t){switch(t.key){case"Escape":u()}}return t.addEventListener("mousemove",s),{unsubscribe(){t.removeEventListener("mousemove",s)}}}});const Os=new WeakMap;let Ps=null;function $s(t,e){return t.closest("task-lists")===e.closest("task-lists")}function Rs(t){if(t.currentTarget!==t.target)return;const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".contains-task-list");if(!n)return;if(e.classList.add("is-ghost"),t.dataTransfer&&t.dataTransfer.setData("text/plain",e.textContent.trim()),!e.parentElement)return;const o=Array.from(e.parentElement.children),r=o.indexOf(e),i=Os.get(e);i&&i.sortStarted(n),Ps={didDrop:!1,dragging:e,dropzone:e,sourceList:n,sourceSibling:o[r+1]||null,sourceIndex:r}}function Bs(t){if(!Ps)return;const e=t.currentTarget;e instanceof Element&&($s(Ps.dragging,e)?(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),Ps.dropzone!==e&&(Ps.dragging.classList.add("is-dragging"),Ps.dropzone=e,!function(t,e){if(t.parentNode===e.parentNode){let n=t;for(;n;){if(n===e)return!0;n=n.previousElementSibling}}return!1}(Ps.dragging,e)?e.after(Ps.dragging):e.before(Ps.dragging))):t.stopPropagation())}function Fs(t){if(!Ps)return;t.preventDefault(),t.stopPropagation();const e=t.currentTarget;if(!(e instanceof Element))return;if(Ps.didDrop=!0,!Ps.dragging.parentElement)return;let n=Array.from(Ps.dragging.parentElement.children).indexOf(Ps.dragging);const o=e.closest(".contains-task-list");if(!o)return;if(Ps.sourceIndex===n&&Ps.sourceList===o)return;Ps.sourceList===o&&Ps.sourceIndex<n&&n++;const r={list:Ps.sourceList,index:Ps.sourceIndex},i={list:o,index:n},s=Os.get(Ps.dragging);s&&s.sortFinished({src:r,dst:i})}function Us(){Ps&&(Ps.dragging.classList.remove("is-dragging"),Ps.dragging.classList.remove("is-ghost"),Ps.didDrop||Ps.sourceList.insertBefore(Ps.dragging,Ps.sourceSibling),Ps=null)}function Ws(t){if(!Ps)return;const e=t.currentTarget;e instanceof Element&&($s(Ps.dragging,e)?(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")):t.stopPropagation())}const Vs=new WeakMap;class TaskListsElement extends HTMLElement{constructor(){super(),this.addEventListener("change",t=>{const e=t.target;e instanceof HTMLInputElement&&e.classList.contains("task-list-item-checkbox")&&this.dispatchEvent(new CustomEvent("task-lists-check",{bubbles:!0,detail:{position:Ys(e),checked:e.checked}}))}),Vs.set(this,new MutationObserver(ta.bind(null,this)))}connectedCallback(){const t=Vs.get(this);t&&t.observe(this,{childList:!0,subtree:!0}),ta(this)}disconnectedCallback(){const t=Vs.get(this);t&&t.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get sortable(){return this.hasAttribute("sortable")}set sortable(t){t?this.setAttribute("sortable",""):this.removeAttribute("sortable")}static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"disabled":ea(this)}}}const zs=document.createElement("template");zs.innerHTML='\n  <span class="handle">\n    <svg class="drag-handle" aria-hidden="true" width="16" height="15" version="1.1" viewBox="0 0 16 15">\n      <path d="M12,4V5H4V4h8ZM4,8h8V7H4V8Zm0,3h8V10H4v1Z"></path>\n    </svg>\n  </span>';const Ks=new WeakMap;function Gs(t){if(Ks.get(t))return;Ks.set(t,!0);const e=t.closest("task-lists");if(!(e instanceof TaskListsElement))return;if(e.querySelectorAll(".task-list-item").length<=1)return;const n=zs.content.cloneNode(!0),o=n.querySelector(".handle");if(t.prepend(n),!o)throw new Error("handle not found");o.addEventListener("mouseenter",sa),o.addEventListener("mouseleave",aa),function(t,e,n){Os.set(t,{sortStarted:e,sortFinished:n}),t.addEventListener("dragstart",Rs),t.addEventListener("dragenter",Bs),t.addEventListener("dragend",Us),t.addEventListener("drop",Fs),t.addEventListener("dragover",Ws)}(t,ra,ia),t.addEventListener("mouseenter",Xs),t.addEventListener("mouseleave",Js)}function Xs(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest("task-lists");n instanceof TaskListsElement&&n.sortable&&!n.disabled&&e.classList.add("hovered")}function Js(t){const e=t.currentTarget;e instanceof Element&&e.classList.remove("hovered")}function Ys(t){const e=Zs(t);if(!e)throw new Error(".contains-task-list not found");const n=Array.from(e.children).indexOf(t.closest(".task-list-item"));return[na(e),n]}function Zs(t){const e=t.parentElement;return e?e.closest(".contains-task-list"):null}function Qs(t){return Zs(t)===function t(e){const n=Zs(e);return n?t(n)||n:null}(t)}function ta(t){const e=t.querySelectorAll(".contains-task-list > .task-list-item");for(const n of e)Qs(n)&&Gs(n);ea(t)}function ea(t){for(const e of t.querySelectorAll(".task-list-item"))e.classList.toggle("enabled",!t.disabled);for(const e of t.querySelectorAll(".task-list-item-checkbox"))e instanceof HTMLInputElement&&(e.disabled=t.disabled)}function na(t){const e=t.closest("task-lists");if(!e)throw new Error("parent not found");return Array.from(e.querySelectorAll("ol, ul")).indexOf(t)}const oa=new WeakMap;function ra(t){const e=t.closest("task-lists");if(!e)throw new Error("parent not found");oa.set(e,Array.from(e.querySelectorAll("ol, ul")))}function ia(t){let{src:e,dst:n}=t;const o=e.list.closest("task-lists");if(!o)return;const r=oa.get(o);r&&(oa.delete(o),o.dispatchEvent(new CustomEvent("task-lists-move",{bubbles:!0,detail:{src:[r.indexOf(e.list),e.index],dst:[r.indexOf(n.list),n.index]}})))}function sa(t){const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".task-list-item");if(!n)return;const o=n.closest("task-lists");o instanceof TaskListsElement&&o.sortable&&!o.disabled&&n.setAttribute("draggable","true")}function aa(t){if(Ps)return;const e=t.currentTarget;if(!(e instanceof Element))return;const n=e.closest(".task-list-item");n&&n.setAttribute("draggable","false")}function ca(t){const e=t.closest("form");if(!(e instanceof HTMLFormElement))return;let n=function(t){const e=t.querySelector("input.is-submit-button-value");return e instanceof HTMLInputElement?e:null}(e);if(t.name){const o=t.matches("input[type=submit]")?"Submit":"",r=t.value||o;n||(n=document.createElement("input"),n.type="hidden",n.classList.add("is-submit-button-value"),e.prepend(n)),n.name=t.name,n.value=r}else n&&n.remove()}function la(t,e,n){return t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:n}))}function ua(t,e){e&&(!function(t,e){if(!(t instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(e instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if("submit"!==e.type)throw new TypeError("The specified element is not a submit button.");if(!t||t!==e.form)throw new Error("The specified element is not owned by the form element.")}(t,e),ca(e)),la(t,"submit",!0)&&t.submit()}function da(t,e){if("boolean"==typeof e){if(!(t instanceof HTMLInputElement))throw new TypeError("only checkboxes can be set to boolean value");t.checked=e}else{if("checkbox"===t.type)throw new TypeError("checkbox can't be set to string value");t.value=e}la(t,"change",!1)}function fa(t){if(t.querySelector(".js-task-list-field"))for(const e of Ee(t,"task-lists",TaskListsElement))e.disabled=!1}function ma(t,e,n){const o=ye(t,".js-comment-update",HTMLFormElement);!function(t){for(const e of Ee(t,"task-lists",TaskListsElement))e.disabled=!0}(t);const r=o.elements.namedItem("task_list_track");r instanceof Element&&r.remove();const i=o.elements.namedItem("task_list_operation");i instanceof Element&&i.remove();const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","task_list_track"),s.setAttribute("value",e),o.appendChild(s);const a=document.createElement("input");if(a.setAttribute("type","hidden"),a.setAttribute("name","task_list_operation"),a.setAttribute("value",JSON.stringify(n)),o.appendChild(a),!o.elements.namedItem("task_list_key")){const t=Te(ye(o,".js-task-list-field"),"name").split("[")[0],e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","task_list_key"),e.setAttribute("value",t),o.appendChild(e)}t.classList.remove("is-comment-stale"),ua(o)}function ha(t){if(function(t){let e;try{e=new URL(t.url)}catch(n){return!0}return e.host!==window.location.host}(t)||function(t){return/[?&]_pjax=/.test(t.url)}(t))return;const e=function(){const t=document.querySelector(".js-timeline-marker");return null!=t?t.getAttribute("data-last-modified"):null}();e&&t.headers.set("X-Timeline-Last-Modified",e)}window.customElements.get("task-lists")||(window.TaskListsElement=TaskListsElement,window.customElements.define("task-lists",TaskListsElement)),To(".js-task-list-container .js-task-list-field",(function(t){fa(be(t,".js-task-list-container"))})),sn("task-lists-move","task-lists",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.ts:49");const{src:e,dst:n}=t.detail;ma(be(t.currentTarget,".js-task-list-container"),"reordered",{operation:"move",src:e,dst:n})})),sn("task-lists-check","task-lists",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.ts:55");const{position:e,checked:n}=t.detail;ma(be(t.currentTarget,".js-task-list-container"),`checked:${n?1:0}`,{operation:"check",position:e,checked:n})})),bn(".js-task-list-container .js-comment-update",(async function(t,e){const n=be(t,".js-task-list-container"),o=t.elements.namedItem("task_list_track");o instanceof Element&&o.remove();const r=t.elements.namedItem("task_list_operation");let i;r instanceof Element&&r.remove();try{i=await e.json()}catch(s){let t;try{t=JSON.parse(s.response.text)}catch(a){}if(t&&t.stale){const e=t.updated_markdown,o=t.updated_html,r=t.version;if(e&&o&&r){const t=ye(n,".js-comment-body"),i=ye(n,".js-body-version"),s=ye(n,".js-task-list-field",HTMLTextAreaElement);t.innerHTML=o,s.value=e,n.setAttribute("data-body-version",r),i instanceof HTMLInputElement&&(i.value=r)}}else window.location.reload()}i&&(r&&i.json.source&&(ye(n,".js-task-list-field",HTMLTextAreaElement).value=i.json.source),fa(n))})),bn(".js-needs-timeline-marker-header",(function(t,e,n){ha(n)})),sn("deprecatedAjaxSend","[data-remote]",(function(t){const{request:e}=t.detail;ha(e)})),To(".js-discussion",(function(){let t=new WeakSet;function e(){t=new WeakSet(document.querySelectorAll(".js-timeline-item"))}e(),document.addEventListener("pjax:end",e),To(".js-timeline-item",e=>{e instanceof HTMLElement&&(t.has(e)||ke(e))})}));function pa(){const t={};t.crossBrowserLoadEvent=Date.now();const e=window.performance&&window.performance.timing;if(e)t.connectEnd=e.connectEnd,t.connectStart=e.connectStart,t.domComplete=e.domComplete,t.domContentLoadedEventEnd=e.domContentLoadedEventEnd,t.domContentLoadedEventStart=e.domContentLoadedEventStart,t.domInteractive=e.domInteractive,t.domLoading=e.domLoading,t.domainLookupEnd=e.domainLookupEnd,t.domainLookupStart=e.domainLookupStart,t.fetchStart=e.fetchStart,t.loadEventEnd=e.loadEventEnd,t.loadEventStart=e.loadEventStart,t.navigationStart=e.navigationStart,t.redirectEnd=e.redirectEnd,t.redirectStart=e.redirectStart,t.requestStart=e.requestStart,t.responseEnd=e.responseEnd,t.responseStart=e.responseStart,t.secureConnectionStart=e.secureConnectionStart,t.unloadEventEnd=e.unloadEventEnd,t.unloadEventStart=e.unloadEventStart;else{const e=function(){const t=An("navigationStart");if(t)return parseInt(t,10)}();null!=e&&(t.simulatedNavigationStart=e)}const n=function(){if(window.performance&&"timeOrigin"in window.performance&&window.performance.getEntriesByType){const t=window.performance.getEntriesByType("paint");if(t.length){const e=t.find(t=>"first-paint"===t.name);if(e)return Math.round((performance.timeOrigin+e.startTime)/1e6)}}}();return null!=n&&(t.chromeFirstPaintTime=n),t}function ga(t,e=!1){return va(t)||function(t,e){const n=function(t){if(void 0 instanceof Element)return;if(t&&t.ownerDocument&&t.ownerDocument.activeElement)return t.ownerDocument.activeElement;return null}(t);return null!==n&&((!e||n!==t)&&(!(n!==t||!function(t){if(!(t instanceof HTMLElement))return!1;const e=t.nodeName.toLowerCase(),n=(t.getAttribute("type")||"").toLowerCase();return"select"===e||"textarea"===e||"input"===e&&"submit"!==n&&"reset"!==n||t.isContentEditable}(n))||(!(!t.contains(n)||function(t){if(!(ba instanceof Element))return!1;const e=t.closest("a[href], button");if(!e)return!1;const n=ba.closest("a[href], button");return e===n}(n))||ba instanceof Element&&t.contains(ba)&&!!ba.closest("details[open] > summary"))))}(t,e)||function(t){return t.matches(":active")}(t)||function(t){return!(!t.closest(".is-dirty")&&!t.querySelector(".is-dirty"))}(t)}function va(t){for(const e of t.querySelectorAll("input, textarea"))if((e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&wa(e))return!0;return!1}function wa(t){if(t instanceof HTMLInputElement&&("checkbox"===t.type||"radio"===t.type)){if(t.checked!==t.defaultChecked)return!0}else if(t.value!==t.defaultValue)return!0;return!1}let ba;window.performance&&window.performance.timing||window.addEventListener("pagehide",(function(){Mn("navigationStart",Date.now().toString())})),async function(){await Me,await new Promise(t=>setTimeout(t));const t=function(){const t=[],e=window.performance;if(e&&e.getEntriesByType)for(const n of e.getEntriesByType("resource")){const e={};t.push(e),"string"==typeof n.name&&(e.name=n.name),"string"==typeof n.entryType&&(e.entryType=n.entryType),"number"==typeof n.startTime&&(e.startTime=n.startTime),"number"==typeof n.duration&&(e.duration=n.duration)}return t}();t.length&&sr({resourceTimings:t});const e=function(){const t=[],e=window.performance;if(e&&e.getEntriesByType)for(const o of e.getEntriesByType("navigation")){const e={};t.push(e),"string"==typeof o.entryType&&(e.entryType=o.entryType),"number"==typeof o.startTime&&(e.startTime=o.startTime),"number"==typeof o.duration&&(e.duration=o.duration)}const n=pa();return n&&0===t.length&&t.push({name:location.href,entryType:"navigation",startTime:0,duration:n.loadEventEnd-n.navigationStart,initiatorType:"navigation",nextHopProtocol:"http/1.1",type:"navigate",redirectStart:n.redirectStart,redirectEnd:n.redirectEnd,fetchStart:n.fetchStart,domainLookupStart:n.domainLookupStart,domainLookupEnd:n.domainLookupEnd,connectStart:n.connectStart,connectEnd:n.connectEnd,secureConnectionStart:n.secureConnectionStart,requestStart:n.requestStart,responseStart:n.responseStart,responseEnd:n.responseEnd,unloadEventStart:n.unloadEventStart,unloadEventEnd:n.unloadEventEnd,domInteractive:n.domInteractive,domContentLoadedEventStart:n.domContentLoadedEventStart,domContentLoadedEventEnd:n.domContentLoadedEventEnd,domComplete:n.domComplete,loadEventStart:n.loadEventStart,loadEventEnd:n.loadEventEnd}),t}();e.length&&sr({navigationTimings:e})}(),sn("click",".js-toggler-container .js-toggler-target",(function(t){if(0!==t.button)return;const e=t.currentTarget.closest(".js-toggler-container");e&&e.classList.toggle("on")})),bn(".js-toggler-container",async(t,e)=>{t.classList.remove("success","error"),t.classList.add("loading");try{await e.text(),t.classList.add("success")}catch(n){t.classList.add("error")}finally{t.classList.remove("loading")}}),document.addEventListener("mouseup",(function(t){ba=t.target}));const ya=new WeakMap,Ea={};async function La(t,e){if(ya.get(t))return;const n=new XMLHttpRequest,o=Te(t,"data-url"),r=t.hasAttribute("data-retain-focus");n.open("GET",o),n.setRequestHeader("Accept","text/html"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=e&&n.setRequestHeader("X-Request-Purpose",e),ya.set(t,n);try{const e=await function(t,e){return new Promise((n,o)=>{t.onload=()=>{200===t.status?n(t.responseText):o(new Error(`XMLHttpRequest ${t.statusText}`))},t.onerror=o,t.send(e||null)})}(n);if(ga(t,r))throw new Error("element had interactions");return ts("PAGE_STALE_CHECK")&&(Ea[o]=e),ka(t,e,r)}catch(i){"XMLHttpRequest abort"!==i.message&&console.warn("Failed to update content",t,i)}finally{ya.delete(t)}}async function Ta(t,e,n=!1){const o=ya.get(t);if(o&&o.abort(),ts("PAGE_STALE_CHECK")){const o=t.closest(".js-updatable-content[data-url], .js-updatable-content [data-url]");!n&&o&&o===t&&(Ea[Te(o,"data-url")]=e)}return ka(t,e)}function ka(t,e,n=!1){return function(t,e){return Se(function(t){if(t.activeElement!==t.body)return t.activeElement;var e=t.querySelectorAll(":hover"),n=e.length;if(n)return e[n-1]}(t),e)}(document,()=>{const o=Ko(document,e.trim()),r=n&&t.ownerDocument&&t===t.ownerDocument.activeElement?o.querySelector("*"):null,i=Array.from(t.querySelectorAll("details[open][id]")).map(t=>t.id);"DETAILS"===t.tagName&&t.id&&t.hasAttribute("open")&&i.push(t.id);for(const e of t.querySelectorAll(".js-updatable-content-preserve-scroll-position")){const t=Te(e,"data-updatable-content-scroll-position-id");ja.set(t,e.scrollTop)}for(const t of i){const e=o.querySelector(`#${t}`);e&&e.setAttribute("open","")}t.replaceWith(o),r instanceof HTMLElement&&r.focus()})}const ja=new Map;if(To(".js-updatable-content-preserve-scroll-position",{constructor:HTMLElement,add(t){const e=t.getAttribute("data-updatable-content-scroll-position-id");if(!e)return;const n=ja.get(e);null!=n&&(t.scrollTop=n)}}),ts("PAGE_STALE_CHECK")){window.addEventListener("beforeunload",(function(){if(Object.keys(Ea).length>0){const t=history.state||{};t.staleRecords=Ea,Sn(t,"",location.href)}}));try{!async function(){if(history.state&&history.state.staleRecords){await Ae;for(const t in history.state.staleRecords)for(const e of document.querySelectorAll(`.js-updatable-content [data-url='${t}'], .js-updatable-content[data-url='${t}']`)){const n=history.state.staleRecords[t];e instanceof HTMLElement&&Ta(e,n,!0)}Sn(null,"",location.href)}}()}catch(au){}}function xa(t){const e=t.split("â€");let n=0;for(const o of e){n+=Array.from(o.split(/[\ufe00-\ufe0f]/).join("")).length}return n/e.length}function Sa(t,e,n){let o=t.value.substring(0,t.selectionEnd||0),r=t.value.substring(t.selectionEnd||0);o=o.replace(e,n),r=r.replace(e,n),t.value=o+r,t.selectionStart=o.length,t.selectionEnd=o.length,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}sn("socket:message",".js-updatable-content",(function(t){const{gid:e,wait:n}=t.detail.data||{},o=t.target;let r;if(e&&o.getAttribute("data-gid")===e?r=t.target:e?r=o.querySelector(`[data-url][data-gid="${e}"]`):t.currentTarget===o&&(r=o),!(r instanceof HTMLElement))return;const i=La.bind(null,r);null==n?i("live-update"):setTimeout(i,n,"delayed-live-update")}));class Aa{constructor(t){this.dataview=new DataView(t),this.pos=0}static fromFile(t){return new Promise((function(e,n){const o=new FileReader;o.onload=function(){if(!(o.result instanceof ArrayBuffer))throw new Error("invariant: app/assets/modules/github/png-scanner.ts:35");e(new Aa(o.result))},o.onerror=function(){n(o.error)},o.readAsArrayBuffer(t)}))}advance(t){this.pos+=t}readInt(t){const e=this,n=function(){switch(t){case 1:return e.dataview.getUint8(e.pos);case 2:return e.dataview.getUint16(e.pos);case 4:return e.dataview.getUint32(e.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(t),n}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(t){const e=[];for(let n=0;n<t;n++)e.push(String.fromCharCode(this.readChar()));return e.join("")}scan(t){if(2303741511!==this.readLong())throw new Error("invalid PNG");for(this.advance(4);;){const e=this.readLong(),n=this.readString(4),o=this.pos+e+4;if(!1===t.call(this,n,e)||"IEND"===n)break;this.pos=o}}}function Ma(t,e){const n=t.value.substring(0,t.selectionStart||0),o=t.value.substring(t.selectionEnd||0),r=0===n.length||n.match(/\n$/)?"":"\n",i=n+r+e;t.value=i+o,t.selectionStart=i.length,t.selectionEnd=t.selectionStart,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),t.focus()}function Ca(t){const e=t.dataTransfer;if(!e)return;if(function(t){return Array.from(t.types).indexOf("Files")>=0}(e))return;if(!Da(e))return;const n=Na(e);if(!n.some(Oa))return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&Ma(o,n.map(Ia).join(""))}function Ha(t){const e=t.dataTransfer;e&&(e.dropEffect="link")}function qa(t){const e=t.clipboardData;if(!e||!Da(e))return;const n=Na(e);if(!n.some(Oa))return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&Ma(o,n.map(Ia).join(""))}function Ia(t){return Oa(t)?`\n![](${t})\n`:t}function Da(t){return Array.from(t.types).indexOf("text/uri-list")>=0}function Na(t){return(t.getData("text/uri-list")||"").split("\r\n")}const _a=/\.(gif|png|jpe?g)$/i;function Oa(t){return _a.test(t)}function Pa(t){const e=t.dataTransfer;if(!e)return;if(function(t){return Array.from(t.types).indexOf("Files")>=0}(e))return;const n=Ua(e);if(!n)return;t.stopPropagation(),t.preventDefault();const o=t.currentTarget;o instanceof HTMLTextAreaElement&&Ma(o,Fa(n))}function $a(t){const e=t.dataTransfer;e&&(e.dropEffect="copy")}function Ra(t){if(!t.clipboardData)return;const e=Ua(t.clipboardData);if(!e)return;t.stopPropagation(),t.preventDefault();const n=t.currentTarget;n instanceof HTMLTextAreaElement&&Ma(n,Fa(e))}function Ba(t){return(t.textContent||"").trim().replace(/\|/g,"\\|").replace(/\n/g," ")||"Â "}function Fa(t){const e=Array.from(t.querySelectorAll("tr")),n=e.shift();if(!n)return"";const o=(r=n,Array.from(r.querySelectorAll("td, th")).map(Ba));var r;const i=o.map(()=>"--");return`\n${`${o.join(" | ")}\n${i.join(" | ")}\n`}${e.map(t=>Array.from(t.querySelectorAll("td")).map(Ba).join(" | ")).join("\n")}\n\n`}function Ua(t){if(-1===Array.from(t.types).indexOf("text/html"))return null;const e=t.getData("text/html");if(!/<table/i.test(e))return null;const n=function(t){const e=document.createElement("div");return e.innerHTML=t,e.querySelector("table")}(e);return!n||n.closest("[data-paste-markdown-skip]")?null:n}function Wa(t){const e=t.clipboardData;if(!e||!function(t){return Array.from(t.types).indexOf("text/x-gfm")>=0}(e))return;const n=t.currentTarget;if(!(n instanceof HTMLTextAreaElement))return;const o=e.getData("text/x-gfm");o&&(t.stopPropagation(),t.preventDefault(),Ma(n,o))}function Va(t){return`${t.isImage()?"!":""}[Uploading ${t.file.name}â€¦]()`}To(".js-paste-markdown",{constructor:HTMLElement,subscribe:function(t){return function(t){t.addEventListener("dragover",$a),t.addEventListener("drop",Pa),t.addEventListener("paste",Ra)}(t),function(t){t.addEventListener("dragover",Ha),t.addEventListener("drop",Ca),t.addEventListener("paste",qa)}(t),function(t){t.addEventListener("paste",Wa)}(t),{unsubscribe:()=>{!function(t){t.removeEventListener("dragover",$a),t.removeEventListener("drop",Pa),t.removeEventListener("paste",Ra)}(t),function(t){t.removeEventListener("dragover",Ha),t.removeEventListener("drop",Ca),t.removeEventListener("paste",qa)}(t),function(t){t.removeEventListener("paste",Wa)}(t)}}}});function za(t){return ye(t,'[role="tablist"] [role="tab"][aria-selected="true"]')}function Ka(t){const e=Ee(t,'[role="tablist"] [role="tab"]'),n=za(t);return Ee(t,'[role="tabpanel"]',HTMLElement)[Array.from(e).indexOf(n)]}function Ga(t){const e=t.querySelector(".js-emoji-picker-filter"),n=ye(t,".js-emoji-picker-filter-tab-button"),o=ye(t,".js-emoji-picker-all-emoji");e instanceof HTMLInputElement&&(e.value=""),o.setAttribute("value",""),n.hidden=!0}function Xa(t){t.classList.add("selected-emoji")}function Ja(t){if(!(t.target instanceof HTMLElement))return;const e=t.target.closest(".js-emoji-picker");if(e&&e instanceof HTMLElement&&!e.hidden)switch(t.key){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":t.preventDefault(),function(t,e){const n=Ka(t),o=Array.from(n.querySelectorAll(".js-emoji-button")),r=n.querySelector(".selected-emoji.js-emoji-button"),i=function(t){let e,n=0;const o=t[0].getBoundingClientRect().top;for(const r of t){if(e=r.getBoundingClientRect(),o<e.top)break;n+=1}return n}(o),s=function(t,e){const n=[[]];let o=0;for(let r=0;r<t.length;r++){const i=t[r];r>0&&r%e==0&&(o+=1,n.push([])),n[o].push(i)}return n}(o,i);let a=0,c=0;if(r){const t=function(t,e){let n=0,o=0,r=[],i=-1;for(let s=0;s<t.length;s++){if(r=t[s],i=r.indexOf(e),i>-1){o=i;break}n+=1}return{row:n,col:o}}(s,r);switch(a=t.row,c=t.col,r.classList.remove("selected-emoji"),e){case"ArrowRight":c+=1;break;case"ArrowDown":a+=1;break;case"ArrowLeft":c-=1;break;case"ArrowUp":a-=1}}const l=s.length-1,u=c>s[l].length-1,d=a===l;a<0?(a=l,u&&(a-=1)):(a>l||d&&u&&"ArrowDown"===e)&&(a=0);const f=s[a].length-1;c<0?c=f:c>f&&(c=0);const m=s[a][c];Xa(m),m.focus()}(e,t.key)}}function Ya(t){t.hidden=!0,document.removeEventListener("keydown",Ja)}function Za(t){document.addEventListener("click",e=>{if(e.target instanceof HTMLElement){e.target.closest(".js-emoji-picker")!==t&&Ya(t)}});const e=ye(t,".js-emoji-picker-all-emoji"),n=ye(t,".js-emoji-picker-no-results"),o=ye(t,".js-emoji-picker-results-header");e.addEventListener("fuzzy-list-sorted",t=>{const r=Number(t.detail)>0;n.hidden=r,e.hidden=!r,o.hidden=!r});const r=t.querySelector(".js-emoji-picker-filter");r instanceof HTMLInputElement&&r.addEventListener("input",()=>function(t){const e=be(t,".js-emoji-picker"),n=za(e),o=ye(e,".js-emoji-picker-filter-tab-button",HTMLButtonElement);if(ye(e,".js-emoji-picker-all-emoji").setAttribute("value",t.value),n.classList.contains("js-emoji-picker-filter-tab-button")||n.classList.add("emoji-picker-prior-selected-tab-button"),t.value){o.hidden=!1,"true"===o.getAttribute("aria-selected")||(o.click(),t.focus())}else{o.hidden=!0;const t=e.querySelector(".emoji-picker-prior-selected-tab-button");t instanceof HTMLButtonElement&&t.click()}}(r))}function Qa(t){return t.hasAttribute("data-maxlength")?parseInt(t.getAttribute("data-maxlength")||""):t.maxLength}function tc(t){const e=Qa(t);!function(t,e,n){const o=n.closest(".js-characters-remaining-container");if(!o)return;const r=ye(o,".js-characters-remaining"),i=String(r.getAttribute("data-suffix")),s=e-xa(t);s<=20?(r.textContent=`${s} ${i}`,r.classList.toggle("text-red",s<=5),r.hidden=!1):r.hidden=!0}(t.value,e,t)}function ec(t){return ye(t,".js-user-status-details").hasAttribute("open")}function nc(t){const e=t.querySelector(".js-emoji-picker");e instanceof HTMLElement&&(!function(t){const e=ye(t,".js-original-emoji-category"),n=ye(t,".js-original-emoji-category-tab",HTMLElement),o=za(t),r=Ka(t),i=t.querySelector(".js-originally-selected-emoji");if(i){const e=t.querySelector(".selected-emoji");e&&e.classList.remove("selected-emoji"),i.classList.add("selected-emoji")}o.removeAttribute("aria-selected"),e.setAttribute("aria-selected","true"),r.hidden=!0,n.hidden=!1}(e),Ga(e),Ya(e))}function oc(t){const e=ye(t,".js-user-status-original-emoji"),n=ye(t,".js-user-status-custom-emoji"),o=ye(t,".js-user-status-no-emoji-icon");n.innerHTML=e.innerHTML,o.hidden=n.hasChildNodes()}function rc(t){const e=ye(t,".js-user-status-message-field",HTMLInputElement);oc(t),nc(t),e.value=e.defaultValue,function(t){const e=t.querySelectorAll(".js-characters-remaining-container");for(const n of e){tc(ye(n,".js-characters-remaining-field",HTMLInputElement))}}(t)}function ic(t,e){oc(t),function(t,e){const n=t.querySelector(".js-user-status-emoji-picker");if(!(n instanceof window.IncludeFragmentElement))return;const o=Te(n,"data-url");if(e){const t=new URL(o,window.location.origin),e=new URLSearchParams(t.search.slice(1));e.append("show_picker","1"),t.search=e.toString()}n.setAttribute("src",o.toString())}(t,e),function(t){const e=t.querySelector(".js-user-status-org-picker");if(!(e instanceof window.IncludeFragmentElement))return;const n=Te(e,"data-url");e.src=n.toString()}(t)}function sc(t){const e=ye(t,".js-user-status-suggestions"),n=ye(t,".js-user-status-message-field",HTMLInputElement).value.trim().length>0;e.classList.toggle("collapsed",n),e.setAttribute("aria-expanded",n.toString())}function ac(t,e){ec(t)?rc(t):ic(t,e),dc(t)}function cc(t,e){ye(t,".js-user-status-custom-emoji").innerHTML=e.innerHTML,ye(t,".js-user-status-no-emoji-icon").hidden=!0}function lc(t,e){ye(t,".js-user-status-emoji-field",HTMLInputElement).value=e.value}function uc(t,e){if("Escape"===_o(e)){const e=t.closest(".js-user-status-container");if(!(e instanceof HTMLElement))return;t.value=t.defaultValue,ac(e,!1)}}function dc(t){const e=ye(t,".js-user-status-submit",HTMLButtonElement),n=ye(t,".js-clear-user-status-button",HTMLButtonElement),o=ye(t,".js-user-status-message-field",HTMLInputElement),r=ye(t,".js-user-status-emoji-field",HTMLInputElement),i=o.value.trim(),s=r.value.trim();let a=!1,c=!1;var l;Qa(l=o)-xa(l.value)<0&&(a=!0),i.length<1&&s.length<1&&(a=!0,n.classList.contains("js-user-status-exists")||(c=!0)),e.disabled=a,n.disabled=c}function fc(t){return be(t,".js-user-status-container")}function mc(t,e){if(ec(t))return;const n=t.querySelectorAll(".js-toggle-user-status-edit.Details-content--closed");for(const o of n)o.classList.toggle("text-blue",e),o.classList.toggle("link-gray-dark",!e)}function hc(t){if(!(t.target instanceof Element))return;mc(be(t.target,".js-user-status-container"),!0)}function pc(t){if(!(t.target instanceof Element))return;mc(be(t.target,".js-user-status-container"),!1)}function gc(){const t=document.getElementById("ajax-error-message");t&&t.classList.add("visible")}function vc(){const t=document.getElementById("ajax-error-message");t&&t.classList.remove("visible")}function wc(){return Promise.resolve()}sn("upload:setup",".js-upload-markdown-image",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.ts:34");const e=ye(t.currentTarget,".js-comment-field",HTMLTextAreaElement);e.setCustomValidity("uploading"),function(t,e){const n=t.selectionEnd||0,o=t.value.substring(0,n),r=t.value.substring(n),i=""===t.value||o.match(/\n$/)?"":"\n";t.value=o+i+e+r,t.selectionStart=n+e.length,t.selectionEnd=n+e.length,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),t.focus()}(e,`${Va(t.detail.attachment)}\n`)})),sn("upload:complete",".js-upload-markdown-image",(async function(t){const{attachment:e}=t.detail,n=ye(t.currentTarget,".js-comment-field",HTMLTextAreaElement),o=e.isImage()?await async function(t){const e=await async function(t){var e;const n={width:0,height:0,ppi:0};try{return null!==(e=await async function(t){if("image/png"!==t.type)return null;const e=t.slice(0,10240,t.type),n=await Aa.fromFile(e),o={width:0,height:0,ppi:1};return n.scan((function(t){switch(t){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const t=this.readLong(),e=this.readLong();let n;return 1===this.readChar()&&(n=.0254),n&&(o.ppi=Math.round((t+e)/2*n)),!1}case"IDAT":return!1}return!0})),o}(t))&&void 0!==e?e:n}catch(o){return n}}(t.file),n=(r=t.file.name,function(t){return t.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}(r).replace(/\.[^.]+$/,"").replace(/\./g," ")),o=t.href;var r;if(144===e.ppi){return`<img width="${Math.round(e.width/2)}" alt="${n}" src="${o}">`}return`![${n}](${o})`}(e):function(t){return`[${t.file.name}](${t.href})`}(e);n.setCustomValidity(""),Sa(n,Va(e),o)})),sn("upload:error",".js-upload-markdown-image",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.ts:71");const e=ye(t.currentTarget,".js-comment-field",HTMLTextAreaElement),n=Va(t.detail.attachment);e.setCustomValidity(""),Sa(e,n,"")})),sn("upload:invalid",".js-upload-markdown-image",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.ts:78");const e=ye(t.currentTarget,".js-comment-field",HTMLTextAreaElement),n=Va(t.detail.attachment);e.setCustomValidity(""),Sa(e,n,"")})),Cr(".js-characters-remaining-field",(function(t){function e(){(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&tc(t)}e(),t.addEventListener("input",e),t.addEventListener("blur",()=>{t.removeEventListener("input",e)},{once:!0})})),sn("click",".js-user-status-expire-button",(function(t){const e=t.currentTarget;e instanceof HTMLButtonElement&&function(t,e){const n=ye(t,".js-user-status-expiration-interval-selected"),o=ye(t,".js-user-status-expire-drop-down"),r=ye(t,".js-user-status-expiration-date-input",HTMLInputElement);n.textContent=e.title,r.value=e.value,o.removeAttribute("open")}(fc(e),e)})),sn("click",".js-toggle-user-status-edit",(function(t){if(!(t.currentTarget instanceof HTMLElement))return;const e=fc(t.currentTarget);t.target instanceof HTMLElement&&ac(e,!!t.target.closest(".js-toggle-user-status-emoji-picker"))})),sn("click",".js-toggle-user-status-emoji-picker",(function(t){if(!(t.currentTarget instanceof HTMLElement))return;const e=fc(t.currentTarget).querySelector(".js-emoji-picker");e instanceof HTMLElement&&e.hidden&&setTimeout(()=>function(t){const e=t.querySelector(".js-emoji-picker-filter"),n=!t.hidden;t.hidden=n,n?(e instanceof HTMLInputElement&&(e.value=""),document.removeEventListener("keydown",Ja)):(e instanceof HTMLInputElement&&e.focus(),document.addEventListener("keydown",Ja))}(e),50)})),sn("click",".js-emoji-button",(function(t){const e=t.currentTarget;e instanceof HTMLButtonElement&&function(t){const e=be(t,".js-user-status-container"),n=ye(e,".js-emoji-picker");lc(e,t),function(t){const e=t.querySelector(".selected-emoji");e&&e.classList.remove("selected-emoji")}(e),Xa(t),cc(e,t),dc(e),Ya(n)}(e)})),sn("click",".js-user-status-emoji-tab",(function(t){const e=t.currentTarget;e instanceof HTMLElement&&function(t){const e=be(t,".js-emoji-picker"),n=e.querySelector(".js-emoji-picker-filter");Ga(e),!e.hidden&&n instanceof HTMLInputElement&&n.focus()}(e)})),Cr(".js-user-status-message-field",(function(t){sc(fc(t))})),Hr("keyup",".js-user-status-message-field",t=>{const e=t.target;e instanceof HTMLInputElement&&uc(e,t)}),Hr("keyup",".js-emoji-picker-filter",t=>{const e=t.target;e instanceof HTMLInputElement&&uc(e,t)}),sn("click",".js-clear-user-status-button",(function(t){const e=t.currentTarget;e instanceof HTMLButtonElement&&function(t){t.hidden=!0,ye(t,".js-user-status-emoji-field",HTMLInputElement).value="",ye(t,".js-user-status-no-emoji-icon").hidden=!1,ye(t,".js-user-status-custom-emoji").innerHTML="";const e=ye(t,".js-user-status-message-field",HTMLInputElement);e.value="",e.classList.contains("js-characters-remaining-field")&&tc(e);const n=t.querySelector(".selected-emoji.js-emoji-button");n&&n.classList.remove("selected-emoji"),ye(t,".js-user-status-limited-availability-checkbox",HTMLInputElement).checked=!1;const o=t.querySelector(".js-user-status-expiration-date-input");o&&o instanceof HTMLInputElement&&(o.value=""),dc(t),sc(t),ua(ye(t,".js-user-status-form",HTMLFormElement))}(be(e,".js-user-status-container"))})),sn("click",".js-predefined-user-status",(function(t){const e=t.currentTarget;e instanceof HTMLButtonElement&&function(t){const e=be(t,".js-user-status-container"),n=ye(t,".js-predefined-user-status-emoji"),o=ye(t,".js-predefined-user-status-message"),r=ye(e,".js-user-status-message-field",HTMLInputElement);r.value=(o.textContent||"").trim(),cc(e,n),lc(e,t),dc(e),sc(e),r.classList.contains("js-characters-remaining-field")&&tc(r)}(e)})),qr(".js-user-status-message-field",(function(t){const e=t.target;if(!(e instanceof HTMLElement))return;const n=be(e,".js-user-status-form");dc(n),sc(n)})),sn("click",".js-user-status-org-button",(function(t){const e=t.currentTarget;e instanceof HTMLButtonElement&&function(t){const e=be(t,".js-user-status-container"),n=ye(e,".js-user-status-org-id-field",HTMLInputElement),o=ye(e,".js-user-status-org-details"),r=ye(e,".js-user-status-selected-org"),i=ye(t,".js-user-status-org-display"),s=ye(e,".js-user-status-org-message"),a=t.value,c=""!==a,l=ye(e,".js-user-status-message-field",HTMLInputElement),u=e.querySelector(".js-user-status-org-button.selected");let d="";u&&u.classList.remove("selected"),t.classList.add("selected"),n.value=a,r.innerHTML="";const f=i.cloneNode(!0);if(f instanceof HTMLElement&&(f.hidden=!1),r.appendChild(f),o.removeAttribute("open"),c){const e=Te(s,"data-prefix"),n=Te(s,"data-suffix"),o=Te(t,"data-org");s.textContent=`${e}${o}${n}`,s.hidden=!1;const r=new URL(Te(l,"data-org-url"),window.location.origin),i=new URLSearchParams(r.search.slice(1));i.append("global_id",a),r.search=i.toString(),d=r.toString()}else s.textContent=Te(s,"data-none"),s.hidden=!0,d=Te(l,"data-no-org-url");be(l,"text-expander").setAttribute("data-mention-url",d)}(e)})),sn("change",".js-user-status-limited-availability-checkbox",(function(t){const e=t.target;if(!(e instanceof HTMLInputElement))return;const n=be(e,".js-user-status-form"),o=e.checked,r=Te(e,"data-default-message"),i=ye(n,".js-user-status-message-field",HTMLInputElement);o&&i.value.length<1?i.value=r:o||i.value!==r||(i.value=""),dc(n),sc(n)})),bn(".js-user-status-form",(async function(t,e){const n=ye(t,".js-user-status-form-group");let o;n.classList.remove("errored");try{o=await e.html()}catch(a){return void n.classList.add("errored")}const r=be(t,".js-user-status-container"),i=o.html.querySelector(".js-user-status-container");r.replaceWith(o.html);const s=document.querySelectorAll(".js-user-status-container");for(const c of s)if(i!==c){const t=c.closest(".js-user-status-context");if(t){const e=Te(t,"data-url"),n=await tr(document,e);c.replaceWith(n)}}})),To(".js-toggle-user-status-edit",(function(t){t.addEventListener("mouseenter",hc),t.addEventListener("mouseleave",pc)})),To(".js-emoji-picker",t=>{if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/user-status-submit.ts:62");Za(t)}),sn("deprecatedAjaxError","[data-remote]",(function(t){const e=t.detail,{error:n,text:o}=e;t.currentTarget===t.target&&"abort"!==n&&"canceled"!==n&&(/<html/.test(o)?(gc(),t.stopImmediatePropagation()):setTimeout((function(){t.defaultPrevented||gc()}),0))})),sn("deprecatedAjaxSend","[data-remote]",(function(){vc()})),sn("click",".js-ajax-error-dismiss",(function(){vc()})),Cr("input[data-autoselect], textarea[data-autoselect]",(async function(t){await wc(),t.select()}));function bc(t){const e=t.querySelector(".js-clipboard-clippy-icon"),n=t.querySelector(".js-clipboard-check-icon");t.classList.toggle("ClipboardButton--success"),e&&e.classList.toggle("d-none"),n&&n.classList.toggle("d-none")}function yc(){}sn("clipboard-copy","[data-copy-feedback]",t=>{const e=t.currentTarget,n=Te(e,"data-copy-feedback"),o=e.getAttribute("aria-label"),r=e.getAttribute("data-tooltip-direction")||"s";e.setAttribute("aria-label",n),e.classList.add("tooltipped",`tooltipped-${r}`),e instanceof HTMLElement&&(ke(e),setTimeout(()=>{o?e.setAttribute("aria-label",o):e.removeAttribute("aria-label"),e.classList.remove("tooltipped",`tooltipped-${r}`)},2e3))}),sn("clipboard-copy",".js-clipboard-copy",(function({currentTarget:t}){t instanceof HTMLElement&&(bc(t),setTimeout(bc,2e3,t))})),bn(".js-new-comment-form",(async function(t,e){let n;!function(t){const e=t.querySelector(".js-comment-form-error");e instanceof HTMLElement&&(e.hidden=!0)}(t);try{n=await e.json()}catch(i){!function(t,e){let n="You can't comment at this time";if(e.response&&422===e.response.status){const t=e.response.json;t.errors&&(n+=` â€” your comment ${t.errors.join(", ")}`)}n+=". ";const o=t.querySelector(".js-comment-form-error");o instanceof HTMLElement&&(o.textContent=n,o.hidden=!1)}(t,i)}if(!n)return;t.reset();for(const s of Ee(t,".js-resettable-field",HTMLInputElement))da(s,s.getAttribute("data-reset-value")||"");const o=t.querySelector(".js-write-tab");o instanceof HTMLElement&&o.click();const r=n.json.updateContent;for(const s in r){const t=r[s],e=document.querySelector(s);e instanceof HTMLElement?Ta(e,t):console.warn(`couldn't find ${s} for immediate update`)}})),sn("click",".js-comment-edit-button",(function(t){const e=be(t.currentTarget,".js-comment");e.classList.add("is-comment-editing"),ye(e,".js-write-tab").click();const n=ye(e,".js-comment-field");n.focus(),an(n,"change");const o=t.currentTarget.closest(".js-dropdown-details");o&&o.removeAttribute("open")})),sn("click",".js-comment-hide-button",(function(t){const e=be(t.currentTarget,".js-comment").querySelector(".js-minimize-comment");e&&e.classList.remove("d-none");const n=t.currentTarget.closest(".js-dropdown-details");n&&n.removeAttribute("open")})),sn("click",".js-comment-hide-minimize-form",(function(t){be(t.currentTarget,".js-minimize-comment").classList.add("d-none")})),sn("click",".js-comment-cancel-button",(function(t){const e=be(t.currentTarget,"form",HTMLFormElement),n=Te(t.currentTarget,"data-confirm-text");if(va(e)&&!confirm(n))return!1;for(const r of e.querySelectorAll("input, textarea")){const t=r;t.value=t.defaultValue}const o=t.currentTarget.closest(".js-comment");o&&o.classList.remove("is-comment-editing")})),bn(".js-comment-delete, .js-comment .js-comment-update, .js-issue-update, .js-comment-minimize, .js-comment-unminimize",(function(t,e,n){const o=be(t,".js-comment");o.classList.add("is-comment-loading");const r=o.getAttribute("data-body-version");r&&n.headers.set("X-Body-Version",r)})),bn(".js-comment .js-comment-update",(async function(t,e){let n;const o=be(t,".js-comment"),r=o.querySelector(".js-comment-update-error");r instanceof HTMLElement&&(r.hidden=!0);try{n=await e.json()}catch(l){if(422!==l.response.status)throw l;{const t=JSON.parse(l.response.text);if(t.errors)return void(r instanceof HTMLElement&&(r.textContent=`There was an error posting your comment: ${t.errors.join(", ")}`,r.hidden=!1))}}if(!n)return;const i=n.json,s=o.querySelector(".js-comment-body");s&&i.body&&(s.innerHTML=i.body),o.setAttribute("data-body-version",i.newBodyVersion);const a=o.querySelector(".js-body-version");a instanceof HTMLInputElement&&(a.value=i.newBodyVersion);for(const u of o.querySelectorAll("input, textarea")){const t=u;t.defaultValue=t.value}o.classList.remove("is-comment-stale","is-comment-editing");const c=o.querySelector(".js-comment-edit-history");if(c){const t=await tr(document,i.editUrl);c.innerHTML="",c.append(t)}})),bn(".js-comment .js-comment-delete, .js-comment .js-comment-update, .js-comment-minimize, .js-comment-unminimize",(async function(t,e){const n=be(t,".js-comment");try{await e.text()}catch(o){if(422!==o.response.status)throw o;{let t;try{t=JSON.parse(o.response.text)}catch(r){}t&&t.stale&&n.classList.add("is-comment-stale")}}n.classList.remove("is-comment-loading")})),bn(".js-comment-delete",(async function(t,e){await e.json();let n=t.closest(".js-comment-delete-container");n||(n=t.closest(".js-comment-container")||t.closest(".js-line-comments"),n&&1!==n.querySelectorAll(".js-comment").length&&(n=be(t,".js-comment"))),n.remove()})),bn(".js-issue-update",(async function(t,e){const n=be(t,".js-details-container");n.classList.remove("open");const o=(await e.json()).json;if(null!=o.issue_title){ye(n,".js-issue-title").textContent=o.issue_title;const t=n.closest(".js-issues-results");if(t){if(t.querySelector(".js-merge-pr.is-merging")){const e=t.querySelector(".js-merge-pull-request textarea");e instanceof HTMLTextAreaElement&&e.value===e.defaultValue&&(e.value=e.defaultValue=o.issue_title)}else if(t.querySelector(".js-merge-pr.is-squashing")){const e=t.querySelector(".js-merge-pull-request .js-merge-title");e instanceof HTMLInputElement&&e.value===e.defaultValue&&(e.value=e.defaultValue=o.default_squash_commit_title)}const e=t.querySelector("button[value=merge]");e&&e.setAttribute("data-input-message-value",o.issue_title);const n=t.querySelector("button[value=squash]");n&&n.setAttribute("data-input-title-value",o.default_squash_commit_title)}}document.title=o.page_title;for(const r of t.elements)(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(r.defaultValue=r.value)})),bn(".js-comment-minimize",(async function(t,e){await e.json();const n=be(t,".js-comment").querySelector(".js-minimize-comment");n&&n.classList.add("d-none");const o=be(t,".unminimized-comment");o.classList.add("d-none"),o.classList.remove("js-comment");const r=be(t,".js-minimizable-comment-group").querySelector(".minimized-comment");r&&r.classList.remove("d-none"),r&&r.classList.add("js-comment")})),bn(".js-comment-unminimize",(async function(t,e){await e.json();const n=be(t,".js-minimizable-comment-group"),o=n.querySelector(".unminimized-comment");o&&o.classList.remove("d-none"),o&&o.classList.add("js-comment");const r=n.querySelector(".minimized-comment");r&&r.classList.add("d-none"),r&&r.classList.remove("js-comment")})),sn("details-menu-select",".js-comment-edit-history-menu",t=>{const e=t.detail.relatedTarget.getAttribute("data-edit-history-url");e&&(t.preventDefault(),async function(t){const e=ye(document,"#site-details-dialog",HTMLTemplateElement).content.cloneNode(!0);if(!(e instanceof DocumentFragment))throw new Error("invariant violation: clonedDetails instanceof HTMLElement");const n=ye(e,"details"),o=ye(n,"details-dialog"),r=ye(n,".js-details-dialog-spinner");if(t.detailsClass&&n.classList.add(...t.detailsClass.split(" ")),t.dialogClass&&o.classList.add(...t.dialogClass.split(" ")),!document.body)throw new Error("invariant violation: document.body");document.body.append(e);const i=await t.content;r.remove(),o.prepend(i),n.addEventListener("toggle",()=>{n.hasAttribute("open")||(an(o,"dialog:remove"),n.remove())})}({content:tr(document,e),dialogClass:"Box-overlay--wide"}))},{capture:!0});class Ec{constructor(){this.previousReceiver={resolve:yc,reject:yc}}push(t){return this.previousReceiver.resolve=this.previousReceiver.reject=yc,new Promise((e,n)=>{const o={resolve:e,reject:n};this.previousReceiver=o,t.then((function(...t){o.resolve(...t)}),(function(...t){o.reject(...t)}))})}}class TabContainerElement extends HTMLElement{constructor(){super(),this.addEventListener("keydown",t=>{const e=t.target;if(!(e instanceof HTMLElement))return;if("tab"!==e.getAttribute("role")&&!e.closest('[role="tablist"]'))return;const n=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]')),o=n.indexOf(n.find(t=>t.matches('[aria-selected="true"]')));if("ArrowRight"===t.code){let t=o+1;t>=n.length&&(t=0),Lc(this,t)}else if("ArrowLeft"===t.code){let t=o-1;t<0&&(t=n.length-1),Lc(this,t)}else"Home"===t.code?(Lc(this,0),t.preventDefault()):"End"===t.code&&(Lc(this,n.length-1),t.preventDefault())}),this.addEventListener("click",t=>{const e=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]'));if(!(t.target instanceof Element))return;const n=t.target.closest('[role="tab"]');n&&n.closest('[role="tablist"]')&&Lc(this,e.indexOf(n))})}connectedCallback(){for(const t of this.querySelectorAll('[role="tablist"] [role="tab"]'))t.hasAttribute("aria-selected")||t.setAttribute("aria-selected","false"),t.hasAttribute("tabindex")||("true"===t.getAttribute("aria-selected")?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1"))}}function Lc(t,e){const n=t.querySelectorAll('[role="tablist"] [role="tab"]'),o=t.querySelectorAll('[role="tabpanel"]'),r=n[e],i=o[e];if(!!t.dispatchEvent(new CustomEvent("tab-container-change",{bubbles:!0,cancelable:!0,detail:{relatedTarget:i}}))){for(const t of n)t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");for(const t of o)t.hidden=!0,t.hasAttribute("tabindex")||t.hasAttribute("data-tab-container-no-tabstop")||t.setAttribute("tabindex","0");r.setAttribute("aria-selected","true"),r.setAttribute("tabindex","0"),r.focus(),i.hidden=!1,t.dispatchEvent(new CustomEvent("tab-container-changed",{bubbles:!0,detail:{relatedTarget:i}}))}}function Tc(t){const e=be(t,".js-previewable-comment-form"),n=t.classList.contains("js-preview-tab");if(n){const t=ye(e,".js-write-bucket");ye(e,".js-preview-body").style.minHeight=`${t.clientHeight}px`}e.classList.toggle("preview-selected",n),e.classList.toggle("write-selected",!n);const o=ye(e,'.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),t.classList.add("selected"),t.setAttribute("aria-selected","true");const r=ye(e,".js-write-tab");return n?r.setAttribute("data-hotkey","Control+P,Meta+Shift+p"):r.removeAttribute("data-hotkey"),e}window.customElements.get("tab-container")||(window.TabContainerElement=TabContainerElement,window.customElements.define("tab-container",TabContainerElement)),sn("click",".js-write-tab",(function(t){const e=t.currentTarget,n=be(e,".js-previewable-comment-form");if(n instanceof TabContainerElement)return void setTimeout(()=>{ye(n,".js-comment-field").focus()});const o=Tc(e);setTimeout(()=>{ye(o,".js-comment-field").focus()});const r=n.querySelector("markdown-toolbar");r instanceof HTMLElement&&(r.hidden=!1)})),sn("click",".js-preview-tab",(function(t){const e=t.currentTarget,n=be(e,".js-previewable-comment-form");if(n instanceof TabContainerElement)return;const o=Tc(e);setTimeout(()=>{Ac(o)});const r=n.querySelector("markdown-toolbar");r instanceof HTMLElement&&(r.hidden=!0),t.stopPropagation(),t.preventDefault()})),sn("tab-container-change",".js-previewable-comment-form",(function(t){const e=t.detail.relatedTarget.classList.contains("js-preview-panel"),n=t.currentTarget,o=ye(n,".js-write-tab");if(e){const t=ye(n,".js-write-bucket");ye(n,".js-preview-body").style.minHeight=`${t.clientHeight}px`,o.setAttribute("data-hotkey","Control+P,Meta+Shift+p"),Ac(n);const e=n.querySelector("markdown-toolbar");e instanceof HTMLElement&&(e.hidden=!0)}else{o.removeAttribute("data-hotkey");const t=n.querySelector("markdown-toolbar");t instanceof HTMLElement&&(t.hidden=!1)}n.classList.toggle("preview-selected",e),n.classList.toggle("write-selected",!e)})),sn("preview:render",".js-previewable-comment-form",(function(t){const e=Tc(ye(t.target,".js-preview-tab"));setTimeout(()=>{Ac(e);const t=e.querySelector("markdown-toolbar");t instanceof HTMLElement&&(t.hidden=!0)})}));const kc=new Ec;function jc(t){var e,n,o,r,i,s,a,c,l;const u=ye(t,".js-comment-field",HTMLTextAreaElement).value,d=null===(e=t.querySelector(".js-path"))||void 0===e?void 0:e.value,f=null===(n=t.querySelector(".js-line-number"))||void 0===n?void 0:n.value,m=null===(o=t.querySelector(".js-start-line-number"))||void 0===o?void 0:o.value,h=null===(r=t.querySelector(".js-side"))||void 0===r?void 0:r.value,p=null===(i=t.querySelector(".js-start-side"))||void 0===i?void 0:i.value,g=null===(s=t.querySelector(".js-start-commit-oid"))||void 0===s?void 0:s.value,v=null===(a=t.querySelector(".js-end-commit-oid"))||void 0===a?void 0:a.value,w=null===(c=t.querySelector(".js-base-commit-oid"))||void 0===c?void 0:c.value,b=null===(l=t.querySelector(".js-comment-id"))||void 0===l?void 0:l.value,y=new FormData;return y.append("text",u),y.append("authenticity_token",function(t){const e=t.querySelector(".js-data-preview-url-csrf"),n=be(t,"form",HTMLFormElement).elements.namedItem("authenticity_token");if(e instanceof HTMLInputElement)return e.value;if(n instanceof HTMLInputElement)return n.value;throw new Error("Comment preview authenticity token not found")}(t)),d&&y.append("path",d),f&&y.append("line_number",f),m&&y.append("start_line_number",m),h&&y.append("side",h),p&&y.append("start_side",p),g&&y.append("start_commit_oid",g),v&&y.append("end_commit_oid",v),w&&y.append("base_commit_oid",w),b&&y.append("comment_id",b),y}async function xc(t){const e=Te(t,"data-preview-url"),n=jc(t);return an(t,"preview:setup",{data:n}),kc.push(Sc(e,n))}const Sc=er((function(t,e){return Qo(t,{method:"post",body:e})}),(function(t,e){const n="entries"in e?[...e.entries()].toString():Math.random().toString();return`${t}:${n}`}));async function Ac(t){const e=ye(t,".comment-body");e.innerHTML="<p>Loading preview&hellip;</p>";try{const n=await xc(t);e.innerHTML=n||"<p>Nothing to preview</p>"}catch(n){e.innerHTML="<p>Error rendering preview</p>"}}To(".js-preview-tab",(function(t){t.addEventListener("mouseenter",async()=>{const e=be(t,".js-previewable-comment-form");try{await xc(e)}catch(n){}})})),Hr("keydown",".js-comment-field",(function(t){const e=t.target;if((t.ctrlKey||t.metaKey)&&t.shiftKey&&"P"===t.key.toUpperCase()){const n=be(e,".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof TabContainerElement?ye(n,".js-preview-tab").click():(e.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),t.preventDefault(),t.stopImmediatePropagation())}}));const Mc=new WeakMap;class RemoteInputElement extends HTMLElement{constructor(){super();const t=Cc.bind(null,this,!0),e={currentQuery:null,oninput:Hc(t),fetch:t,controller:null};Mc.set(this,e)}static get observedAttributes(){return["src"]}attributeChangedCallback(t,e){e&&"src"===t&&Cc(this,!1)}connectedCallback(){const t=this.input;if(!t)return;t.setAttribute("autocomplete","off"),t.setAttribute("spellcheck","false");const e=Mc.get(this);e&&(t.addEventListener("focus",e.fetch),t.addEventListener("change",e.fetch),t.addEventListener("input",e.oninput))}disconnectedCallback(){const t=this.input;if(!t)return;const e=Mc.get(this);e&&(t.removeEventListener("focus",e.fetch),t.removeEventListener("change",e.fetch),t.removeEventListener("input",e.oninput))}get input(){const t=this.querySelector("input, textarea");return t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t:null}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}}async function Cc(t,e){const n=t.input;if(!n)return;const o=Mc.get(t);if(!o)return;const r=n.value;if(e&&o.currentQuery===r)return;o.currentQuery=r;const i=t.src;if(!i)return;const s=document.getElementById(t.getAttribute("aria-owns")||"");if(!s)return;const a=new URL(i,window.location.href),c=new URLSearchParams(a.search);let l;c.append(t.getAttribute("param")||"q",r),a.search=c.toString(),o.controller?o.controller.abort():(t.dispatchEvent(new CustomEvent("loadstart")),t.setAttribute("loading","")),o.controller="AbortController"in window?new AbortController:{signal:null,abort(){}};let u="";try{l=await async function(t,e,n){try{const o=await fetch(e,n);return t.dispatchEvent(new CustomEvent("load")),t.dispatchEvent(new CustomEvent("loadend")),o}catch(o){throw"AbortError"!==o.name&&(t.dispatchEvent(new CustomEvent("error")),t.dispatchEvent(new CustomEvent("loadend"))),o}}(t,a.toString(),{signal:o.controller.signal,credentials:"same-origin",headers:{accept:"text/fragment+html"}}),u=await l.text(),t.removeAttribute("loading"),o.controller=null}catch(d){return void("AbortError"!==d.name&&(t.removeAttribute("loading"),o.controller=null))}l&&l.ok?(s.innerHTML=u,t.dispatchEvent(new CustomEvent("remote-input-success",{bubbles:!0}))):t.dispatchEvent(new CustomEvent("remote-input-error",{bubbles:!0}))}function Hc(t){let e;return function(){clearTimeout(e),e=setTimeout(()=>{clearTimeout(e),t()},300)}}async function qc({currentTarget:t}){const e=t,n=e.hasAttribute("open");an(e,n?"menu:activate":"menu:deactivate"),await wc(),an(e,n?"menu:activated":"menu:deactivated")}window.customElements.get("remote-input")||(window.RemoteInputElement=RemoteInputElement,window.customElements.define("remote-input",RemoteInputElement)),To("details.select-menu details-menu include-fragment",(function(t){const e=t.closest("details");e&&(t.addEventListener("loadstart",(function(){e.classList.add("is-loading"),e.classList.remove("has-error")})),t.addEventListener("error",(function(){e.classList.add("has-error")})),t.addEventListener("loadend",(function(){e.classList.remove("is-loading");const t=e.querySelector(".js-filterable-field");t&&an(t,"filterable:change")})))})),To("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(t){const e=be(t,"details");e.addEventListener("toggle",(function(){e.hasAttribute("open")||(t.value="",an(t,"filterable:change"))}))}}),To("details-menu[role=menu] [role=menu]",t=>{const e=t.closest("details-menu[role]");e&&e!==t&&e.removeAttribute("role")}),To("details details-menu remote-input input",{constructor:HTMLInputElement,add(t){const e=be(t,"details");e.addEventListener("toggle",(function(){e.hasAttribute("open")||(t.value="")}))}}),To("form details-menu",t=>{const e=be(t,"form");e.addEventListener("reset",()=>{setTimeout(()=>function(t){const e=t.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of e)an(n,"change")}(e),0)})}),Hr("keypress","details-menu .js-filterable-field, details-menu filter-input input",t=>{if("Enter"===t.key){const e=be(t.currentTarget,"details-menu").querySelector('[role^="menuitem"]:not([hidden])');e instanceof HTMLElement&&e.click(),t.preventDefault()}}),sn("details-menu-selected","details-menu",t=>{const e=t.currentTarget.querySelector(".js-filterable-field");e instanceof HTMLInputElement&&e.value&&e.focus()},{capture:!0}),sn("details-menu-selected","[data-menu-input]",t=>{if(!(t.target instanceof Element))return;const e=Te(t.target,"data-menu-input"),n=document.getElementById(e);(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&(n.value=t.detail.relatedTarget.value)},{capture:!0}),To("details-menu remote-input",{constructor:RemoteInputElement,initialize(t){const e=document.getElementById(t.getAttribute("aria-owns")||"");if(!e)return;let n=null;t.addEventListener("load",()=>{n=document.activeElement&&e.contains(document.activeElement)&&document.activeElement.id?document.activeElement.id:null}),t.addEventListener("loadend",()=>{if(n){const o=e.querySelector(`#${n}`)||e.querySelector('[role^="menu"]');o instanceof HTMLElement?o.focus():t.input&&t.input.focus()}})}}),sn("details-menu-selected","details-menu[data-menu-max-options]",t=>{const e=+Te(t.currentTarget,"data-menu-max-options")===t.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]').length;ye(t.currentTarget,"[data-menu-max-options-warning]").hidden=!e;for(const n of Ee(t.currentTarget,'[role="menuitemcheckbox"] input',HTMLInputElement))n.disabled=e&&!n.checked},{capture:!0}),To("details > details-menu",{subscribe:t=>Wo(be(t,"details"),"toggle",qc)});const Ic=new WeakMap,Dc=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function Nc(t){return t instanceof HTMLInputElement?t.value||"Submit":t.innerHTML||""}function _c(t,e){t instanceof HTMLInputElement?t.value=e:t.innerHTML=e}function Oc(t){for(const e of t.querySelectorAll(Dc)){const n=Ic.get(e);null!=n&&(_c(e,n),e.hasAttribute("data-disable-invalid")&&!t.checkValidity()||(e.disabled=!1),Ic.delete(e))}}var Pc;sn("submit","form",(function(t){for(const e of t.currentTarget.querySelectorAll(Dc)){Ic.set(e,Nc(e));const t=e.getAttribute("data-disable-with");t&&_c(e,t),e.disabled=!0}}),{capture:!0}),sn("deprecatedAjaxComplete","form",(function({currentTarget:t,target:e}){t===e&&Oc(t)})),Pc=Oc,vn.push(Pc);class $c{constructor(t,e){this.attachment=t,this.policy=e}async process(t){const e=new Headers(this.policy.header||{}),n=new XMLHttpRequest;n.open("POST",this.policy.upload_url,!0);for(const[o,r]of e)n.setRequestHeader(o,r);n.onloadstart=()=>{t.attachmentUploadDidStart(this.attachment,this.policy)},n.upload.onprogress=e=>{if(e.lengthComputable){const n=Math.round(e.loaded/e.total*100);t.attachmentUploadDidProgress(this.attachment,n)}},await function(t,e){return new Promise((n,o)=>{t.onload=()=>n(t),t.onerror=o,t.send(e)})}(n,function(t,e){const n=new FormData;e.same_origin&&n.append("authenticity_token",e.upload_authenticity_token);for(const o in e.form)n.append(o,e.form[o]);return n.append("file",t.file),n}(this.attachment,this.policy)),204===n.status?(Rc(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,{})):201===n.status?(Rc(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,JSON.parse(n.responseText))):t.attachmentUploadDidError(this.attachment,{status:n.status,body:n.responseText})}}function Rc(t){const e="string"==typeof t.asset_upload_url?t.asset_upload_url:null,n="string"==typeof t.asset_upload_authenticity_token?t.asset_upload_authenticity_token:null;if(!e||!n)return;const o=new FormData;o.append("authenticity_token",n),fetch(e,{method:"PUT",body:o,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}async function Bc(t,e){const n=function(t,e){return{attachmentUploadDidStart(n,o){n.saving(0),Vc(e,"is-uploading"),an(e,"upload:start",{batch:t,attachment:n,policy:o})},attachmentUploadDidProgress(n,o){n.saving(o),an(e,"upload:progress",{batch:t,attachment:n})},attachmentUploadDidComplete(n,o,r){n.saved(function(t,e){const n=(null==t.id?null:String(t.id))||(null==e.asset.id?null:String(e.asset.id)),o=("string"==typeof t.href?t.href:null)||("string"==typeof e.asset.href?e.asset.href:null);return{id:n,href:o,name:e.asset.name}}(r,o)),an(e,"upload:complete",{batch:t,attachment:n}),Vc(e,"is-default")},attachmentUploadDidError(n,o){an(e,"upload:error",{batch:t,attachment:n});const r=Uc(o);Vc(e,r)}}}(t,e);for(const o of t.attachments){const r=await Fc(t,o,e);if(!r)return;try{const t=new $c(o,r);await t.process(n)}catch(au){return an(e,"upload:error",{batch:t,attachment:o}),void Vc(e,"is-failed")}}}async function Fc(t,e,n){const o=function(t,e){const n=ye(e,".js-data-upload-policy-url-csrf",HTMLInputElement).value,o=e.getAttribute("data-upload-repository-id"),r=t.file,i=new FormData;i.append("name",r.name),i.append("size",String(r.size)),i.append("content_type",r.type),i.append("authenticity_token",n),o&&i.append("repository_id",o);t.directory&&i.append("directory",t.directory);return i}(e,n),r=[];an(n,"upload:setup",{batch:t,attachment:e,form:o,preprocess:r});try{await Promise.all(r);const i=await fetch(function(t,e){return new Request(Te(e,"data-upload-policy-url"),{method:"POST",body:t,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}(o,n));if(i.ok)return await i.json();an(n,"upload:invalid",{batch:t,attachment:e});const s=await i.text();Vc(n,Uc({status:i.status,body:s},e.file))}catch(au){an(n,"upload:invalid",{batch:t,attachment:e}),Vc(n,"is-failed")}return null}function Uc(t,e){if(400===t.status)return"is-bad-file";if(422!==t.status)return"is-failed";const n=JSON.parse(t.body);if(!n||!n.errors)return"is-failed";for(const o of n.errors)switch(o.field){case"size":{const t=e?e.size:null;return null!=t&&0===t?"is-empty":"is-too-big"}case"file_count":return"is-too-many";case"width":case"height":return"is-bad-dimensions";case"name":return"already_exists"===o.code?"is-duplicate-filename":"is-bad-file";case"content_type":return"is-bad-file";case"uploader_id":return"is-bad-permissions";case"repository_id":return"is-repository-required";case"format":return"is-bad-format"}return"is-failed"}const Wc=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function Vc(t,e){t.classList.remove(...Wc),t.classList.add(e)}class zc{constructor(t){this.attachments=t,this.size=this.attachments.length,this.total=Kc(this.attachments,t=>t.file.size)}percent(){const t=Kc(this.attachments,t=>t.file.size*t.percent/100);return Math.round(t/this.total*100)}uploaded(){return Kc(this.attachments,t=>t.isSaved()?1:0)}isFinished(){return this.attachments.every(t=>t.isSaved())}}function Kc(t,e){return t.reduce((t,n)=>t+e(n),0)}To("file-attachment[hover]",{add(t){t.classList.add("dragover")},remove(t){t.classList.remove("dragover")}}),sn("file-attachment-accept","file-attachment",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/file-attachment.ts:18");const{attachments:e}=t.detail;0===e.length&&(Vc(t.currentTarget,"is-hidden-file"),t.preventDefault())})),sn("file-attachment-accepted","file-attachment",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/file-attachment.ts:27");const{attachments:e}=t.detail;Bc(new zc(e),t.currentTarget)}));let Gc=0;function Xc(t){return Array.from(t.types).indexOf("Files")>=0}function Jc(t){const e=t.dataTransfer;e&&Xc(e)&&t.preventDefault()}function Yc(t){const e=t.dataTransfer;e&&Xc(e)&&t.preventDefault()}function Zc({currentTarget:t}){if(!(t instanceof Element))throw new Error("invariant: app/assets/modules/github/behaviors/file-attachment.ts:73");Vc(ye(t,"file-attachment"),"is-default")}To("file-attachment",{add(t){0==Gc++&&(document.addEventListener("drop",Jc),document.addEventListener("dragover",Yc));const e=t.closest("form");e&&e.addEventListener("reset",Zc)},remove(t){0==--Gc&&(document.removeEventListener("drop",Jc),document.removeEventListener("dragover",Yc));const e=t.closest("form");e&&e.removeEventListener("reset",Zc)}}),sn("click",".js-flash-close",(function(t){const e=t.currentTarget.closest(".flash-messages");t.currentTarget.closest(".flash").remove(),e&&!e.querySelector(".flash")&&e.remove()})),Cr(["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]"].join(","),t=>{let e=t.checkValidity();function n(){const n=t.checkValidity();n!==e&&t.form&&tl(t.form),e=n}t.addEventListener("input",n),t.addEventListener("blur",(function e(){t.removeEventListener("input",n),t.removeEventListener("blur",e)}))});const Qc=new WeakMap;function tl(t){const e=t.checkValidity();for(const n of Ee(t,"button[data-disable-invalid]",HTMLButtonElement))n.disabled=!e}function el(t){return"DIV"===t.nodeName&&t.classList.contains("highlight")}To("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(t){const e=t.form;e&&(!function(t){Qc.get(t)||(t.addEventListener("change",()=>tl(t)),Qc.set(t,!0))}(e),t.disabled=!e.checkValidity())}}),To("input[data-required-change], textarea[data-required-change]",(function(t){const e="radio"===t.type&&t.form?Le(t.form,t.name,RadioNodeList).value:null;function n(n){const o=t.form;if(n&&"radio"===t.type&&o&&e)for(const r of Le(o,t.name,RadioNodeList))r instanceof HTMLInputElement&&r.setCustomValidity(t.value===e?"unchanged":"");else t.setCustomValidity(t.value===(e||t.defaultValue)?"unchanged":"")}t.addEventListener("input",n),t.addEventListener("change",n),n(),t.form&&tl(t.form)})),document.addEventListener("reset",(function(t){if(t.target instanceof HTMLFormElement){const e=t.target;setTimeout(()=>tl(e))}})),Hr("keydown",".js-quick-submit",(function(t){!function(t){const e=t.target;if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.ts:13");if((t.ctrlKey||t.metaKey)&&"Enter"===t.key){const n=e.form;if(!(n instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.ts:16");const o=n.querySelector("input[type=submit], button[type=submit]");if(t.shiftKey){const t=n.querySelector(".js-quick-submit-alternative");(t instanceof HTMLInputElement||t instanceof HTMLButtonElement)&&!t.disabled&&ua(n,t)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||ua(n);t.preventDefault()}}(t)})),To(".js-quote-selection-container",{subscribe:t=>jt(t,{quoteMarkdown:t.hasAttribute("data-quote-markdown"),scopeSelector:t.getAttribute("data-quote-markdown")||"",copyMarkdown:!1})}),document.addEventListener("quote-selection-markdown",(function(t){const e=t.detail,{fragment:n,range:o,unwrap:r}=e,i=o.startContainer.parentElement,s=i&&i.closest("pre");if(s instanceof HTMLElement&&!r){const t=s.parentElement;if(t&&el(t)){const e=document.createElement("div");e.className=t.className,e.appendChild(n),n.appendChild(e)}}!function(t){const e=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>t.nodeName in nl&&function(t){return"IMG"===t.nodeName||null!=t.firstChild}(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[];let o=e.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=e.nextNode();n.reverse();for(const r of n)r.replaceWith(nl[r.nodeName](r))}(n)}));const nl={PRE(t){const e=t.parentElement;if(e&&el(e)){const n=e.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",r=(t.textContent||"").replace(/\n+$/,"");t.textContent=`\`\`\`${o}\n${r}\n\`\`\``,t.append("\n\n")}return t},A(t){const e=t.textContent||"";return t.classList.contains("user-mention")||t.classList.contains("team-mention")?e:t.classList.contains("issue-link")&&/^#\d+$/.test(e)?e:t},IMG(t){const e=t.getAttribute("alt");return e&&t.classList.contains("emoji")?e:t},DIV(t){if(t.classList.contains("js-suggested-changes-blob"))t.remove();else if(t.classList.contains("blob-wrapper-embedded")){const e=t.parentElement;if(!e)throw new Error("invariant: app/assets/modules/github/behaviors/quote-selection.ts:77");const n=ye(e,"a[href]",HTMLAnchorElement),o=document.createElement("p");o.textContent=n.href,e.replaceWith(o)}return t}};let ol,rl;sn("click",".js-comment-quote-reply",(function({currentTarget:t}){const e=be(t,".js-comment"),n=ye(e,".js-comment-body");if(e.classList.contains("js-nested-discussion-comment")){ye(be(e,".js-timeline-comment"),".js-toggle-inline-comment-form").click()}if(rl&&"Range"===rl.type&&n.contains(rl.anchorNode))Ct(rl.text,rl.range);else{const t=window.getSelection();t.removeAllRanges(),t.selectAllChildren(n),Ct(t.toString(),t.getRangeAt(0))}})),document.addEventListener("selectionchange",function(t,e=0,{start:n=!1,middle:o=!1,once:r=!1}={}){return function(t,e=0,{start:n=!0,middle:o=!0,once:r=!1}={}){let i,s=0,a=!1;function c(...l){if(a)return;const u=Date.now()-s;s=Date.now(),n?(n=!1,t.apply(this,l),r&&c.cancel()):(o&&u<e||!o)&&(clearTimeout(i),i=setTimeout(()=>{s=Date.now(),t.apply(this,l),r&&c.cancel()},o?e-u:e))}return c.cancel=()=>{clearTimeout(i),a=!0},c}(t,e,{start:n,middle:o,once:r})}((function(){const t=window.getSelection();let e;try{e=t.getRangeAt(0)}catch(au){return void(ol=null)}ol={type:t.type,anchorNode:t.anchorNode,text:t.toString(),range:e}}),100)),document.addEventListener("toggle",(function(t){const e=t.target;if(!(e instanceof Element&&e.hasAttribute("open")))return;rl=ol;const n=e.querySelector(".js-comment-quote-reply.d-none");if(!n)return;const o=St(e);o&&(o.querySelector(".js-inline-comment-form-container")||At(o))&&n.classList.remove("d-none")}),{capture:!0}),bn("form[data-replace-remote-form]",(async function(t,e){t.classList.remove("is-error"),t.classList.add("is-loading");try{let n=t;const o=await e.html(),r=t.closest("[data-replace-remote-form-target]");if(r){const t=r.getAttribute("data-replace-remote-form-target");n=t?document.getElementById(t):r}n.replaceWith(o.html)}catch(n){t.classList.remove("is-loading"),t.classList.add("is-error")}}));let il=null;function sl(t,e){var n,o;const r=null!==(n=null==e?void 0:e.selector)&&void 0!==n?n:".js-session-resumable",i=`${null!==(o=null==e?void 0:e.keyPrefix)&&void 0!==o?o:"session-resume:"}${t}`,s=[];for(const l of document.querySelectorAll(r))(l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement)&&s.push(l);const a=s.filter(t=>function(t){return t.id&&t.value!==t.defaultValue&&t.form!==il}(t)).map(t=>[t.id,t.value]);if(a.length)try{sessionStorage.setItem(i,JSON.stringify(a))}catch(c){}}function al(t,e){var n;const o=`${null!==(n=null==e?void 0:e.keyPrefix)&&void 0!==n?n:"session-resume:"}${t}`;let r;try{r=sessionStorage.getItem(o)}catch(s){}if(!r)return;try{sessionStorage.removeItem(o)}catch(a){}const i=[];for(const[c,l]of JSON.parse(r)){const t=new CustomEvent("session:resume",{bubbles:!0,cancelable:!0,detail:{targetId:c,targetValue:l}});if(document.dispatchEvent(t)){const t=document.getElementById(c);t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&t.value===t.defaultValue&&(t.value=l,i.push(t))}}setTimeout((function(){for(const t of i)t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}),0)}function cl(t){const e=t||window.location,n=document.head&&document.head.querySelector("meta[name=session-resume-id]");return n instanceof HTMLMetaElement&&n.content||e.pathname}window.addEventListener("submit",(function(t){il=t.target,setTimeout((function(){t.defaultPrevented&&(il=null)}),0)}),{capture:!0}),window.addEventListener("pageshow",(function(){al(cl())})),window.addEventListener("pjax:end",(function(){al(cl())})),window.addEventListener("pagehide",(function(){sl(cl(),{selector:".js-session-resumable"})})),window.addEventListener("pjax:beforeReplace",(function(t){const e=t.detail.previousState,n=e?e.url:null;if(n)sl(cl(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const t=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout((function(){throw t}))}})),To("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:function(t){var e=null,n=!1,o=void 0,r=void 0,i=void 0;function s(e){if(o!==e.clientX||r!==e.clientY){var a=t.style.height;i&&i!==a&&(n=!0,t.style.maxHeight="",t.removeEventListener("mousemove",s)),i=a}o=e.clientX,r=e.clientY}var a=t.ownerDocument,c=a.documentElement;function l(){if(!(n||t.value===e||t.offsetWidth<=0&&t.offsetHeight<=0)){var o=function(){for(var e=0,n=t;n!==a.body&&null!==n;)e+=n.offsetTop||0,n=n.offsetParent;var o=e-a.defaultView.pageYOffset;return{top:o,bottom:c.clientHeight-(o+t.offsetHeight)}}(),r=o.top,s=o.bottom;if(!(r<0||s<0)){var l=Number(getComputedStyle(t).height.replace(/px/,""))+s;t.style.maxHeight=l-100+"px";var u=t.parentElement;if(u instanceof HTMLElement){var d=u.style.height;u.style.height=getComputedStyle(u).height,t.style.height="auto",t.style.height=t.scrollHeight+"px",u.style.height=d,i=t.style.height}e=t.value}}}function u(){n=!1,t.style.height="",t.style.maxHeight=""}t.addEventListener("mousemove",s),t.addEventListener("input",l),t.addEventListener("change",l);var d=t.form;return d&&d.addEventListener("reset",u),t.value&&l(),{unsubscribe:function(){t.removeEventListener("mousemove",s),t.removeEventListener("input",l),t.removeEventListener("change",l),d&&d.removeEventListener("reset",u)}}}}),bn(".js-social-form",(async function(t,e){const n=await e.json(),o=be(t,".js-social-container");for(const r of o.querySelectorAll(".js-social-count"))r.textContent=n.json.count}));let ll=0;const ul="IntersectionObserver"in window?new IntersectionObserver((function(t){for(const e of t)e.isIntersecting&&dl(e.target)}),{root:null,rootMargin:"0px",threshold:1}):null;function dl(t){t.classList.remove("js-unread-item","unread-item")}function fl(){if(document.querySelector(":target"))return;const t=function(t){try{return decodeURIComponent(t.slice(1))}catch(au){return""}}(location.hash).toLowerCase(),e=function(t,e){return""===e?null:t.getElementById(e)||t.getElementsByName(e)[0]}(document,`user-content-${t}`);e&&e.scrollIntoView()}function ml(t){ye(document,".js-gist-dropzone").classList.remove("d-none"),t.stopPropagation(),t.preventDefault()}function hl(t){const e=t.target;e instanceof Element&&e.classList.contains("js-gist-dropzone")&&e.classList.add("d-none")}function pl(t){!async function(t){const e=t.dataTransfer;if(e)for(const o of e.files){Nn({category:"Interaction",action:"File Drop",label:o.type});try{const e=await gl(o);t.target.dispatchEvent(new CustomEvent("gist:filedrop",{bubbles:!0,detail:e}))}catch(n){}}}(t),ye(document,".js-gist-dropzone").classList.add("d-none"),t.stopPropagation(),t.preventDefault()}function gl(t){return new Promise((function(e,n){const o=new FileReader;o.onload=function(){if("string"!=typeof o.result)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:65");const r=o.result;r&&!/\0/.test(r)?e({file:t,data:r}):n(new Error("invalid file"))},o.readAsText(t)}))}To(".js-unread-item",{constructor:HTMLElement,add(t){ll++,ul&&ul.observe(t)},remove(t){ll--,ul&&ul.unobserve(t),0===ll&&function(){if(!document.hasFocus())return;const t=document.querySelector(".js-timeline-marker-form");t&&t instanceof HTMLFormElement&&ua(t)}()}}),sn("socket:message",".js-discussion",(function(t){if(t.currentTarget===t.target)for(const e of document.querySelectorAll(".js-unread-item"))dl(e)})),window.addEventListener("hashchange",fl),document.addEventListener("pjax:success",fl),async function(){await Ae,fl()}(),sn("click","a[href]",(function(t){const{currentTarget:e}=t;e instanceof HTMLAnchorElement&&e.href===location.href&&location.hash.length>1&&setTimeout((function(){t.defaultPrevented||fl()}))})),To(".js-gist-dropzone",{add(){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:46");t.addEventListener("dragenter",ml),t.addEventListener("dragleave",hl),t.addEventListener("dragover",ml),t.addEventListener("drop",pl)},remove(){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.ts:54");t.removeEventListener("dragenter",ml),t.removeEventListener("dragleave",hl),t.removeEventListener("dragover",ml),t.removeEventListener("drop",pl)}});const vl=new WeakMap;function wl(t){const e=vl.get(t);e&&(null!=e.timer&&clearTimeout(e.timer),e.timer=window.setTimeout(()=>{null!=e.timer&&(e.timer=null),e.inputed=!1,e.listener.call(null,t)},e.wait))}function bl(t){const e=t.currentTarget,n=vl.get(e);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function yl(t){const e=t.currentTarget,n=vl.get(e);n&&(n.keypressed=!1,n.inputed&&wl(e))}function El(t){const e=t.currentTarget,n=vl.get(e);n&&(n.inputed=!0,n.keypressed||wl(e))}function Ll(t){const e=ye(t,".js-gist-files"),n=document.getElementById("js-gist-file-template");if(!n)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.ts:13");const o=document.createElement("div");o.innerHTML=n.textContent;for(const s of o.querySelectorAll("[id]"))s.removeAttribute("id");const r=o.querySelector(".js-code-textarea");null!=r&&r.setAttribute("id",`blob_contents_${Date.now()}`);for(const s of o.children)e.append(s);const i=e.lastElementChild;if(!i)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.ts:27");return i}function Tl(t){return Fi(be(t,".js-code-editor"))}function kl(t){return!(Ee(document,".js-must-verify-email",HTMLButtonElement).length>0)&&Ee(t,".js-code-textarea",HTMLTextAreaElement).some(t=>t.value.trim().length>0)}function jl(){for(const t of Ee(document,".js-gist-create",HTMLButtonElement)){const e=t.form;if(!e)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.ts:55");t.disabled=!kl(e)}}async function xl(t){const e=t.getAttribute("data-language-detection-url");if(!e)return;const n=new URL(e,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.append("filename",t.value),n.search=o.toString();const r=await async function(t,e){const n=Yo(t,e);n.headers.set("Accept","application/json");const o=await self.fetch(n);return Jo(o,new Go(o)),o.json()}(n.toString());(await Tl(t)).setMode(r.language)}function Sl(t){const e=t.querySelectorAll(".js-remove-gist-file");for(const n of e)n.classList.toggle("d-none",e.length<2)}function Al(t){let e=t;const n=e.ownerDocument;if(!n)return;if(!e.offsetParent)return;const o=n.defaultView.HTMLElement;if(e!==n.body){for(;e!==n.body;){if(!(e.parentElement instanceof o))return;e=e.parentElement;const{position:t,overflowY:n,overflowX:r}=getComputedStyle(e);if("fixed"===t||"auto"===n||"auto"===r||"scroll"===n||"scroll"===r)break}return e instanceof Document?null:e}}function Ml(t,e){let n=e;const o=t.ownerDocument;if(!o)return;if(!o.body)return;const r=o.documentElement;if(!r)return;if(t===r)return;const i=Cl(t,n);if(!i)return;n=i._container;const s=n===o.documentElement?{top:o.defaultView.pageYOffset,left:o.defaultView.pageXOffset}:{top:n.scrollTop,left:n.scrollLeft},a=i.top-s.top,c=i.left-s.left,l=n.clientHeight,u=n.clientWidth;return{top:a,left:c,bottom:l-(a+t.offsetHeight),right:u-(c+t.offsetWidth),height:l,width:u}}function Cl(t,e){let n=t;const o=n.ownerDocument;if(!o)return;const r=o.documentElement;if(!r)return;const i=o.body;if(!i)return;const s=o.defaultView.HTMLElement;let a=0,c=0;const l=n.offsetHeight,u=n.offsetWidth;for(;n!==o.body&&n!==e;){if(a+=n.offsetTop||0,c+=n.offsetLeft||0,!(n.offsetParent instanceof s))return;n=n.offsetParent}let d,f,m;if(e&&e!==o&&e!==o.defaultView&&e!==o.documentElement&&e!==o.body){if(!(e instanceof s))return;m=e,d=e.scrollHeight,f=e.scrollWidth}else m=r,d=function(t,e){return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight)}(i,r),f=function(t,e){return Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)}(i,r);return{top:a,left:c,bottom:d-(a+l),right:f-(c+u),_container:m}}function Hl(t,e){let n=t;const o=t.ownerDocument;if(!o||!o.defaultView)throw new Error("invariant: app/assets/modules/github/scrollto.ts:5");if(n!==o&&n!==o.defaultView&&n!==o.documentElement&&n!==o.body||(n=o),n instanceof o.defaultView.Document){const t=null!=e.top?e.top:o.defaultView.pageYOffset,n=null!=e.left?e.left:o.defaultView.pageXOffset;o.defaultView.scrollTo(n,t)}else{if(!(n instanceof o.defaultView.HTMLElement))throw new Error("invariant: container is not HTMLElement -- app/assets/modules/github/scrollto.ts:26");n.scrollTop=e.top,null!=e.left&&(n.scrollLeft=e.left)}}sn("change",".js-code-textarea",(function(){jl()})),Cr(".js-gist-filename",async t=>{const e=t;if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.ts:83");const n=be(t,".js-code-editor");await Tl(n),function(t,e,n={wait:null}){vl.set(t,{keypressed:!1,inputed:!1,timer:void 0,listener:e,wait:null!=n.wait?n.wait:100}),t.addEventListener("keydown",bl),t.addEventListener("keyup",yl),t.addEventListener("input",El)}(e,xl),t.addEventListener("blur",()=>function(t,e){t.removeEventListener("keydown",bl),t.removeEventListener("keyup",yl),t.removeEventListener("input",El);const n=vl.get(t);n&&(null!=n.timer&&n.listener===e&&clearTimeout(n.timer),vl.delete(t))}(e,xl),{once:!0})}),sn("click",".js-add-gist-file",(function(t){t.preventDefault(),Ll(be(t.currentTarget,".js-blob-form")).scrollIntoView()})),sn("gist:filedrop",".js-blob-form",(async function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.ts:95");const{file:e,data:n}=t.detail,o=function(t){for(const e of t.querySelectorAll(".js-gist-file")){const t=ye(e,".js-gist-filename",HTMLInputElement),n=ye(e,".js-blob-contents",HTMLTextAreaElement);if(!t.value&&!n.value)return e}return Ll(t)}(t.currentTarget),r=ye(o,".js-gist-filename",HTMLInputElement);r.value=e.name,xl(r),(await Tl(r)).setCode(n),o.scrollIntoView()})),sn("click",".js-remove-gist-file",(function(t){t.preventDefault();const e=be(t.currentTarget,".js-gist-file");for(const n of Ee(e,".js-gist-deleted input",HTMLInputElement))n.disabled=!1;ye(e,".js-code-editor").remove()})),To(".js-gist-create",jl),To(".js-remove-gist-file",(function(t){const e=be(t,".js-gist-files");return{add(){Sl(e)},remove(){Sl(e)}}}));const ql=navigator.userAgent.match(/Macintosh/),Il=ql?"metaKey":"ctrlKey",Dl=ql?"Meta":"Control";let Nl=!1,_l={x:0,y:0};function Ol(t){t instanceof MouseEvent&&(_l.x===t.clientX&&_l.y===t.clientY||(Nl=!1),_l={x:t.clientX,y:t.clientY})}function Pl(t){if(Nl)return;const e=t.currentTarget,{target:n}=t;if(!(n instanceof Element&&e instanceof HTMLElement&&e.closest(".js-active-navigation-container")))return;const o=n.closest(".js-navigation-item");o&&Jl(o,e)}To(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:t=>Vo(Wo(t,"mouseover",Ol),Wo(t,"mouseover",Pl))});let $l=0;function Rl(t){if(t.target!==document.body&&t.target instanceof HTMLElement&&!t.target.classList.contains("js-navigation-enable"))return;Nl=!0;const e=Yl();let n=!1;if(e){n=an(e.querySelector(".js-navigation-item.navigation-focus")||e,"navigation:keydown",{hotkey:_o(t),originalEvent:t,originalTarget:t.target})}n||t.preventDefault()}function Bl(t){const e=t.currentTarget;if(!(e instanceof Element))throw new Error("invariant: app/assets/modules/github/navigation.ts:325");an(e,"navigation:open",{modifierKey:t.modifierKey||t.altKey||t.ctrlKey||t.metaKey,shiftKey:t.shiftKey})||t.preventDefault()}function Fl(t){const e=Yl();t!==e&&(e&&Ul(e),t.classList.add("js-active-navigation-container"))}function Ul(t){t.classList.remove("js-active-navigation-container")}To(".js-active-navigation-container",{add(){$l++,1===$l&&document.addEventListener("keydown",Rl)},remove(){$l--,0===$l&&document.removeEventListener("keydown",Rl)}}),sn("navigation:keydown",".js-active-navigation-container",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.ts:184");const e=t.currentTarget;if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/navigation.ts:186");const n=t.detail.originalTarget.matches("input, textarea"),o=t.target;if(!(o instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/navigation.ts:189");if(o.classList.contains("js-navigation-item"))if(n){if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":Gl(o,e);break;case"Control+p":Kl(o,e)}switch(_o(t.detail.originalEvent)){case"ArrowUp":Kl(o,e);break;case"ArrowDown":Gl(o,e);break;case"Enter":case`${Dl}+Enter`:Xl(o,t.detail.originalEvent[Il])}}else{if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":Gl(o,e);break;case"Control+p":Kl(o,e);break;case"Alt+v":!function(t,e){const n=Zl(e);let o=n.indexOf(t);const r=Al(t);if(null==r)return;let i,s;for(;(i=n[o-1])&&(s=Ml(i,r))&&s.top>=0;)o--;if(i){if(Jl(i,e))return;tu(r,i)}}(o,e);break;case"Control+v":!function(t,e){const n=Zl(e);let o=n.indexOf(t);const r=Al(t);if(null==r)return;let i,s;for(;(i=n[o+1])&&(s=Ml(i,r))&&s.bottom>=0;)o++;if(i){if(Jl(i,e))return;tu(r,i)}}(o,e)}switch(_o(t.detail.originalEvent)){case"j":case"J":Gl(o,e);break;case"k":case"K":Kl(o,e);break;case"o":case"Enter":case`${Dl}+Enter`:Xl(o,t.detail[Il])}}else{const o=Zl(e)[0];if(o)if(n){if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":Jl(o,e)}switch(_o(t.detail.originalEvent)){case"ArrowDown":Jl(o,e)}}else{if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":case"Control+v":Jl(o,e)}switch(_o(t.detail.originalEvent)){case"j":Jl(o,e)}}}if(n){if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":case"Control+p":t.preventDefault()}switch(_o(t.detail.originalEvent)){case"ArrowUp":case"ArrowDown":t.preventDefault();break;case"Enter":t.preventDefault()}}else{if(ql)switch(_o(t.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":t.preventDefault()}switch(_o(t.detail.originalEvent)){case"j":case"k":t.preventDefault();break;case"o":case"Enter":case`${Il}+Enter`:t.preventDefault()}}})),sn("click",".js-active-navigation-container .js-navigation-item",(function(t){if(!(t instanceof MouseEvent))throw new Error("invariant: app/assets/modules/github/navigation.ts:339");Bl(t)})),sn("navigation:keyopen",".js-active-navigation-container .js-navigation-item",(function(t){if(!(t instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.ts:344");const e=t.currentTarget.classList.contains("js-navigation-open")?t.currentTarget:t.currentTarget.querySelector(".js-navigation-open");if(e instanceof HTMLAnchorElement){if(t.detail.modifierKey)window.open(e.href,"_blank"),window.focus();else{e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&e.click()}t.preventDefault()}else Bl(t)}));const Wl=[];function Vl(t){Ul(t),zl(t);const e=Wl.pop();e&&Fl(e)}function zl(t){const e=t.querySelectorAll(".js-navigation-item.navigation-focus");for(const n of e)n.classList.remove("navigation-focus")}function Kl(t,e){const n=Zl(e),o=n.indexOf(t),r=n[o-1];if(r){if(Jl(r,e))return;const t=Al(r);if(!t)throw new Error("invariant: app/assets/modules/github/navigation.ts:438");"page"===Ql(e)?tu(t,r):eu(t,r)}}function Gl(t,e){const n=Zl(e),o=n.indexOf(t),r=n[o+1];if(r){if(Jl(r,e))return;const t=Al(r);if(!t)throw new Error("invariant: app/assets/modules/github/navigation.ts:458");"page"===Ql(e)?tu(t,r):eu(t,r)}}function Xl(t,e=!1){an(t,"navigation:keyopen",{modifierKey:e})}function Jl(t,e){return!an(t,"navigation:focus")||(zl(e),t.classList.add("navigation-focus"),!1)}function Yl(){return document.querySelector(".js-active-navigation-container")}function Zl(t){const e=[];for(const n of t.querySelectorAll(".js-navigation-item"))n instanceof HTMLElement&&zi(n)&&e.push(n);return e}function Ql(t){return t.getAttribute("data-navigation-scroll")||"item"}function tu(t,e,n="smooth"){const o=Ml(e,t);o&&(o.bottom<=0?e.scrollIntoView({behavior:n,block:"start"}):o.top<=0&&e.scrollIntoView({behavior:n,block:"end"}))}function eu(t,e){const n=Cl(e,t),o=Ml(e,t);if(null!=n&&null!=o)if(o.bottom<=0&&document.body){Hl(t,{top:(null!=t.offsetParent?t.scrollHeight:document.body.scrollHeight)-(n.bottom+o.height)})}else o.top<=0&&Hl(t,{top:n.top})}const nu=new Ec;Cr(".js-quicksearch-field",(function(t){!function(t){const e=Yl();e&&Wl.push(e),Fl(t)}(ye(t.form,".js-quicksearch-results"))})),qr(".js-quicksearch-field",(async function(t){const e=t.target,n=e.value.replace(/^\s+|\s+$/g,""),o=be(e,"form"),r=ye(o,".js-quicksearch-results"),i=Te(r,"data-quicksearch-url");let s,a;if(n.length){const t=new URL(i,window.location.origin),e=new URLSearchParams(t.search.slice(1));e.append("q",n),t.search=e.toString(),o.classList.add("is-sending"),s=Qo(t.toString())}else s=Promise.resolve("");try{a=await nu.push(s)}finally{a&&(r.innerHTML=a),r.classList.toggle("active",""!==n),o.classList.remove("is-sending")}})),sn("navigation:keydown",".js-quicksearch-results",(function(t){const e=t,n=e.target,o=be(n,"form",HTMLFormElement);if("Escape"===e.detail.hotkey){const t=ye(o,".js-quicksearch-results");t.classList.remove("active"),zl(t)}else"Enter"!==e.detail.hotkey||n.classList.contains("js-navigation-item")||(ua(o),e.preventDefault())})),sn("submit",".js-quicksearch-form",(function(t){const e=t.currentTarget.querySelector(".js-quicksearch-results");e&&(e.classList.remove("active"),Vl(e))})),sn("focusout:delay",".js-quicksearch-field",(function(t){const e=be(t.currentTarget,"form",HTMLFormElement).querySelector(".js-quicksearch-results");e&&(e.classList.remove("active"),Vl(e))})),bn(".js-gist-file-update-container .js-comment-update",(async function(t,e){let n;try{n=await e.json()}catch(o){return}if(t.action=n.json.url,n.json.authenticity_token){ye(t,"input[name=authenticity_token]",HTMLInputElement).value=n.json.authenticity_token}}));const ou=["notification_referrer_id","notifications_before","notifications_after","notifications_query"];function ru(t,e=null){return t.has("notification_referrer_id")?(function(t,e){const n=iu(e);if(!n)return;const o={pathname:n};for(const r of ou){const e=t.get(r);e&&(o[r]=e)}Mn("notification_shelf",JSON.stringify(o))}(t,e),function(t){for(const e of ou)t.delete(e);return t}(t)):null}function iu(t){const e=(t=t||window.location.pathname).match(/^(\/[^/]+\/[^/]+\/pull\/[^/]+)/);return e?e[0]:null}async function su(t){try{await t.text()}catch(e){}}sn("socket:message",".js-notification-indicator",(function(t){const e=t.currentTarget,n=t.detail.data;e.setAttribute("aria-label",n.aria_label),e.setAttribute("data-ga-click",n.ga_click),(e.querySelector(".js-indicator-modifier")||ye(e,"span")).setAttribute("class",n.span_class)})),async function(){bn(".js-notification-shelf .js-notification-action form",(async function(t,e){if(t.hasAttribute("data-redirect-to-inbox-on-submit")){await su(e);const t=ye(document,".js-notifications-back-to-inbox",HTMLAnchorElement);t&&t.click()}else!function(t,e){const n=be(t,"[data-notification-id]");e.hasAttribute("data-status")&&function(t,e){t.classList.toggle("notification-archived","archived"===e),t.classList.toggle("notification-unread","unread"===e),t.classList.toggle("notification-read","read"===e)}(n,Te(e,"data-status")),e.hasAttribute("data-subscription-status")&&function(t,e){t.classList.toggle("notification-unsubscribed","unsubscribed"===e)}(n,Te(e,"data-subscription-status")),e.hasAttribute("data-starred-status")&&function(t,e){t.classList.toggle("notification-starred","starred"===e)}(n,Te(e,"data-starred-status"))}(t,t),await su(e)}))}(),function(){const t=function(){const t=ru(new URLSearchParams(window.location.search));if(t){const e=new URL(window.location.href,window.location.origin);return e.search=t.toString(),e.toString()}}();t&&Sn(null,"",t)}(),To(".js-notification-shelf-include-fragment",(function(t){if(!(t instanceof IncludeFragmentElement))return;const e=function(t=null){const e=iu(t);if(!e)return Cn("notification_shelf"),null;try{const t=An("notification_shelf");if(!t)return null;const n=JSON.parse(t);if(!n||!n.pathname)throw new Error("Must have a pathname");if(n.pathname!==e)throw new Error("Stored pathname does not match current pathname.");const o={};for(const e of ou)o[e]=n[e];return o}catch(n){return Cn("notification_shelf"),null}}();if(!e)return;const n=t.getAttribute("data-base-src");if(!n)return;const o=new URL(n,window.location.origin),r=new URLSearchParams(o.search);for(const[i,s]of Object.entries(e))"string"==typeof s&&r.set(i,s);o.search=r.toString(),t.setAttribute("src",o.toString())}))}();
//# sourceMappingURL=gist-bootstrap-85f023ea.js.map
